{"version":3,"file":"script.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEiC;AACkB;AACX;AACmF;AACtF;AACa;AACsF;AAUjH;AAWH;AAmCS;AACkC;AACF;AACf;AAG9C2E,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE5E,+CAAU,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;AAI5E,MAAM8E,QAAQ,GAAG5E,qDAAa,GAAG,CAAC,CAAC,CAAC;AACpCA,oDAAY,GAAG,IAAI,EAAC;AACpBA,qDAAa,GAAG,GAAG,EAAC;AACb,IAAI+E,WAAW,GAAGC,MAAM,CAACC,qBAAqB,IACnCD,MAAM,CAACE,2BAA2B,IAClCF,MAAM,CAACG,wBAAwB,IAC/BH,MAAM,CAACI,sBAAsB,IAC7BJ,MAAM,CAACK,uBAAuB,IAC9B,UAASC,QAAQ,EAAE;EAAEN,MAAM,CAACO,UAAU,CAACD,QAAQ,EAAE,IAAI,GAAG,EAAE,CAAC;AAAE,CAAC;AAEhFN,MAAM,CAACN,gBAAgB,CAAC,SAAS,EAAGc,CAAC,IAAKpF,qDAAU,CAACoF,CAAC,EAAExF,8CAAM,CAAC,CAAC;AAKhE,IAAIyF,6BAA6B,GAAG,EAAE;AAC/B,IAAIC,YAAY,GAAG,IAAI;AACvB,IAAIC,YAAY,GAAG,IAAI;AACvB,IAAIC,0BAA0B,GAAG,IAAI;AACrC,IAAIC,aAAa,GAAG,KAAK;;AAEhC;;AAGA,MAAMC,iBAAiB,GAAC,iDAAiD;AACzE,IAAIC,cAAc;AAClB,MAAMC,UAAU,GAAC,yBAAyB;;AAW1C;;AAEO,IAAIC,kBAAkB,GAAG,CAC9B,IAAI1B,uEAAkB,CAAC,CAAC,EAAE,CAAC,EAAErE,sDAAW,CAAC0C,qDAAa,EAAE5C,oDAAY,EAAEA,qDAAa,CAAC,CAAC,CACtF;AAGM,IAAIkG,KAAK,GAAG,CAAC;AACpB,SAASC,YAAYA,CAACC,GAAG,EAAE;EACzB,OAAOF,KAAK,IAAIG,MAAM,CAACjC,IAAI,CAACgC,GAAG,CAAC,CAACE,MAAM,GAAGJ,KAAK,GAAG,EAAEA,KAAK;AAC1D;AAEM,IAAIK,SAAS,GAAG,EAAE;EACdC,QAAQ;EACRC,gBAAgB;EAChBC,MAAM;AAGjBlC,4DAAe,CAAE,2BAA0B0B,KAAM,OAAM,EAAES,WAAW,EAAE5G,4DAAiB,EAAE6G,YAAY,EAAEjC,IAAI,EAAEkC,OAAO,CAAC;AAGrH,SAASF,WAAWA,CAACG,KAAK,EAAE;EAC1BN,QAAQ,GAAGM,KAAK;EAChBC,OAAO,CAACC,GAAG,CAACR,QAAQ,CAAC;EACrB,OAAOA,QAAQ;AACjB;AAEA,SAASI,YAAYA,CAACJ,QAAQ,EAAED,SAAS,EAAE;EACzCC,QAAQ,CAACS,GAAG,CAACC,OAAO,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAK;IACrCD,GAAG,CAACD,OAAO,CAAC,CAACG,IAAI,EAAEC,OAAO,KAAK;MAC/B,IAAID,IAAI,KAAK,IAAI,EAAE;QACjBX,MAAM,GAAG,IAAInG,8CAAM,CAAC;UAAEgG;QAAU,CAAC,EAAEe,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAEZ,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC;MAC3G;IACA,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOf,MAAM;AACf;AAIO,IAAIgB,SAAS,GAAG,IAAI;;AAE3B;AACA,MAAMC,IAAI,GAAGlD,QAAQ,CAACmD,cAAc,CAAC,SAAS,CAAC;AACxC,SAASC,sBAAsBA,CAAA,EAAG;EACvC,MAAMC,gBAAgB,GAAGH,IAAI,CAACI,aAAa,CAAC,aAAa,CAAC;EAC1D,MAAMC,gBAAgB,GAAGL,IAAI,CAACI,aAAa,CAAC,aAAa,CAAC;EAC1D,IAAID,gBAAgB,IAAIE,gBAAgB,EAAE;IACxCF,gBAAgB,CAACpD,gBAAgB,CAAC,QAAQ,EAAE,MAAM;MAChD,KAAK,IAAIuD,KAAK,IAAIxH,iDAAK,EAAE;QACvB,IAAIA,iDAAK,GAAGwH,KAAK,CAAC,GAAGvH,kDAAM,CAAC,IACtBuH,KAAK,IAAI,SAAS,IAClBA,KAAK,IAAI,SAAS,IAClBA,KAAK,IAAI,SAAS,IAClBA,KAAK,IAAI,SAAU,EAAE;UACzBxH,iDAAK,CAACwH,KAAK,CAAC,CAACvH,kDAAM,CAAC,CAACwH,MAAM,GAAGJ,gBAAgB,CAAChB,KAAK;QACtD;MACF;MACAzG,0DAAe,CAACyH,gBAAgB,CAAChB,KAAK,EAAEkB,gBAAgB,CAAClB,KAAK,CAAC;IACjE,CAAC,CAAC;IACFkB,gBAAgB,CAACtD,gBAAgB,CAAC,QAAQ,EAAE,MAAM;MAChD,KAAK,IAAIuD,KAAK,IAAIxH,iDAAK,EAAE;QACvB,IAAIA,iDAAK,GAAGwH,KAAK,CAAC,GAAGvH,kDAAM,CAAC,KACtBuH,KAAK,KAAK,SAAS,IACnBA,KAAK,KAAK,SAAS,IACnBA,KAAK,KAAK,SAAS,IACnBA,KAAK,KAAK,SAAS,CAAC,EAAE;UAC1BxH,iDAAK,CAACwH,KAAK,CAAC,CAACvH,kDAAM,CAAC,CAACwH,MAAM,GAAGF,gBAAgB,CAAClB,KAAK;QACtD;MACF;MACAzG,0DAAe,CAACyH,gBAAgB,CAAChB,KAAK,EAAEkB,gBAAgB,CAAClB,KAAK,CAAC;IACjE,CAAC,CAAC;EACJ;AACF;AACAa,IAAI,IAAI3C,MAAM,CAACN,gBAAgB,CAAC,MAAM,EAAEmD,sBAAsB,CAAC;AAC/DF,IAAI,IAAI3C,MAAM,CAACN,gBAAgB,CAAC,YAAY,EAAEmD,sBAAsB,CAAC;AAsBrEpD,QAAQ,CAACmD,cAAc,CAAC,UAAU,CAAC,CAAClD,gBAAgB,CAAC,OAAO,EAAE1D,qDAAS,CAAC;AAKxE,IAAImH,KAAK,GAAGvH,8DAAc,CAACH,iDAAK,CAAC;AACjC0H,KAAK,CAACC,KAAK,CAAC,CAAC;AACbD,KAAK,GAAGvH,8DAAc,CAACH,iDAAK,CAAC;AAE5B,IAAI4H,eAAe,GAAG,KAAK;AAC3B,SAASC,SAASA,CAAC9C,CAAC,EAAE;EACrB,IAAIA,CAAC,CAAC+C,MAAM,CAACC,OAAO,CAAC,aAAa,CAAC,EAAE;IACnC,IAAI,CAACH,eAAe,EAAE;MACpBF,KAAK,CAACM,IAAI,CAAC,CAAC;IACd;IACAJ,eAAe,GAAG,IAAI;EACxB;AACD;AACDrD,MAAM,CAACN,gBAAgB,CAAC,OAAO,EAAE4D,SAAS,CAAC;AAO3CH,KAAK,CAACO,OAAO,GAAG,YAAW;EACzB7H,6DAAa,CAACsH,KAAK,EAAE1H,iDAAK,CAAC;AAC7B,CAAC;AAGD,SAASkI,cAAcA,CAAA,EAAG;EACxB1C,kBAAkB,GAAG,CAAC,IAAI1B,uEAAkB,CAAC,CAAC,EAAE,CAAC,EAAErE,sDAAW,CAAC0C,qDAAa,EAAE5C,oDAAY,EAAEA,qDAAa,CAAC,CAAC,CAC1G;EACCuG,SAAS,CAACW,OAAO,CAAC0B,QAAQ,IAAI;IAC3BA,QAAQ,CAACC,IAAI,KAAK,SAAS,IAAKD,QAAQ,CAACE,OAAO,CAAC,CAAC;EACrD,CAAC,CAAC;EACFtC,QAAQ,CAACS,GAAG,CAACC,OAAO,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAK;IACrCD,GAAG,CAACD,OAAO,CAAC,CAACG,IAAI,EAAEC,OAAO,KAAK;MAC9BD,IAAI,KAAK,IAAI,KAAKX,MAAM,GAAG,IAAInG,8CAAM,CAAC;QAAEgG;MAAU,CAAC,EAAEe,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAEZ,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;IAC7H,CAAC,CAAC;EACJ,CAAC,CAAC;AACN;AAEA,IAAIsB,YAAY,GAAG7I,sDAAW,CAAC2C,2CAAG,CAAC;AACnCkG,YAAY,CAACjE,KAAK,GAAG9E,oDAAY;AACjC+I,YAAY,CAAClE,MAAM,GAAG7E,qDAAa;AAE5B,SAAS2E,IAAIA,CAAA,EAAG;EACrBxE,6EAAkC,CAAC,CAAC;EACpCuH,SAAS,GAAG,KAAK;EACjBhB,MAAM,CAACsC,QAAQ,CAACC,CAAC,GAAG,CAAC;EACrBvC,MAAM,CAACwC,KAAK,GAAG,IAAI;EACnB9E,6DAAuB,GAAG,CAAC;EAE3B,IAAIsC,MAAM,CAACb,aAAa,EAAE;IACxB5F,8CAAM,CAAC,CAAC;IACRA,mDAAW,GAAG,oBAAoB;IAClCA,kDAAU,CAAC,CAAC,EAAE,CAAC,EAAED,oDAAY,EAAEA,qDAAa,EAAEA,oDAAY,GAAG,CAAC,EAAEA,qDAAa,GAAG,CAAC,CAAC;IAClFC,mDAAW,CAAC8I,YAAY,EAAE,CAAC,EAAE,CAAC,EAAE/I,oDAAY,EAAEA,qDAAa,CAAC;IAE5DC,mDAAW,GAAG,mBAAmB;IACjCA,8CAAM,GAAI,UAAS2E,QAAS,cAAa;IACzC3E,sDAAc,GAAG,QAAQ;IACzBA,mDAAW,GAAG,QAAQ;IACtBD,kEAA0B,GAAI,GAAE4E,QAAQ,GAAG,EAAG,IAAG;IACjD3E,kDAAU,CAAC,YAAY,EAAED,oDAAY,GAAG,CAAC,EAAEA,qDAAa,GAAG,CAAC,CAAC;IAC7DC,iDAAS,CAAC,CAAC;IACXsF,UAAU,CAAC,MAAMoD,cAAc,CAAC,CAAC,EAAE,IAAI,CAAC;IACxCjC,MAAM,CAACb,aAAa,GAAG,KAAK;EAC9B,CAAC,MAAM;IACL8C,cAAc,CAAC,CAAC;EACpB;EACA,OAAOjC,MAAM;AACb;AAGA,SAASG,OAAOA,CAAA,EAAG;EACjB9B,WAAW,CAAC8B,OAAO,CAAC;EACpBE,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EAChCf,kBAAkB,CAACiB,OAAO,CAAC4C,OAAO,IAAIA,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC;EAErDxD,SAAS,CAACW,OAAO,CAAC0B,QAAQ,IAAIA,QAAQ,CAACmB,IAAI,CAAC,CAAC,CAAC;EAC9CxD,SAAS,CAACW,OAAO,CAAC0B,QAAQ,IAAIA,QAAQ,CAACoB,MAAM,CAAC,CAAC,CAAC;EAChDzD,SAAS,CAACW,OAAO,CAAC0B,QAAQ,IAAI;IAC5B,CAACA,QAAQ,CAACC,IAAI,KAAK,kBAAkB,IAAID,QAAQ,CAACC,IAAI,KAAK,oBAAoB,KAAKD,QAAQ,CAACqB,MAAM,CAAC,CAAC;IAEvG,IAAIrB,QAAQ,CAACC,IAAI,KAAK,aAAa,IAC/BD,QAAQ,CAACC,IAAI,KAAK,aAAa,IAC/BD,QAAQ,CAACC,IAAI,KAAK,eAAe,IACjCD,QAAQ,CAACC,IAAI,KAAK,gBAAgB,IAClCD,QAAQ,CAACC,IAAI,KAAK,kBAAkB,IACpCD,QAAQ,CAACC,IAAI,KAAK,mBAAmB,IACrCD,QAAQ,CAACC,IAAI,KAAK,gBAAgB,IAClCD,QAAQ,CAACC,IAAI,KAAK,kBAAkB,EAAE;MACpCD,QAAQ,CAACsB,SAAS,CAAC,CAAC;IAC1B;IAEA,IAAItB,QAAQ,CAACC,IAAI,KAAK,kBAAkB,IACpCD,QAAQ,CAACC,IAAI,KAAK,mBAAmB,IACrCD,QAAQ,CAACC,IAAI,KAAK,gBAAgB,IAClCD,QAAQ,CAACC,IAAI,KAAK,kBAAkB,EAAE;MACpCD,QAAQ,CAACuB,KAAK,CAAC,CAAC;IACtB;EACA,CAAC,CAAC;EAEF1E,6BAA6B,GAAGc,SAAS,CAAC6D,MAAM,CAACxB,QAAQ,IAAI;IAC3D,OAAQA,QAAQ,CAACpB,IAAI,IAAId,MAAM,CAACc,IAAI,IACjCoB,QAAQ,CAACnB,GAAG,IAAIf,MAAM,CAACe,GAAG,IAC3BmB,QAAQ,CAACyB,MAAM,IAAI3D,MAAM,CAAC2D,MAAO;EAErC,CAAC,CAAC;EACFzE,0BAA0B,GAAGH,6BAA6B,CAACA,6BAA6B,CAACa,MAAM,GAAG,CAAC,CAAC;EACpGI,MAAM,CAACsD,MAAM,CAAC,CAAC;EAEf,IAAI5F,wDAAkB,IAAKsC,MAAM,CAAC8D,QAAQ,CAACC,CAAC,GAAG/D,MAAM,CAAC5B,KAAK,IAAK9E,oDAAY,EAAE;IAAE;IAC9E0G,MAAM,CAACsC,QAAQ,CAACyB,CAAC,GAAG,CAAC;EACvB,CAAC,MAAM,IAAIrG,uDAAiB,IAAIsC,MAAM,CAAC8D,QAAQ,CAACC,CAAC,IAAI,CAAC,EAAE;IAAE;IACxD/D,MAAM,CAACsC,QAAQ,CAACyB,CAAC,GAAG,CAAC,CAAC;EACxB,CAAC,MAAM;IACL/D,MAAM,CAACsC,QAAQ,CAACyB,CAAC,GAAG,CAAC;EACvB;EAEA,IAAI/D,MAAM,CAACsC,QAAQ,CAACC,CAAC,IAAIvC,MAAM,CAACgE,UAAU,GAAGhE,MAAM,CAACiE,OAAO,IAAI,CAACvG,wDAAkB,IAAI,CAACA,uDAAiB,IAAIA,sDAAgB,KAAK,OAAO,EAAE;IAAE;IAC1IsC,MAAM,CAACmE,aAAa,GAAGnE,MAAM,CAACoE,OAAO,CAACC,IAAI,CAACT,KAAK;EAClD,CAAC,MAAM,IAAI5D,MAAM,CAACsC,QAAQ,CAACC,CAAC,IAAIvC,MAAM,CAACgE,UAAU,GAAGhE,MAAM,CAACiE,OAAO,IAAI,CAACvG,wDAAkB,IAAI,CAACA,uDAAiB,IAAIA,sDAAgB,KAAK,MAAM,EAAE;IAAE;IAChJsC,MAAM,CAACmE,aAAa,GAAGnE,MAAM,CAACoE,OAAO,CAACC,IAAI,CAACvD,IAAI;EACjD;;EAEA;EACA,IAAId,MAAM,CAAC8D,QAAQ,CAACvB,CAAC,GAAGjJ,qDAAa,EAAE;IACrCW,gEAAgB,CAACF,iEAAqB,CAAC;IACvC2D,2DAAqB,GAAG,CAACA,2DAAqB;IAC9CO,IAAI,CAAC,CAAC;EACR;AACF;AACA;AACA;;AAEAK,MAAM,CAACN,gBAAgB,CAAC,SAAS,EAAEL,oDAAc,CAAC;AAClDW,MAAM,CAACN,gBAAgB,CAAC,OAAO,EAAEJ,kDAAY,CAAC;;;;;;;;;;;;;;;;;AC3VT;AACC;AAuCpB;AACX,MAAMC,kBAAkB,CAAC;EAC9B+G,WAAWA,CAAEC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAE;IAC9B,IAAI,CAACjB,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI;MACPtC,CAAC,EAAEuC;IACL,CAAC;IACD,IAAI,CAACV,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAAC0C,kDAAa,EAAE5C,iDAAY,EAAEA,kDAAa;IAC9D,CAAC;IACD,IAAI,CAAC6K,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAAClC,IAAI,GAAG,aAAa;IACzB,IAAI,CAAC4C,KAAK,GAAGA,KAAK;IAClB,IAAI,CAAC3G,KAAK,GAAG2G,KAAK,CAAC3G,KAAK;IACxB,IAAI,CAACD,MAAM,GAAG4G,KAAK,CAAC5G,MAAM;EAC5B;EACAkF,IAAIA,CAAA,EAAG;IACL,IAAI,CAAC,IAAI,CAACc,aAAa,CAACa,MAAM,EAAE;IAChCzL,gDAAW,CAAC,IAAI,CAAC4K,aAAa,EAAE,IAAI,CAACL,QAAQ,CAACC,CAAC,EAAE,IAAI,CAACD,QAAQ,CAACvB,CAAC,EAAEjJ,iDAAY,EAAEA,kDAAa,CAAC;EAChG;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DmE;AACX;AACD;AACD;AACD;AACG;AACD;AACC;AACD;AACG;AACS;AACT;AACW;AACI;AACmB;AACzB;AACiB;AACnB;AACA;AACI;AACa;AACA;AACI;AAC5B;AACF;AACA;AACZ;AACA;AACc;AACU;AACW;AACR;AACE;AACN;AACI;AACZ;AACI;AACA;AACE;AAEjB;AACC;AACC;AACA;AACA;AACA;AACN;AACA;AACG;AACQ;AACN;AACE;AACA;AACF;;;;;;;;;;;;;;;;ACrDjD,MAAMA,MAAM,GAAGyE,QAAQ,CAACmD,cAAc,CAAC,QAAQ,CAAC;AAChD,MAAM3H,CAAC,GAAGD,MAAM,CAAC0M,UAAU,CAAC,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACDI;AACkB;AAcnC;AAYH;AAmCC;AAC4B;AACZ;AAE3B,SAAS3M,iBAAiBA,CAACyG,QAAQ,EAAED,SAAS,EAAE;EACrDC,QAAQ,CAACS,GAAG,CAACC,OAAO,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAK;IACrCD,GAAG,CAACD,OAAO,CAAC,CAACG,IAAI,EAAEC,OAAO,KAAK;MAC7B,QAAOD,IAAI;QACT,KAAK,IAAI;UAAE;UACTd,SAAS,CAACwG,IAAI,CAAC,IAAIzL,kDAAW,CAACgG,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACiD,gDAAW,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEoD,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACjJ;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAIxL,kDAAW,CAAC+F,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACkD,gDAAW,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEmD,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACjJ;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAIvL,oDAAa,CAAC8F,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACmD,kDAAa,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEkD,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACrJ;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAI7L,8CAAO,CAACoG,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC6C,oDAAe,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEwD,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACjJ;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAI9L,+CAAQ;UAAE;UAC3BqG,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC4C,kDAAa,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEyD,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACtH;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAI3L,uDAAgB,CAACkG,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC+C,iDAAY,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEsD,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACvJ;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAI1L,yDAAkB,CAACiG,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC+C,iDAAY,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEsD,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACzJ;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAIrL,kDAAc,CAAC4F,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACyD,0CAAK,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE4C,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UAC9I;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAIpL,uCAAG,CAAC2F,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACuD,wCAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE8C,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACjI;QACJ,KAAK,IAAI;UAAE;UACTlB,SAAS,CAACwG,IAAI,CAAC,IAAItL,iDAAU,CAC3B6F,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC0D,mDAAc,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE2C,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACvH;QACJ,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAInL,oDAAgB,CACjC0F,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC4D,qDAAgB,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEyC,SAAS,EAAE,IAAIvE,oDAAgB,CAAC,CAAC,EAAEwE,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACjJ;QACF,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAIlL,qDAAiB,CAClCyF,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC6D,sDAAiB,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEwC,SAAS,EAAE,IAAIvE,oDAAgB,CAAC,CAAC,EAAEwE,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UAClJ;QACF,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAIjL,kDAAc,CAC/BwF,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC8D,mDAAc,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEuC,SAAS,EAAE,IAAIvE,oDAAgB,CAAC,CAAC,EAAEwE,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UAC/I;QACF,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAIhL,oDAAgB,CACjCuF,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC+D,qDAAgB,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEsC,SAAS,EAAE,IAAIvE,oDAAgB,CAAC,CAAC,EAAEwE,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACjJ;QACF,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAI5L,0CAAG,CACpBmG,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAAC+D,qDAAgB,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEsC,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UACzH;QACF,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAIJ,8CAAO,CACxBrF,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACgE,4CAAO,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEqC,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UAChH;QACF,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAIH,8CAAO,CACxBtF,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACiE,4CAAO,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEoC,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UAChH;QACF,KAAK,IAAI;UAAE;UACXlB,SAAS,CAACwG,IAAI,CAAC,IAAIF,6CAAM,CACvBvF,OAAO,GAAG,EAAE,EAAEF,OAAO,GAAG,EAAE,EAAElH,mDAAW,CAACiE,4CAAO,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEoC,SAAS,EAAEC,QAAQ,CAACe,MAAM,CAACC,IAAI,EAAEhB,QAAQ,CAACe,MAAM,CAACE,GAAG,CAAC,CAAC;UAChH;MACJ;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOjB,QAAQ;AACjB;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACtNkC;AACG;AACQ;AACb;AACuB;AAIvD,MAAMpC,IAAI,GAAG;EACXkG,KAAK,EAAE;IACLC,OAAO,EAAE;EACX,CAAC;EACD/C,IAAI,EAAE;IACJ+C,OAAO,EAAE;EACX,CAAC;EACD4C,EAAE,EAAE;IACF5C,OAAO,EAAE;EACX,CAAC;EACD6C,KAAK,EAAE;IACL7C,OAAO,EAAE;EACX,CAAC;EACDK,WAAW,EAAE,OAAO;EACpBK,gBAAgB,EAAE,IAAI;EACtBoC,QAAQ,EAAE,KAAK;EACflE,kBAAkB,EAAE,CAAC;EAAE;EACvBvF,cAAc,EAAE;AAClB,CAAC;AAC+C;;AAEhD,MAAMS,cAAc,GAAImB,CAAC,IAAK;EAC5BuB,OAAO,CAACC,GAAG,CAACxB,CAAC,CAAC8H,IAAI,CAAC;EACnB,IAAI9H,CAAC,CAAC+H,MAAM,IAAI,KAAK,EAAE;IACrB,QAAQ/H,CAAC,CAAC8H,IAAI;MACZ,KAAK,SAAS;QACZlJ,IAAI,CAAC+I,EAAE,CAAC5C,OAAO,GAAG,IAAI;QACtB,IAAI7D,qDAAiB,IAAI,CAAC,IAAIA,qDAAiB,IAAI,CAAC,GAAG,EAAE;UAAE;UACzDtC,IAAI,CAAC6G,gBAAgB,GAAG7G,IAAI,CAAC6G,gBAAgB,GAAG,KAAK,GAAG7G,IAAI,CAAC6G,gBAAgB,GAAG,IAAI;UACpFtK,6DAAgB,CAACF,mDAAU,CAAC;QAC9B;QACA,IAAIiG,qDAAiB,KAAK,CAAC,IAAItC,IAAI,CAACwG,WAAW,KAAK,OAAO,EAAE;UAAE;UAC7DlE,qDAAiB,IAAIA,qDAAiB,CAAC,CAAC;UACxCA,wDAAoB,GAAGA,6DAAyB;QAClD,CAAC,MAAM,IAAIA,qDAAiB,KAAK,CAAC,IAAItC,IAAI,CAACwG,WAAW,KAAK,MAAM,EAAE;UAAE;UACnElE,qDAAiB,IAAIA,qDAAiB,CAAC,CAAC;UACxCA,wDAAoB,GAAGA,4DAAwB;QACjD;QACA;MAEF,KAAK,OAAO;QAAE;UACZtC,IAAI,CAACgJ,KAAK,CAAC7C,OAAO,GAAG,IAAI;UACzB,CAACnG,IAAI,CAACR,cAAc,IAAIQ,IAAI,CAAC+E,kBAAkB,EAAE;QACnD;QACE;MAEF,KAAK,YAAY;QAAE;UACjB/E,IAAI,CAACkG,KAAK,CAACC,OAAO,GAAG,IAAI;UACzBnG,IAAI,CAACwG,WAAW,GAAG,OAAO;UAC1BlE,wDAAoB,GAAGA,4DAAwB;QACjD;QACE;MACF,KAAK,WAAW;QAAE;UAChBtC,IAAI,CAACoD,IAAI,CAAC+C,OAAO,GAAG,IAAI;UACxBnG,IAAI,CAACwG,WAAW,GAAG,MAAM;UACzBlE,wDAAoB,GAAGA,2DAAuB;QAChD;QACE;IACJ;EACF;AACF,CAAC;AAED,MAAMpC,YAAY,GAAIkB,CAAC,IAAK;EAC1B,IAAIA,CAAC,CAAC+H,MAAM,IAAI,KAAK,EAAE;IACrB,QAAQ/H,CAAC,CAAC8H,IAAI;MACZ,KAAK,SAAS;QACZ;QACAlJ,IAAI,CAAC+I,EAAE,CAAC5C,OAAO,GAAG,KAAK;QACvB;QACA,IAAI7D,qDAAiB,KAAK,CAAC,IAAItC,IAAI,CAACwG,WAAW,KAAK,OAAO,EAAE;UAC3DlE,wDAAoB,GAAGA,6DAAyB;QAClD,CAAC,MAAM,IAAIA,qDAAiB,KAAK,CAAC,IAAItC,IAAI,CAACwG,WAAW,KAAK,MAAM,EAAE;UACjElE,wDAAoB,GAAGA,4DAAwB;QACjD;QACA;MACF;MACA;MACA,KAAK,YAAY;QAAE;UACjBtC,IAAI,CAACkG,KAAK,CAACC,OAAO,GAAG,KAAK;UAC1B7D,wDAAoB,GAAGA,6DAAyB;QAClD;QACE;MACF,KAAK,WAAW;QAAE;UAChBtC,IAAI,CAACoD,IAAI,CAAC+C,OAAO,GAAG,KAAK;UACzB7D,wDAAoB,GAAGA,4DAAwB;QACjD;QACE;MACF,KAAK,OAAO;QAAE;UACZtC,IAAI,CAACgJ,KAAK,CAAC7C,OAAO,GAAG,KAAK;QAC5B;QACE;IACJ;EACF;AACF,CAAC;;;;;;;;;;;;;;;;ACrGoC;AAE9B,SAAS/F,eAAeA,CAACkJ,GAAG,EAAEC,UAAU,EAAEC,UAAU,EAAEC,UAAU,EAAEC,UAAU,EAAEC,UAAU,EAAE;EAC/FC,KAAK,CAACN,GAAG,CAAC,CACPO,IAAI,CAACC,QAAQ,IAAI;IAChB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAC3BpH,OAAO,CAACC,GAAG,CAAE,kCAAiCkH,QAAQ,CAACC,MAAO,EAAC,CAAC;MAChE;IACF;IACAD,QAAQ,CAACE,IAAI,CAAC,CAAC,CACdH,IAAI,CAAChH,GAAG,IAAI0G,UAAU,CAAC1G,GAAG,EAAEV,6CAAS,CAAC,CAAC,CACvC0H,IAAI,CAACI,IAAI,IAAIT,UAAU,CAACS,IAAI,EAAE9H,6CAAS,CAAC,CAAC,CACzC0H,IAAI,CAACvH,MAAM,IAAImH,UAAU,CAACnH,MAAM,EAAEH,6CAAS,CAAC,CAAC,CAC7C0H,IAAI,CAACtJ,IAAI,IAAImJ,UAAU,CAACnJ,IAAI,EAAE4B,6CAAS,CAAC,CAAC,CACzC0H,IAAI,CAACpH,OAAO,IAAIkH,UAAU,CAAClH,OAAO,EAAEN,6CAAS,CAAC,CAAC,CAC/C+H,KAAK,CAACC,GAAG,IAAIxH,OAAO,CAACyH,KAAK,CAAC,sCAAsC,EAAED,GAAG,CAAC,CAAC;EAC3E,CAAC,CAAC;AACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjB0E;AACrC;AACC;AAmCd;AAK+B;AACzB;AACI;AACoB;AAGtD,MAAMtN,QAAQ,CAAC;EACbqK,WAAWA,CAAEC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACtE,IAAI,CAACnE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IAED,IAAI,CAACpD,KAAK,GAAGA,KAAK;IAClB,IAAI,CAAC3G,KAAK,GAAG2G,KAAK,CAAC3G,KAAK;IACxB,IAAI,CAACD,MAAM,GAAG4G,KAAK,CAAC5G,MAAM;IAC1B,IAAI,CAACiK,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,SAAS,GAAG,EAAE;IACnB,IAAI,CAACjE,OAAO,GAAG;MACbC,IAAI,EAAE,IAAI,CAACU;IACb,CAAC;IACD,IAAI,CAACZ,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAAClC,IAAI,GAAG,OAAO;IACnB,IAAI,CAACmG,YAAY,GAAG,IAAI;EAC1B;EAEA,IAAIvH,GAAGA,CAAA,EAAG;IACR,OAAO,IAAI,CAAC+C,QAAQ,CAACvB,CAAC;EACxB;EACA,IAAIoB,MAAMA,CAAA,EAAG;IACX,OAAO,IAAI,CAACG,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACpE,MAAM;EACtC;EACA,IAAI2C,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACgD,QAAQ,CAACC,CAAC;EACxB;EACA,IAAIH,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACE,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK;EACrC;EAEA,IAAI2C,GAAGA,CAACX,KAAK,EAAE;IACb,IAAI,CAAC0D,QAAQ,CAACvB,CAAC,GAAGnC,KAAK;EACzB;EACA,IAAIuD,MAAMA,CAACvD,KAAK,EAAE;IAChB,IAAI,CAAC0D,QAAQ,CAACvB,CAAC,GAAGnC,KAAK;EACzB;EACA,IAAIU,IAAIA,CAACV,KAAK,EAAE;IACd,IAAI,CAAC0D,QAAQ,CAACC,CAAC,GAAG3D,KAAK;EACzB;EACA,IAAIwD,KAAKA,CAACxD,KAAK,EAAE;IACf,IAAI,CAAC0D,QAAQ,CAACC,CAAC,GAAG3D,KAAK;EACzB;EAEAmI,OAAOA,CAAA,EAAG;IACR,OAAO,IAAI,CAACpG,IAAI;EAClB;EACAkB,IAAIA,CAAA,EAAG;IACL,IAAI,CAAC,IAAI,CAACc,aAAa,CAACa,MAAM,EAAE;IAChCzL,gDAAW,CAAC,IAAI,CAAC4K,aAAa,EAAE,EAAE,GAAG,IAAI,CAACiE,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,CAACtE,QAAQ,CAACC,CAAC,EAAE,IAAI,CAACD,QAAQ,CAACvB,CAAC,EAAE,IAAI,CAACnE,KAAK,EAAE,IAAI,CAACD,MAAM,CAAC,EAAC;EAC1H;;EACAmF,MAAMA,CAAA,EAAG;IACP,IAAI,CAAC8E,MAAM,EAAE;IACb,IAAI,IAAI,CAACA,MAAM,GAAG,IAAI,CAACC,SAAS,EAAE,IAAI,CAACD,MAAM,GAAG,CAAC;IACjD,IAAI,CAAC/E,IAAI,CAAC,CAAC;EACb;EACAmF,cAAcA,CAAA,EAAG;IACjB;IACE,IAAIxI,iDAAa,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,IAClCvC,iDAAa,GAAGA,qDAAiB,IAAI,IAAI,CAACe,GAAG;IAAI;IACjD;IACAf,gDAAY,GAAGA,gDAAY,GAAG,CAAC,IAAI,IAAI,CAACc,IAAI;IAAK;IACjDd,+CAAW,IAAI,IAAI,CAAC4D,KAAK,GAAG5D,gDAAY,GAAG,CAAC,EAAE;MAC9CA,qDAAiB,GAAG,CAAC,GAAG,CAAC,CAAC;MAC1BA,gDAAY,IAAI/F,6DAAgB,CAACF,yEAAgC,CAAC;MAClE,IAAI2D,kDAAe,IACnBA,kDAAe,IAAIA,qDAAkB,IACrCA,kDAAe,IAAIA,oDAAiB,EAAE;QACpCsC,qDAAiB,GAAG,CAACA,qDAAiB;QACtCA,kDAAc,GAAG,IAAI;MACvB;IACF;EACF;EACA0I,cAAcA,CAAA,EAAG;IACjB;IACE,IAAI1I,8CAAU,IAAI,IAAI,CAAC2D,MAAM;IAAI;IAC/B3D,iDAAa,GAAGA,qDAAiB,IAAI,IAAI,CAACe,GAAG,IAC7Cf,+CAAW,IAAI,IAAI,CAACc,IAAI,GAAGd,gDAAY,GAAG,IAAI;IAAI;IAClDA,gDAAY,IAAI,IAAI,CAAC4D,KAAK,GAAG5D,gDAAY,GAAG,IAAI,EAAE;MAChDA,qDAAiB,GAAG,CAAC,CAAC;MACtBA,gDAAY,IAAI/F,6DAAgB,CAACF,wDAAe,CAAC;IACnD;EACJ;EACA6O,iBAAiBA,CAAA,EAAG;IACpB;IACE,IAAIlL,qDAAkB,IACpBsC,iDAAa,IAAI,IAAI,CAACe,GAAG,IACzBf,8CAAU,IAAI,IAAI,CAAC2D,MAAM,IACzB3D,gDAAY,IAAI,IAAI,CAACc,IAAI,EAAE;MACzBd,qDAAiB,GAAG,CAAC;MACrBK,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACvB,CAAC,CAAC;IACF,IAAI5C,qDAAkB,IACpBsC,iDAAa,IAAI,IAAI,CAACe,GAAG,IACzBf,8CAAU,IAAI,IAAI,CAAC2D,MAAM,IACzB3D,gDAAY,IAAI,IAAI,CAAC4D,KAAK,EAAE;MAC1B5D,qDAAiB,GAAG,CAAC;MACrBK,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACxB;EACF;EACAuI,kBAAkBA,CAAA,EAAG;IACrB;IACE,IAAInL,oDAAiB,KAClBwB,8DAA0B,IAAIgJ,SAAS,IAAIhJ,8DAA0B,IAAI,IAAI,CAAC,IAC/Ec,iDAAa,IAAId,kEAA8B,IAC/Cc,8CAAU,IAAId,qEAAiC,IAC/Cc,+CAAW,IAAId,oEAAgC,EAAE;MAC/Cc,qDAAiB,GAAG,CAAC;MACrBK,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACvB,CAAC,CAAC;IACA,IAAI5C,oDAAiB,IACnBwB,8DAA0B,IAAIgJ,SAAS,KACtClI,iDAAa,IAAId,kEAA8B,IAChDc,8CAAU,IAAId,qEAAiC,CAAC,IAChDc,+CAAW,IAAId,mEAA+B,EAAE;MAAE;MAChDc,qDAAiB,GAAG,CAAC,CAAC;MACtBK,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;IACxB;EACF;EAEFkD,SAASA,CAAA,EAAG;IAAE;IACZ,IAAI,CAACgF,cAAc,CAAC,CAAC;IACrB,IAAI,CAACE,cAAc,CAAC,CAAC;IACrB,IAAI,CAACE,iBAAiB,CAAC,CAAC;IACxB,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B;AACF;AAEA,MAAMpO,GAAG,SAASF,QAAQ,CAAC;EACzBqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAChG,IAAI,GAAG,KAAK;IACjB,IAAI,CAACmG,YAAY,GAAG,IAAI;IACxB,IAAI,CAAClE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAACwD,wCAAG,EAAE,EAAE,EAAE,EAAE;IAC/B,CAAC;IACD,IAAI,CAACmH,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAACgE,SAAS,GAAG,EAAE;EACrB;AACF;AAEA,MAAMpC,OAAO,SAAS1L,QAAQ,CAAC;EAC7BqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAChG,IAAI,GAAG,SAAS;IACrB,IAAI,CAACmG,YAAY,GAAG,IAAI;IACxB,IAAI,CAAClE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAACgE,4CAAO,EAAE,EAAE,EAAE,EAAE;IACnC,CAAC;IACD,IAAI,CAAC2G,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAACgE,SAAS,GAAG,CAAC;EACpB;AACF;AAEA,MAAMnC,OAAO,SAAS3L,QAAQ,CAAC;EAC7BqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAChG,IAAI,GAAG,SAAS;IACrB,IAAI,CAACmG,YAAY,GAAG,IAAI;IACxB,IAAI,CAAClE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAACiE,4CAAO,EAAE,EAAE,EAAE,EAAE;IACnC,CAAC;IACD,IAAI,CAAC0G,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAACgE,SAAS,GAAG,CAAC;EACpB;AACF;AAEA,MAAMlC,MAAM,SAAS5L,QAAQ,CAAC;EAC5BqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAChG,IAAI,GAAG,QAAQ;IACpB,IAAI,CAACmG,YAAY,GAAG,IAAI;IACxB,IAAI,CAAClE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAACyL,2CAAM,EAAE,EAAE,EAAE,EAAE;IAClC,CAAC;IACD,IAAI,CAACd,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAACgE,SAAS,GAAG,EAAE;EACrB;AACF;AAEA,MAAM3N,gBAAgB,SAASH,QAAQ,CAAC;EACtCqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAChG,IAAI,GAAG,kBAAkB;IAC9B,IAAI,CAACmG,YAAY,GAAG,IAAI;IACxB,IAAI,CAAClE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAAC+C,iDAAY,EAAE,EAAE,EAAE,EAAE,CAAC;MACvCuM,QAAQ,EAAEtP,mDAAW,CAACgD,yDAAoB,EAAE,EAAE,EAAE,EAAE;IACpD,CAAC;IACD,IAAI,CAAC2H,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAACgE,SAAS,GAAG,EAAE;EACrB;EACA9E,MAAMA,CAAA,EAAG;IACPlD,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC6B,IAAI,EAAE,IAAI,CAACmG,YAAY,CAAC;IACzC,IAAI5K,wDAAqB,KAAK,IAAI,EAAE;MAClC,IAAI,CAACyG,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;MACtC,IAAI,CAACiE,YAAY,GAAG,IAAI;IAC1B,CAAC,MAAM;MACL,IAAI,CAACnE,aAAa,GAAG,IAAI,CAACC,OAAO,CAAC0E,QAAQ;MAC1C,IAAI,CAACR,YAAY,GAAG,KAAK;IAC3B;EACF;AACF;AAEA,MAAM3N,kBAAkB,SAASJ,QAAQ,CAAC;EACxCqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAChG,IAAI,GAAG,oBAAoB;IAChC,IAAI,CAACmG,YAAY,GAAG,KAAK;IACzB,IAAI,CAAClE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAAC+C,iDAAY,EAAE,EAAE,EAAE,EAAE,CAAC;MACvCuM,QAAQ,EAAEtP,mDAAW,CAACgD,yDAAoB,EAAE,EAAE,EAAE,EAAE;IACpD,CAAC;IACD,IAAI,CAAC2H,aAAa,GAAG,IAAI,CAACC,OAAO,CAAC0E,QAAQ;IAC1C,IAAI,CAACT,SAAS,GAAG,EAAE;EACrB;EACA9E,MAAMA,CAAA,EAAG;IACPlD,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC6B,IAAI,EAAE,IAAI,CAACmG,YAAY,CAAC;IACzC,IAAI5K,wDAAqB,KAAK,KAAK,EAAE;MACnC,IAAI,CAACyG,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;MACtC,IAAI,CAACiE,YAAY,GAAG,IAAI;IAC1B,CAAC,MAAM;MACL,IAAI,CAACnE,aAAa,GAAG,IAAI,CAACC,OAAO,CAAC0E,QAAQ;MAC1C,IAAI,CAACR,YAAY,GAAG,KAAK;IAC3B;EACF;AACF;AAEA,MAAM9N,OAAO,SAASD,QAAQ,CAAC;EAC7BqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACY,aAAa,GAAGlE,IAAI,GAAGmD,UAAU;IACtC,IAAI,CAACgB,IAAI,GAAG,CAAC;IACb,IAAI,CAAC5E,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAAC6C,oDAAe,EAAE,EAAE,EAAE,EAAE,CAAC;MAC1C4M,SAAS,EAAEzP,mDAAW,CAAC8C,6DAAwB,EAAE,EAAE,EAAE,EAAE;IACzD,CAAC;IACD,IAAI,CAAC6H,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAACgE,SAAS,GAAG,EAAE;IACnB,IAAI,CAAClG,IAAI,GAAG,SAAS;IACrB,IAAI,CAACmG,YAAY,GAAG,IAAI;EAC1B;EACAY,OAAOA,CAAA,EAAG;IACRlJ,gDAAY,IAAI/F,6DAAgB,CAACF,6DAAoB,CAAC;IACtD,IAAI,CAACoK,aAAa,GAAG,IAAI,CAACC,OAAO,CAAC6E,SAAS;IAC3CpK,UAAU,CAAC,MAAM;MACf,IAAI,CAACiF,QAAQ,CAACC,CAAC,GAAG,CAAC,IAAI;MACvB,IAAI,CAACI,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;MACtC,IAAI,CAACiE,YAAY,GAAG,KAAK;IAC7B,CAAC,EAAE,GAAG,CAAC;IACL,IAAI,CAACU,IAAI,GAAG,CAAC;EACf;EACA5G,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC0B,QAAQ,CAACC,CAAC,GAAG,IAAI,CAACgF,aAAa;IACpC,IAAI,CAACT,YAAY,GAAG,IAAI;EAC1B;AACF;AAEA,MAAMc,oBAAoB,SAAS7O,QAAQ,CAAC;EAC1CqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAACrE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAChG,IAAI,GAAG,wBAAwB;IACpC,IAAI,CAACmG,YAAY,GAAG,KAAK;IACzB,IAAI,CAAClE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAAC2D,wDAAmB,EAAE,EAAE,EAAE,EAAE,CAAC;MAC9C2L,QAAQ,EAAEtP,mDAAW,CAACoD,wDAAmB,EAAE,EAAE,EAAE,EAAE;IACnD,CAAC;IACD,IAAI,CAACuH,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACtC,IAAI,CAACgE,SAAS,GAAG,EAAE;IACnB,IAAI,CAACgB,QAAQ,GAAG,IAAI;EACtB;EACAC,uBAAuBA,CAAA,EAAG;IACzB5L,0DAAuB,IAAI,CAAC,GAAGA,0DAAuB,GAAI,CAAC,GAAGA,0DAAuB;EACtF;EACA8F,SAASA,CAAA,EAAG;IACV,IAAI9F,0DAAuB,KAAK,IAAI,CAAC2L,QAAQ,EAAE;MAC7C,IAAI,CAACf,YAAY,GAAG,IAAI;MACxB,KAAK,CAACE,cAAc,CAAC,CAAC;MACtB,KAAK,CAACE,cAAc,CAAC,CAAC;MACtB,KAAK,CAACE,iBAAiB,CAAC,CAAC;MACzB,IAAI,CAAC1J,8DAA0B,IAAIgJ,SAAS,IAC1ChJ,8DAA0B,IAAI,IAAI,KAClCxB,0DAAuB,KAAKwB,uEAAmC,EAAE;QAC/D,KAAK,CAAC2J,kBAAkB,CAAC,CAAC;MAC9B;MACA,IAAI,CAAC1E,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;MACtC,IAAI,CAACiF,uBAAuB,CAAC,CAAC;IAChC,CAAC,MAAM;MACL,IAAI,CAACnF,aAAa,GAAG,IAAI,CAACC,OAAO,CAAC0E,QAAQ;MAC1C,IAAI,CAACR,YAAY,GAAG,KAAK;MACzB,IAAI,CAACgB,uBAAuB,CAAC,CAAC;MAChC;MACA,IAAIzJ,sDAAc,CAAE2J,KAAK,IAAK;QAC5B,OAAQxJ,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAACzI,GAAG,IAC3Df,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAAC7F,MAAM,IACxD3D,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC1I,IAAI,IACrDd,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC5F,KAAK;MAC1D,CAAC,CAAC,EAAE;QACFlG,sDAAmB,GAAG,IAAI;QAC1BsC,gDAAY,IAAItC,qDAAkB,IAAIzD,6DAAgB,CAACF,6DAAoB,CAAC;QAC5EsG,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MACvB,CAAC,MAAM;QACLD,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;QACtBN,gDAAY,IAAItC,qDAAkB,IAAIzD,6DAAgB,CAACF,qDAAY,CAAC;QACpE2D,sDAAmB,GAAG,KAAK;MAC7B;IACA;EACF;AACF;AAEA,MAAM9C,WAAW,SAASwO,oBAAoB,CAAC;EAC7CxE,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAAChG,IAAI,GAAG,aAAa;IACzB,IAAI,CAAC2B,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACkB,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACjF,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAACiD,gDAAW,EAAE,EAAE,EAAE,EAAE,CAAC;MACtCqM,QAAQ,EAAEtP,mDAAW,CAACoD,wDAAmB,EAAE,EAAE,EAAE,EAAE;IACnD,CAAC;EACH;AACF;AAEA,MAAM/B,WAAW,SAASuO,oBAAoB,CAAC;EAC7CxE,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAAChG,IAAI,GAAG,aAAa;IACzB,IAAI,CAAC2B,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACkB,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACjF,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAACkD,gDAAW,EAAE,EAAE,EAAE,EAAE,CAAC;MACtCoM,QAAQ,EAAEtP,mDAAW,CAACqD,wDAAmB,EAAE,EAAE,EAAE,EAAE;IACnD,CAAC;EACH;AACF;AAEA,MAAM/B,aAAa,SAASsO,oBAAoB,CAAC;EAC/CxE,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAAChG,IAAI,GAAG,eAAe;IAC3B,IAAI,CAAC2B,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACkB,QAAQ,GAAG,CAAC;IACjB,IAAI,CAACjF,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAACmD,kDAAa,EAAE,EAAE,EAAE,EAAE,CAAC;MACxCmM,QAAQ,EAAEtP,mDAAW,CAACsD,0DAAqB,EAAE,EAAE,EAAE,EAAE;IACrD,CAAC;EACH;AACF;AAEA,MAAM/B,UAAU,SAASqO,oBAAoB,CAAC;EAC5CxE,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAAChG,IAAI,GAAG,gBAAgB;IAC5B,IAAI,CAAC2B,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACG,YAAY,GAAG,KAAK;IACzB,IAAI,CAACD,SAAS,GAAG,CAAC;IAClB,IAAI,CAACjE,OAAO,GAAG;MACbC,IAAI,EAAE7K,mDAAW,CAAC0D,mDAAc,EAAE,EAAE,EAAE,EAAE,CAAC;MACzC4L,QAAQ,EAAEtP,mDAAW,CAAC2D,wDAAmB,EAAE,EAAE,EAAE,EAAE;IACnD,CAAC;EACH;EAEAuM,KAAKA,CAAA,EAAG;IACN,IAAK1J,+CAAW,IAAI,IAAI,CAAC4D,KAAK,IAC5B5D,gDAAY,IAAI,IAAI,CAACc,IAAI,IACzBd,8CAAU,IAAI,IAAI,CAAC2D,MAAM,IACzB3D,iDAAa,IAAI,IAAI,CAACe,GAAG,IACxBlB,sDAAc,CAAE2J,KAAK,IAAK;MACzB,OAAQxJ,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAACzI,GAAG,IAC3Df,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAAC7F,MAAM,IACxD3D,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC1I,IAAI,IACrDd,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC5F,KAAK;IAC1D,CAAC,CAAE,EACD;MAAE;MACJ,IAAI,CAAC0F,uBAAuB,CAAC,CAAC;MAC9B,IAAI,CAACnF,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;IACxC,CAAC,MAAM,IAAKxE,sDAAc,CAAE2J,KAAK,IAAK;MAAE;MACtC,OAAQxJ,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAACzI,GAAG,IAC3Df,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAAC7F,MAAM,IACxD3D,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC1I,IAAI,IACrDd,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC5F,KAAK;IAAC,CAAC,CAAC,EAAG;MAC1D,IAAI,CAACO,aAAa,GAAG,IAAI,CAACC,OAAO,CAAC0E,QAAQ;IAC9C;EACJ;EAEAtF,SAASA,CAAA,EAAG;IACV,IAAI,CAACkG,KAAK,CAAC,CAAC,CAAC,CAAC;IACZ;IACA,IAAI7J,sDAAc,CAAE2J,KAAK,IAAK;MAC5B,OAAQxJ,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAACzI,GAAG,IAC3Df,qDAAiB,GAAGA,iDAAa,GAAG,IAAI,IAAIwJ,KAAK,CAAC7F,MAAM,IACxD3D,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC1I,IAAI,IACrDd,qDAAiB,GAAGA,gDAAY,GAAG,IAAI,IAAIwJ,KAAK,CAAC5F,KAAK;IAC1D,CAAC,CAAC,EAAE;MACFlG,sDAAmB,GAAG,IAAI;MAC1B2C,OAAO,CAACC,GAAG,CAAC5C,qDAAkB,CAAC;MAC/BsC,gDAAY,IAAItC,qDAAkB,IAAIzD,6DAAgB,CAACF,6DAAoB,CAAC;MAC5EsG,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACvB,CAAC,MAAM;MACLD,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACtB5C,sDAAmB,GAAG,KAAK;MAC3BsC,gDAAY,IAAItC,qDAAkB,IAAIzD,6DAAgB,CAACF,qDAAY,CAAC;IACtE;EACJ;AACF;;;;;;;;;;;;;;;;;;;;;AClfqC;AACC;AACS;AACjB;AAmCN;AACkC;AAC4D;AAE/G,MAAMF,MAAM,CAAC;EAClB+K,WAAWA,CAAAgF,IAAA,EAAqB/E,IAAI,EAAEC,IAAI,EAAiC;IAAA,IAA/D;MAAEjF,SAAS,GAAG;IAAG,CAAC,GAAA+J,IAAA;IAAA,IAAc5B,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACvE,IAAI,CAACpI,SAAS,GAAGA,SAAS;IAC1B;IACA;IACA;IACA;IACA,IAAI,CAACiE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAAC7F,QAAQ,GAAG;MACdyB,CAAC,EAAE,CAAC;MACJxB,CAAC,EAAE;IACL,CAAC;IACD,IAAI,CAACJ,IAAI,GAAG,QAAQ;IACpB,IAAI,CAAC8B,OAAO,GAAG,IAAI;IACnB,IAAI,CAACD,UAAU,GAAG,CAAC,CAAC,CAAC;IACrB,IAAI,CAAC5F,KAAK,GAAG,EAAE;IACf,IAAI,CAACD,MAAM,GAAG,EAAE;IAChB,IAAI,CAACkK,SAAS,GAAG,EAAE;IACnB,IAAI,CAACD,MAAM,GAAG,CAAC;IACf,IAAI,CAAC5F,KAAK,GAAG,IAAI;IACjB,IAAI,CAACrD,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACiF,OAAO,GAAG;MACbC,IAAI,EAAE;QACJT,KAAK,EAAEpK,mDAAW,CAACiC,8CAAS,EAAE,EAAE,EAAE,EAAE,CAAC;QACrCqF,IAAI,EAAEtH,mDAAW,CAACkC,8CAAS,EAAE,EAAE,EAAE,EAAE;MACrC,CAAC;MACDoL,GAAG,EAAE;QACHlD,KAAK,EAAEpK,mDAAW,CAACmC,6CAAQ,EAAE,EAAE,EAAE,EAAE,CAAC;QACpCmF,IAAI,EAAEtH,mDAAW,CAACoC,6CAAQ,EAAE,EAAE,EAAE,EAAE;MACpC,CAAC;MACD4K,IAAI,EAAE;QACJ5C,KAAK,EAAEpK,mDAAW,CAACqC,8CAAS,EAAE,EAAE,EAAE,EAAE,CAAC;QACrCiF,IAAI,EAAEtH,mDAAW,CAACsC,8CAAS,EAAE,EAAE,EAAE,EAAE;MACrC,CAAC;MACDiL,IAAI,EAAE;QACJnD,KAAK,EAAEpK,mDAAW,CAACuC,8CAAS,EAAE,EAAE,EAAE,EAAE,CAAC;QACrC+E,IAAI,EAAEtH,mDAAW,CAACwC,8CAAS,EAAE,EAAE,EAAE,EAAE;MACrC,CAAC;MACD6N,KAAK,EAAErQ,mDAAW,CAACyC,8CAAS,EAAE,EAAE,EAAE,EAAE;IACtC,CAAC;IACD,IAAI,CAACkI,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI,CAACT,KAAK;EAC9C;EAEA,IAAI7C,GAAGA,CAAA,EAAG;IACR,OAAO,IAAI,CAAC+C,QAAQ,CAACvB,CAAC;EACxB;EACA,IAAIoB,MAAMA,CAAA,EAAG;IACX,OAAO,IAAI,CAACG,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACpE,MAAM;EACtC;EACA,IAAI2C,IAAIA,CAAA,EAAG;IACT,OAAO,IAAI,CAACgD,QAAQ,CAACC,CAAC;EACxB;EACA,IAAIH,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACE,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK;EACrC;EAEA,IAAI2C,GAAGA,CAACX,KAAK,EAAE;IACb,IAAI,CAAC0D,QAAQ,CAACvB,CAAC,GAAGnC,KAAK;EACzB;EACA,IAAIuD,MAAMA,CAACvD,KAAK,EAAE;IAChB,IAAI,CAAC0D,QAAQ,CAACvB,CAAC,GAAGnC,KAAK;EACzB;EACA,IAAIU,IAAIA,CAACV,KAAK,EAAE;IACd,IAAI,CAAC0D,QAAQ,CAACC,CAAC,GAAG3D,KAAK;EACzB;EACA,IAAIwD,KAAKA,CAACxD,KAAK,EAAE;IACf,IAAI,CAAC0D,QAAQ,CAACC,CAAC,GAAG3D,KAAK;EACzB;EAEAiD,IAAIA,CAAA,EAAG;IACL,IAAI,CAAC,IAAI,CAACc,aAAa,CAACa,MAAM,EAAE;IAChCzL,gDAAW,CAAC,IAAI,CAAC4K,aAAa,EAAE,EAAE,GAAG,IAAI,CAACiE,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,CAACtH,IAAI,EAAE,IAAI,CAACC,GAAG,EAAE,IAAI,CAAC3C,KAAK,EAAE,IAAI,CAACD,MAAM,CAAC,EAAC;EAC7G;;EAEA2L,GAAGA,CAAA,EAAG;IACJ,IAAI,CAACxH,QAAQ,CAACyB,CAAC,GAAG,CAAC;IACnB,IAAI,CAACzB,QAAQ,CAACC,CAAC,GAAG,CAAC,CAAC;IACpB,IAAI,CAAC0B,OAAO,GAAG,CAAC;IAChB,IAAI,CAACE,aAAa,GAAG,IAAI,CAACC,OAAO,CAACyF,KAAK;IACvC,IAAI,CAACrH,KAAK,IAAIvI,gEAAgB,CAACF,2DAAe,CAAC;IAC/C,IAAI,CAACyI,KAAK,GAAG,KAAK;IAClB3D,UAAU,CAACZ,wCAAI,EAAE,GAAG,CAAC;EACvB;EAEA8L,qBAAqBA,CAAA,EAAG;IACtB;IACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACnK,SAAS,CAACD,MAAM,EAAEoK,CAAC,EAAE,EAAE;MAC9C,MAAM9H,QAAQ,GAAG,IAAI,CAACrC,SAAS,CAACmK,CAAC,CAAC;MAClC;MACA,QAAO9H,QAAQ,CAACC,IAAI;QAClB,KAAK,KAAK;QACV,KAAK,OAAO;QACZ,KAAK,SAAS;QACd,KAAK,SAAS;UACZ,IAAI,IAAI,CAACrB,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC7B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAAC0B,KAAK,GAAG,GAAG;cAChC;YACF;YACA,IAAI,IAAI,CAACtB,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAACpB,IAAI,GAAG,IAAI,CAAC1C,KAAK,GAAG,GAAG;cAC5C;YACF;UACJ;UACA;QAEF,KAAK,kBAAkB;UACvB,IAAIV,wDAAqB,IACvB,IAAI,CAACoD,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC3B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAAC0B,KAAK,GAAG,GAAG;cAChC;YACF;YACA,IAAI,IAAI,CAACtB,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAACpB,IAAI,GAAG,IAAI,CAAC1C,KAAK,GAAG,GAAG;cAC5C;YACF;UACF;UACA;QAEF,KAAK,oBAAoB;UACvB,IAAI,CAACV,wDAAqB,IACxB,IAAI,CAACoD,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC3B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAAC0B,KAAK,GAAG,GAAG;cAChC;YACF;YACA,IAAI,IAAI,CAACtB,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAACpB,IAAI,GAAG,IAAI,CAAC1C,KAAK,GAAG,GAAG;cAC5C;YACF;UACF;UACF;QAEF,KAAK,QAAQ;QACb,KAAK,KAAK;UACR;UACA,IAAI,IAAI,CAACuF,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,GAAG,IAAI,CAAC5C,MAAM,GAAG,CAAC,IAC/C,IAAI,CAACwF,MAAM,GAAG,IAAI,CAACrB,QAAQ,CAACC,CAAC,IAAIL,QAAQ,CAACnB,GAAG,GAAG,IAAI,CAAC5C,MAAM,GAAG,CAAC,IAC/D,IAAI,CAACyF,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,GAAG,IAAI,CAAC1C,KAAK,GAAG,CAAC,IAC5C,IAAI,CAAC0C,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,GAAG,IAAI,CAACxF,KAAK,GAAG,CAAC,EAC1C;YACA;YACA,IAAI,CAAC0L,GAAG,CAAC,CAAC;UACd;UACA;UACA,IAAI,IAAI,CAAC/I,GAAG,IAAImB,QAAQ,CAACyB,MAAM,GAAGsG,IAAI,CAACC,GAAG,CAAC,IAAI,CAAC5H,QAAQ,CAACC,CAAC,CAAC,IACzD,IAAI,CAACoB,MAAM,GAAG,IAAI,CAACrB,QAAQ,CAACC,CAAC,IAAIL,QAAQ,CAACnB,GAAG,GAAG,IAAI,CAAC5C,MAAM,GAAG,CAAC;UAAI;UACnE,IAAI,CAAC2C,IAAI,IAAIoB,QAAQ,CAACpB,IAAI,GAAG,IAAI,CAAC1C,KAAK,GAAG,GAAG,IAC7C,IAAI,CAACwF,KAAK,IAAI1B,QAAQ,CAAC0B,KAAK,GAAG,IAAI,CAACxF,KAAK,GAAG,GAAG,EAAE;YAC/C;YACA,IAAI,CAAC0L,GAAG,CAAC,CAAC;UACd;UACA;QAEF,KAAK,SAAS;UACZ,IAAI5H,QAAQ,CAAC8G,IAAI,KAAK,CAAC,IACrB,IAAI,CAAClI,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC3B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAAC0B,KAAK,GAAG,GAAG;cAChClG,oDAAiB,GAAG,KAAK;cACzBwE,QAAQ,CAAC8G,IAAI,EAAE;cACf9G,QAAQ,CAACgH,OAAO,CAAC,CAAC;cAClB;YACF;YACA,IAAI,IAAI,CAAC5G,QAAQ,CAACyB,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACjD,IAAI,GAAGoB,QAAQ,CAACpB,IAAI,GAAG,IAAI,CAAC1C,KAAK,GAAG,GAAG;cAC5CV,qDAAkB,GAAG,KAAK;cAC1BwE,QAAQ,CAAC8G,IAAI,EAAE;cACf9G,QAAQ,CAACgH,OAAO,CAAC,CAAC;cAClB;YACF;UACJ;UACA;QACA,KAAK,QAAQ;UACX,IAAI,IAAI,CAACpI,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC7B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA,IAAI,CAACyB,KAAK,IAAIvI,gEAAgB,CAACF,2DAAe,CAAC;YAC/C,IAAI,CAACoF,aAAa,GAAG,IAAI;YAEzBlB,4CAAI,CAAC,CAAC;UACV;UACF;MACJ;IACF;EACF;EAEAmM,qBAAqBA,CAAA,EAAG;IACtB;IACA,KAAK,IAAIJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACnK,SAAS,CAACD,MAAM,EAAEoK,CAAC,EAAE,EAAE;MAC9C,MAAM9H,QAAQ,GAAG,IAAI,CAACrC,SAAS,CAACmK,CAAC,CAAC;MAClC;MACA,QAAO9H,QAAQ,CAACC,IAAI;QAClB,KAAK,KAAK;QACV,KAAK,OAAO;QACZ,KAAK,SAAS;QACd,KAAK,SAAS;UACZ,IAAI,IAAI,CAACrB,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC7B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC;cACnB,IAAI,CAACxB,GAAG,GAAGmB,QAAQ,CAACyB,MAAM,GAAG,GAAG;cAChC,IAAI,CAACnB,KAAK,IAAIvI,gEAAgB,CAACF,2DAAe,CAAC;cAC/C;YACF;YACA,IAAI,IAAI,CAACuI,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC;cACnB,IAAI,CAACxB,GAAG,GAAGmB,QAAQ,CAACnB,GAAG,GAAG,IAAI,CAAC5C,MAAM,GAAG,GAAG;cAC3C;YACF;UACJ;UACA;QAEF,KAAK,kBAAkB;UACrB,IAAIT,wDAAqB,IACvB,IAAI,CAACoD,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC3B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,GAAG,IAAI,CAACxF,MAAM,GAAG,CAAC;UAAI;UACjD,IAAI,CAACwF,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC;cACnB,IAAI,CAACxB,GAAG,GAAGmB,QAAQ,CAACyB,MAAM,GAAG,GAAG;cAChC,IAAI,CAACnB,KAAK,IAAIvI,gEAAgB,CAACF,2DAAe,CAAC;cAC/C;YACF;YACA,IAAI,IAAI,CAACuI,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC;cACnB,IAAI,CAACxB,GAAG,GAAGmB,QAAQ,CAACnB,GAAG,GAAG,IAAI,CAAC5C,MAAM,GAAG,GAAG;cAC3C,IAAI,CAACqE,KAAK,IAAIvI,gEAAgB,CAACF,2DAAe,CAAC;cAC/C;YACF;UACJ;UACA;QAEF,KAAK,oBAAoB;UACvB,IAAI,CAAC2D,wDAAqB,IACxB,IAAI,CAACoD,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC3B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC;cACnB,IAAI,CAACxB,GAAG,GAAGmB,QAAQ,CAACyB,MAAM,GAAG,GAAG;cAChC;YACF;YACA,IAAI,IAAI,CAACrB,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC;cACnB,IAAI,CAACxB,GAAG,GAAGmB,QAAQ,CAACnB,GAAG,GAAG,IAAI,CAAC5C,MAAM,GAAG,GAAG;cAC3C;YACF;UACJ;UACA;QAGF,KAAK,SAAS;UACZ,IAAI+D,QAAQ,CAAC8G,IAAI,KAAK,CAAC,IACrB,IAAI,CAAClI,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC3B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B,IAAI,IAAI,CAACuB,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC;cACnB,IAAI,CAACxB,GAAG,GAAGmB,QAAQ,CAACyB,MAAM,GAAG,GAAG;cAChCjG,kDAAe,GAAG,KAAK;cACvBwE,QAAQ,CAAC8G,IAAI,EAAE;cACf9G,QAAQ,CAACgH,OAAO,CAAC,CAAC;cAClB;YACF;YACA,IAAI,IAAI,CAAC5G,QAAQ,CAACC,CAAC,GAAG,CAAC,EAAE;cAAE;cACzB,IAAI,CAACD,QAAQ,CAACC,CAAC,GAAG,CAAC,IAAI,CAACyB,UAAU,CAAC,CAAC;cACpCtG,kDAAe,GAAG,KAAK;cACvBwE,QAAQ,CAAC8G,IAAI,EAAE;cACf9G,QAAQ,CAACgH,OAAO,CAAC,CAAC;cAClB,IAAI,CAACnI,GAAG,GAAGmB,QAAQ,CAACnB,GAAG,GAAG,IAAI,CAAC5C,MAAM,GAAG,GAAG;cAC3C;YACF;UACJ;UACA;QACA,KAAK,QAAQ;UACX,IAAI,IAAI,CAAC2C,IAAI,IAAIoB,QAAQ,CAAC0B,KAAK,IAC7B,IAAI,CAACA,KAAK,IAAI1B,QAAQ,CAACpB,IAAI,IAC3B,IAAI,CAACC,GAAG,IAAImB,QAAQ,CAACyB,MAAM,IAC3B,IAAI,CAACA,MAAM,IAAIzB,QAAQ,CAACnB,GAAG,EAAE;YAC3B;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;;YAEA,IAAI,CAACyB,KAAK,IAAIvI,gEAAgB,CAACF,2DAAe,CAAC;YAC/C,IAAI,CAACoF,aAAa,GAAG,IAAI;YACzBlB,4CAAI,CAAC,CAAC;UACV;UACF;MACF;IACJ;EACF;EAEAoM,UAAUA,CAAA,EAAG;IACX,IAAI,CAAC/H,QAAQ,CAACC,CAAC,IAAI,IAAI,CAAC0B,OAAO;IAC/B,IAAI,CAAClD,GAAG,IAAI,IAAI,CAACuB,QAAQ,CAACC,CAAC;EAC7B;EAEAe,MAAMA,CAAA,EAAG;IACP,IAAI,CAAC8E,MAAM,EAAE;IACb,IAAI,IAAI,CAACA,MAAM,GAAG,IAAI,CAACC,SAAS,EAAE,IAAI,CAACD,MAAM,GAAG,CAAC;IACjD,IAAI,CAAC/E,IAAI,CAAC,CAAC;IACX,IAAI,CAACvC,IAAI,IAAI,IAAI,CAACwB,QAAQ,CAACyB,CAAC;IAC5B,IAAI,CAACgG,qBAAqB,CAAC,CAAC,CAAC,CAAC;IAC9B,IAAI,CAACM,UAAU,CAAC,CAAC,CAAC,CAAY;IAC9B,IAAI,CAACD,qBAAqB,CAAC,CAAC,CAAC,CAAC;EAChC;AACF;;;;;;;;;;;;;;;;AClVkB;AACwB;AAEnC,MAAMhR,KAAK,GAAI,YAAW;EAE/B,SAASkR,IAAIA,CAAA,EAAG;IACd,IAAIC,eAAe,GAAG,IAAI;IAC1B,IAAIC,eAAe,GAAG,IAAI;IAE1B,MAAMC,aAAa,GAAG;MACpBC,EAAE,EAAE,MAAM;MACVC,KAAK,EAAE,UAAU;MACjBC,MAAM,EAAE,SAAAA,CAAA,EAAiC;QAAA,IAAhCC,SAAS,GAAA5C,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,eAAe;QAClC,OAAQ;AAChB,0BAA0B4C,SAAU;AACpC;AACA;AACA,mBAAmB;MACb;IACF,CAAC;IAED,MAAMC,kBAAkB,GAAG;MACzBJ,EAAE,EAAE,WAAW;MACfC,KAAK,EAAE,aAAa;MACpBC,MAAM,EAAE,SAAAA,CAAA,EAA6B;QAAA,IAA5BC,SAAS,GAAA5C,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,WAAW;QAC9B,OAAQ;AAChB,4BAA4B4C,SAAU;AACtC;AACA;AACA,oDAAoD3F,2CAAO;AAC3D;AACA,wDAAwDC,6CAAS;AACjE;AACA,+DAA+DM,4CAAQ;AACvE;AACA,mEAAmED,4CAAQ;AAC3E;AACA;AACA;AACA,SAAS;MACH;IACF,CAAC;IAED,MAAMuF,iBAAiB,GAAG;MACxBL,EAAE,EAAE,UAAU;MACdC,KAAK,EAAE,UAAU;MACjBC,MAAM,EAAE,SAAAA,CAAA,EAA6B;QAAA,IAA5BC,SAAS,GAAA5C,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,WAAW;QAC9B,OAAQ;AAChB,4BAA4B4C,SAAU;AACtC;AACA;AACA;AACA;AACA,2CAA2CjR,uDAAe,CAAC,UAAU,EAAE,cAAc,CAAE;AACvF;AACA;AACA,+CAA+CA,uDAAe,CAAC,UAAU,EAAE,cAAc,CAAE;AAC3F;AACA;AACA,SAAS;MACH;IACF,CAAC;IAED,MAAMoR,oBAAoB,GAAG;MAC3BN,EAAE,EAAE,aAAa;MACjBC,KAAK,EAAE,aAAa;MACpBC,MAAM,EAAE,SAAAA,CAAA,EAA6B;QAAA,IAA5BC,SAAS,GAAA5C,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,WAAW;QAC9B,OAAQ;AAChB,4BAA4B4C,SAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;MACH;IACF,CAAC;IAED,MAAMI,cAAc,GAAG;MACrBP,EAAE,EAAE,MAAM;MACVC,KAAK,EAAE,YAAY;MACnBC,MAAM,EAAE,SAAAA,CAAA,EAA6B;QAAA,IAA5BC,SAAS,GAAA5C,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,WAAW;QAC9B,OAAQ;AAChB,4BAA4B4C,SAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;MACH;IACF,CAAC;IAED,MAAMK,cAAc,GAAG;MACrBR,EAAE,EAAE,OAAO;MACXC,KAAK,EAAE,KAAK;MACZC,MAAM,EAAE,SAAAA,CAAA,EAA6B;QAAA,IAA5BC,SAAS,GAAA5C,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,WAAW;QAC9B,OAAQ;AAChB,4BAA4B4C,SAAU;AACtC,2CAA2CnF,6CAAS;AACpD;AACA;AACA,SAAS;MACH;IACF,CAAC;IAED,MAAMyF,MAAM,GAAG;MACblK,IAAI,EAAEwJ,aAAa;MACnBW,SAAS,EAAEN,kBAAkB;MAC7BO,QAAQ,EAAEN,iBAAiB;MAC3BO,WAAW,EAAEN,oBAAoB;MACjCO,IAAI,EAAEN,cAAc;MACpBO,OAAO,EAAEf,aAAa;MACtB3C,KAAK,EAAEoD;IACT,CAAC;IAED,IAAI,CAACjN,IAAI,GAAG,UAASwN,cAAc,EAAEC,cAAc,EAAE;MACnDnB,eAAe,GAAGkB,cAAc;MAChCjB,eAAe,GAAGkB,cAAc;IAClC,CAAC;IAED,IAAI,CAACC,aAAa,GAAG,UAASC,WAAW,EAAE;MACzC,MAAMC,SAAS,GAAGtB,eAAe,CAACuB,gBAAgB,CAAC,YAAY,CAAC;MAChE,MAAMC,KAAK,GAAI,IAAGH,WAAY,EAAC;MAE/B,KAAK,IAAII,IAAI,IAAIH,SAAS,EAAE;QAC1BE,KAAK,KAAKC,IAAI,CAACC,YAAY,CAAC,MAAM,CAAC,GAAGD,IAAI,CAACE,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC,GAAGH,IAAI,CAACE,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC;MACtG;IACF,CAAC;IAED,IAAI,CAACC,aAAa,GAAG,UAASC,YAAY,EAAE;MAC1C,IAAIC,SAAS,GAAG,SAAS;MAEzB,IAAID,YAAY,CAAC1M,MAAM,GAAG,CAAC,EAAE;QAC3B2M,SAAS,GAAGD,YAAY,IAAInB,MAAM,GAAGmB,YAAY,GAAG,OAAO;MAC7D;MAEAhO,MAAM,CAACP,QAAQ,CAAC4M,KAAK,GAAGQ,MAAM,CAACoB,SAAS,CAAC,CAAC5B,KAAK;MAC/CH,eAAe,CAACgC,SAAS,GAAGrB,MAAM,CAACoB,SAAS,CAAC,CAAC3B,MAAM,CAAE,GAAE2B,SAAU,OAAM,CAAC;MACzE,IAAI,CAACZ,aAAa,CAACR,MAAM,CAACoB,SAAS,CAAC,CAAC7B,EAAE,CAAC;IAC1C,CAAC;EACH;EAAC;EAED,SAAS+B,KAAKA,CAAA,EAAI;IACd,IAAIC,MAAM,GAAG,IAAI;IAEjB,IAAI,CAACzO,IAAI,GAAG,UAAS0O,IAAI,EAAE;MACzBD,MAAM,GAAGC,IAAI;IACf,CAAC;IAED,IAAI,CAACC,WAAW,GAAG,UAASN,YAAY,EAAE;MACxCI,MAAM,CAACL,aAAa,CAACC,YAAY,CAAC;IACpC,CAAC;EACL;EAEA,SAASO,UAAUA,CAAA,EAAI;IACnB,IAAIC,WAAW,GAAG,IAAI;IACtB,IAAIC,OAAO,GAAG,IAAI;IAElB,IAAI,CAAC9O,IAAI,GAAG,UAAS+O,SAAS,EAAEC,KAAK,EAAE;MACrCH,WAAW,GAAGE,SAAS;MACvBD,OAAO,GAAGE,KAAK;MACf3O,MAAM,CAACN,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC4O,WAAW,CAAC;MACvD,IAAI,CAACA,WAAW,CAAC,CAAC;IACpB,CAAC;IAED,IAAI,CAACA,WAAW,GAAG,YAAW;MAC5B,MAAMN,YAAY,GAAGY,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MACzDN,OAAO,CAACH,WAAW,CAACN,YAAY,CAAC;IACnC,CAAC;EACL;EAAC;;EAED;EACA,OAAO;IACHrO,IAAI,EAAE,SAAAA,CAASwN,cAAc,EAAEC,cAAc,EAAE;MAC7C,IAAI,CAAC4B,aAAa,CAAC,CAAC;MACpB,IAAI,CAACrM,IAAI,CAAC,CAAC;MACX,MAAM0L,IAAI,GAAG,IAAIrC,IAAI,CAAC,CAAC;MACvB,MAAM2C,KAAK,GAAG,IAAIR,KAAK,CAAC,CAAC;MACzB,MAAMc,UAAU,GAAG,IAAIV,UAAU,CAAC,CAAC;MAEnCF,IAAI,CAAC1O,IAAI,CAACF,QAAQ,CAACmD,cAAc,CAACuK,cAAc,CAAC,EAAE1N,QAAQ,CAACmD,cAAc,CAACwK,cAAc,CAAC,CAAC;MAC3FuB,KAAK,CAAChP,IAAI,CAAC0O,IAAI,CAAC;MAChBY,UAAU,CAACtP,IAAI,CAACF,QAAQ,CAACmD,cAAc,CAACuK,cAAc,CAAC,EAAEwB,KAAK,CAAC,CAAC,CAAC;IACnE,CAAC;;IAEDhM,IAAI,EAAE,SAAAA,CAAA,EAAW,CACjB,CAAC;IAEDqM,aAAa,EAAE,SAAAA,CAAA,EAAW;MACxB,MAAME,GAAG,GAAGzP,QAAQ,CAACmD,cAAc,CAAC,KAAK,CAAC;MAC1CsM,GAAG,CAAC3C,SAAS,GAAG,KAAK;MACrB2C,GAAG,CAAChB,SAAS,GAAI;AACzB;AACA,sCAAsCpH,4CAAQ;AAC9C,sCAAsCC,4CAAQ;AAC9C,sCAAsCC,4CAAQ;AAC9C,sCAAsCC,4CAAQ;AAC9C;AACA;AACA,+CAA+CK,8CAAU;AACzD;AACA,qDAAqDC,8CAAU;AAC/D;AACA;AACA;AACA,6CAA6CF,kDAAc;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;IACZ;EACJ,CAAC;AACH,CAAC,CAAC,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AChTiC;AACA;AACH;AACI;AAUlB;AAsCI;AACmC;AAE3D,MAAM3K,cAAc,SAAST,+CAAQ,CAAC;EACpCqK,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAAChG,IAAI,GAAG,QAAQ;IACpB,IAAI,CAAC2B,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACG,YAAY,GAAG,IAAI;EAC1B;EACA9E,SAASA,CAAA,EAAG;IACZ;IACE,IAAIxD,iDAAa,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,IAClCvC,iDAAa,GAAGA,qDAAiB,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC;IAAI;IACxD;IACAvC,gDAAY,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG/D,gDAAY,GAAG,CAAC;IAAI;IACtDA,+CAAW,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK,GAAG4B,gDAAY,GAAG,CAAC,EAAE;MAChEA,8CAAU,CAAC,CAAC;IACd;IACA;IACA,IAAIA,8CAAU,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACpE,MAAM,IAC7C6B,iDAAa,GAAGA,qDAAiB,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,IACpDvC,+CAAW,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG/D,gDAAY,GAAG,CAAC;IAAI;IACrDA,gDAAY,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK,GAAG4B,gDAAY,GAAG,CAAC,EAAE;MAC/DA,8CAAU,CAAC,CAAC;IAChB;EACF;AACF;AAEA,MAAM/E,GAAG,SAASD,cAAc,CAAC;EAC/B4J,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrE,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEiD,UAAU,EAAEG,SAAS,CAAC;IAC/C,IAAI,CAAChG,IAAI,GAAG,KAAK;IACjB,IAAI,CAAC2B,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACE,SAAS,GAAG,EAAE;EACrB;AACF;AAEA,MAAM9M,YAAY,CAAC;EACjBqJ,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAiC;IAAA,IAA/BkO,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACvF,IAAI,CAAC9F,IAAI,GAAG,cAAc;IAC1B,IAAI,CAACmG,YAAY,GAAG,IAAI;IACxB,IAAI,CAACxE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;IACD,IAAI,CAACsF,YAAY,GAAG;MAAE;MACpB1J,CAAC,EAAE,CAAC,GAAGiE,UAAU;MACjBzF,CAAC,EAAE,CAAC,GAAG4F;IACT,CAAC;IACD,IAAI,CAAC/J,KAAK,GAAG,EAAE;IACf,IAAI,CAACD,MAAM,GAAG,EAAE;IAChB,IAAI,CAACuP,WAAW,GAAG,CAAC,CAAC,CAAC;IACtB,IAAI,CAACC,OAAO,GAAG,EAAE,CAAC,CAAC;IACnB,IAAI,CAACC,KAAK,GAAG,GAAG;IAChB,IAAI,CAAC9T,gBAAgB,GAAGA,gBAAgB;IACxC,IAAI,CAAC+F,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACuI,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,SAAS,GAAG,EAAE;IACnB,IAAI,CAACjE,OAAO,GAAG;MACbC,IAAI,EAAEU;IACR,CAAC;IACD,IAAI,CAACZ,aAAa,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI;EACxC;EACAhB,IAAIA,CAAA,EAAG;IACL,IAAI,CAAC,IAAI,CAACc,aAAa,CAACa,MAAM,EAAE;IAChC,IAAI,CAACoD,MAAM,EAAE;IACb,IAAI,IAAI,CAACA,MAAM,GAAG,IAAI,CAACC,SAAS,EAAE,IAAI,CAACD,MAAM,GAAG,CAAC;IACjD7O,gDAAW,CAAC,IAAI,CAAC4K,aAAa,EAAE,EAAE,GAAG,IAAI,CAACiE,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,CAACtE,QAAQ,CAACC,CAAC,EAAE,IAAI,CAACD,QAAQ,CAACvB,CAAC,EAAE,IAAI,CAACnE,KAAK,EAAE,IAAI,CAACD,MAAM,CAAC;IACvH,IAAI,CAACsF,KAAK,CAAC,CAAC;IACZ,IAAI,CAAC3J,gBAAgB,CAACuJ,IAAI,CAAC,CAAC;EAC9B;EACAI,KAAKA,CAAA,EAAG;IACN,MAAMmK,KAAK,GAAG,IAAI,CAACA,KAAK;IACxB,IAAIC,QAAQ,EAAEC,QAAQ;IACtB;IACA,QAAO,IAAI,CAAC3L,IAAI;MAClB,KAAK,kBAAkB;QAAE0L,QAAQ,GAAG,IAAI,CAAC/J,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC4J,OAAO,GAAG,CAAC,CAAC,CAAC;QAClE;MACN,KAAK,mBAAmB;QAAEE,QAAQ,GAAG,IAAI,CAAC/J,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK,GAAG,IAAI,CAACuP,OAAO,GAAG,GAAG,CAAC,CAAC;QAClF;MACF,KAAK,gBAAgB;MACrB,KAAK,kBAAkB;QAAEE,QAAQ,GAAG,IAAI,CAAC/J,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK,GAAG,CAAC,GAAG,IAAI,CAACuP,OAAO,GAAG,CAAC;QACrF;IACJ;IACA,QAAO,IAAI,CAACxL,IAAI;MACd,KAAK,kBAAkB;MACvB,KAAK,mBAAmB;QAAE2L,QAAQ,GAAG,IAAI,CAAChK,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACpE,MAAM,GAAG,CAAC,GAAG,IAAI,CAACwP,OAAO,GAAG,GAAG,CAAC,CAAC;QAC3F;MACF,KAAK,gBAAgB;QAAEG,QAAQ,GAAG,IAAI,CAAChK,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACoL,OAAO,GAAG,CAAC,CAAC,CAAC;QACpE;MACF,KAAK,kBAAkB;QAAEG,QAAQ,GAAG,IAAI,CAAChK,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACpE,MAAM,GAAG,IAAI,CAACwP,OAAO,GAAG,IAAI,CAAC,CAAC;QACvF;IACJ;IACA;IACA,QAAO,IAAI,CAACxL,IAAI;MACd,KAAK,kBAAkB;QAAE,IAAI,CAACsL,YAAY,CAAC1J,CAAC,GAAG,IAAI,CAAC2J,WAAW;QAC7D;MACF,KAAK,mBAAmB;QAAE,IAAI,CAACD,YAAY,CAAC1J,CAAC,GAAG,CAAC,IAAI,CAAC2J,WAAW;QAC/D;MACF,KAAK,gBAAgB;MACrB,KAAK,kBAAkB;QAAE,IAAI,CAACD,YAAY,CAAC1J,CAAC,GAAG,CAAC;QAC9C;IACJ;IACA,QAAO,IAAI,CAAC5B,IAAI;MACd,KAAK,kBAAkB;MACvB,KAAK,mBAAmB;QAAE,IAAI,CAACsL,YAAY,CAAClL,CAAC,GAAG,CAAC;QAC/C;MACF,KAAK,gBAAgB;QAAE,IAAI,CAACkL,YAAY,CAAClL,CAAC,GAAG,IAAI,CAACmL,WAAW;QAC3D;MACF,KAAK,kBAAkB;QAAE,IAAI,CAACD,YAAY,CAAClL,CAAC,GAAG,CAAC,IAAI,CAACmL,WAAW;QAC9D;IACJ;IACA,IAAI,CAAC5T,gBAAgB,CAAC2J,KAAK,CAACoK,QAAQ,EAAEC,QAAQ,EAAEF,KAAK,EAAE,IAAI,CAACH,YAAY,CAAC1J,CAAC,EAAE,IAAI,CAAC0J,YAAY,CAAClL,CAAC,EAAE,IAAI,CAACoL,OAAO,EAAE,IAAI,CAACxL,IAAI,EAAE,IAAI,CAACtC,SAAS,CAAC;EAC3I;EACA2D,SAASA,CAAA,EAAG;IACV;IACE,IAAIxD,qDAAiB,GAAGA,iDAAa,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,IACtDvC,qDAAiB,GAAGA,iDAAa,GAAGA,qDAAiB,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC;IAAI;IAC5E;IACAvC,qDAAiB,GAAGA,gDAAY,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG/D,gDAAY,GAAG,CAAC;IAAI;IAC1EA,qDAAiB,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK,GAAG4B,gDAAY,GAAG,CAAC,EAAE;MACtEA,8CAAU,CAAC,CAAC;IACd;IACA;IACA,IAAIA,qDAAiB,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACpE,MAAM,IACpD6B,qDAAiB,GAAGA,iDAAa,GAAGA,qDAAiB,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,IACxEvC,qDAAiB,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG/D,gDAAY,GAAG,CAAC;IAAI;IAC3DA,qDAAiB,GAAGA,gDAAY,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK,GAAG4B,gDAAY,GAAG,CAAC,EAAE;MACnFA,8CAAU,CAAC,CAAC;IAChB;EACF;EACFsD,MAAMA,CAAA,EAAG;IACPjD,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACtB;AACF;AAEA,MAAMpF,gBAAgB,SAASK,YAAY,CAAC;EAC1CqJ,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAiC;IAAA,IAA/BkO,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACvF,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAEkO,UAAU,EAAEG,SAAS,CAAC;IAC5E,IAAI,CAAChG,IAAI,GAAG,kBAAkB;IAC9B,IAAI,CAAC2B,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI,GAAGmD,UAAU;MACpBzF,CAAC,EAAEuC,IAAI,GAAGqD;IACZ,CAAC;EACH;AACF;AAEA,MAAMhN,iBAAiB,SAASI,YAAY,CAAC;EAC3CqJ,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAiC;IAAA,IAA/BkO,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACvF,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAEkO,UAAU,EAAEG,SAAS,CAAC;IAC5E,IAAI,CAAChG,IAAI,GAAG,mBAAmB;EACjC;AACF;AAEA,MAAM/G,cAAc,SAASG,YAAY,CAAC;EACxCqJ,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAiC;IAAA,IAA/BkO,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACvF,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAEkO,UAAU,EAAEG,SAAS,CAAC;IAC5E,IAAI,CAAChG,IAAI,GAAG,gBAAgB;EAC9B;AACF;AAEA,MAAM9G,gBAAgB,SAASE,YAAY,CAAC;EAC1CqJ,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAiC;IAAA,IAA/BkO,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACvF,KAAK,CAACpD,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAElF,SAAS,EAAE/F,gBAAgB,EAAEkO,UAAU,EAAEG,SAAS,CAAC;IAC5E,IAAI,CAAChG,IAAI,GAAG,kBAAkB;EAChC;AACF;AAEA,MAAM7G,gBAAgB,CAAC;EACrBsJ,WAAWA,CAAA,EAAG;IACZ,IAAI,CAAC/E,SAAS,GAAG,IAAI;IACrB,IAAI,CAAC8N,OAAO,GAAG,IAAI;EACrB;EACAI,OAAO,GAAG,EAAE;EACZC,mBAAmB,GAAG,CAAC;EAEvBvK,KAAKA,CAACoB,IAAI,EAAEC,IAAI,EAAE8I,KAAK,EAAEK,QAAQ,EAAEC,QAAQ,EAAEP,OAAO,EAAEQ,wBAAwB,EAAEtO,SAAS,EAAE;IACzF,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAAC8N,OAAO,GAAGA,OAAO;IACtB,IAAI,IAAI,CAACK,mBAAmB,IAAI,CAAC,EAAE;MACjC,IAAI,CAACD,OAAO,CAAC1H,IAAI,CAAC,IAAI+H,MAAM,CAACvJ,IAAI,EAAEC,IAAI,EAAEmJ,QAAQ,EAAEC,QAAQ,EAAEP,OAAO,EAAEQ,wBAAwB,EAAEtO,SAAS,CAAC,CAAC;MAC3G,IAAI,CAACmO,mBAAmB,GAAGJ,KAAK;IAClC;IACA,IAAI,CAACI,mBAAmB,EAAE;EAC5B;EAEA3K,IAAIA,CAAA,EAAG;IACL,IAAI,CAAC0K,OAAO,CAACvN,OAAO,CAAE6N,MAAM,IAAK;MAC/B,IAAI,IAAI,CAACC,iBAAiB,CAACD,MAAM,CAAC,EAAE;QAClC,MAAME,KAAK,GAAG,IAAI,CAACR,OAAO,CAACS,OAAO,CAACH,MAAM,CAAC;QAC1C,IAAI,CAACN,OAAO,CAACU,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MAC/B;MACAF,MAAM,CAAChL,IAAI,CAAC,CAAC;MACbgL,MAAM,CAAC7K,SAAS,CAAC,CAAC;MAClB,IAAI,CAACkL,mBAAmB,CAACL,MAAM,CAAC;IAClC,CAAC,CAAC;EACJ;EAEAK,mBAAmBA,CAACL,MAAM,EAAE;IAC1B,IAAI,CAACxO,SAAS,CAACW,OAAO,CAAEgJ,KAAK,IAAK;MAC/BA,KAAK,CAAClB,YAAY,IACnB+F,MAAM,CAACvK,QAAQ,CAACC,CAAC,GAAGsK,MAAM,CAACjQ,KAAK,GAAG,GAAG,IAAIoL,KAAK,CAAC5F,KAAK,IACrDyK,MAAM,CAACvK,QAAQ,CAACC,CAAC,IAAIyF,KAAK,CAAC1I,IAAI,IAC/BuN,MAAM,CAACvK,QAAQ,CAACvB,CAAC,IAAIiH,KAAK,CAAC7F,MAAM,IACjC0K,MAAM,CAACvK,QAAQ,CAACvB,CAAC,IAAIiH,KAAK,CAACzI,GAAG,IAAK,IAAI,CAACmI,OAAO,CAACmF,MAAM,CAAC;IACzD,CAAC,CAAC;EAEJ;EACAnF,OAAOA,CAACmF,MAAM,EAAE;IACd,MAAME,KAAK,GAAG,IAAI,CAACR,OAAO,CAACS,OAAO,CAACH,MAAM,CAAC;IAC1C,IAAI,CAACN,OAAO,CAACU,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;EAC/B;EAEAI,WAAWA,CAACC,MAAM,EAAE;IAClB,OAAO,IAAI,CAACb,OAAO,CAACxE,IAAI,CAAE8E,MAAM,IAAK;MACnC,IAAIA,MAAM,CAACM,WAAW,CAACC,MAAM,CAAC,EAAE;QAC9B,IAAI,CAACb,OAAO,CAACU,MAAM,CAAC,IAAI,CAACV,OAAO,CAACS,OAAO,CAACH,MAAM,CAAC,EAAE,CAAC,CAAC;QACpD,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC;EACJ;EAEAC,iBAAiBA,CAACD,MAAM,EAAE;IACxB,OAAQA,MAAM,CAACvK,QAAQ,CAACvB,CAAC,IAAI,CAAC,IAC5B8L,MAAM,CAACvK,QAAQ,CAACvB,CAAC,IAAIjJ,kDAAa,IAClC+U,MAAM,CAACvK,QAAQ,CAACC,CAAC,IAAI,CAAC,IACtBsK,MAAM,CAACvK,QAAQ,CAACC,CAAC,IAAIzK,iDAAY;EACrC;AACF;AAEA,MAAM8U,MAAM,CAAC;EACXxJ,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEmJ,QAAQ,EAAEC,QAAQ,EAAEP,OAAO,EAAEQ,wBAAwB,EAAEtO,SAAS,EAAiC;IAAA,IAA/BmI,UAAU,GAAAC,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IAAA,IAAEE,SAAS,GAAAF,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;IACrH,IAAI,CAACnE,QAAQ,GAAG;MACdC,CAAC,EAAEc,IAAI;MACPtC,CAAC,EAAEuC;IACL,CAAC;IACD,IAAI,CAAC3C,IAAI,GAAGgM,wBAAwB;IACpC,IAAI,CAACF,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAAC9P,KAAK,GAAGuP,OAAO;IACpB,IAAI,CAACxP,MAAM,GAAGwP,OAAO;IACrB,IAAI,CAACvF,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,SAAS,GAAG,EAAE;IACnB,IAAI,CAACxI,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACuE,OAAO,GAAG;MACbtD,IAAI,EAAEtH,mDAAW,CAACkL,iDAAY,EAAE,EAAE,EAAE,EAAE,CAAC;MACvCd,KAAK,EAAEpK,mDAAW,CAACmL,kDAAa,EAAE,EAAE,EAAE,EAAE,CAAC;MACzC8B,EAAE,EAAEjN,mDAAW,CAACgL,+CAAU,EAAE,EAAE,EAAE,EAAE,CAAC;MACnCqK,IAAI,EAAErV,mDAAW,CAACiL,iDAAY,EAAE,EAAE,EAAE,EAAE;IACxC,CAAC;IAED,QAAO,IAAI,CAACtC,IAAI;MACd,KAAK,kBAAkB;QAAE,IAAI,CAACgC,aAAa,GAAG,IAAI,CAACC,OAAO,CAACtD,IAAI;QAC7D;MACF,KAAK,mBAAmB;QAAE,IAAI,CAACqD,aAAa,GAAG,IAAI,CAACC,OAAO,CAACR,KAAK;QAC/D;MACF,KAAK,gBAAgB;QAAE,IAAI,CAACO,aAAa,GAAG,IAAI,CAACC,OAAO,CAACqC,EAAE;QACzD;MACF,KAAK,kBAAkB;QAAE,IAAI,CAACtC,aAAa,GAAG,IAAI,CAACC,OAAO,CAACyK,IAAI;QAC7D;IACJ;EACF;EAEAxL,IAAIA,CAAA,EAAG;IACL,IAAI,CAAC,IAAI,CAACc,aAAa,CAACa,MAAM,EAAE;IAChC,IAAI,CAAClB,QAAQ,CAACC,CAAC,IAAI,IAAI,CAACkK,QAAQ;IAChC,IAAI,CAACnK,QAAQ,CAACvB,CAAC,IAAI,IAAI,CAAC2L,QAAQ;IAChC,IAAI,CAAC9F,MAAM,EAAE;IACb,IAAI,IAAI,CAACA,MAAM,GAAG,IAAI,CAACC,SAAS,EAAE,IAAI,CAACD,MAAM,GAAG,CAAC;IACjD7O,gDAAW,CAAC,IAAI,CAAC4K,aAAa,EAAE,EAAE,GAAG,IAAI,CAACiE,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,CAACtE,QAAQ,CAACC,CAAC,EAAE,IAAI,CAACD,QAAQ,CAACvB,CAAC,EAAE,IAAI,CAACnE,KAAK,EAAE,IAAI,CAACD,MAAM,CAAC;EACzH;EAEAqF,SAASA,CAAA,EAAG;IACV,IAAIxD,8CAAU,GAAGA,iDAAa,GAAG,GAAG,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,IACrDvC,8CAAU,GAAGA,iDAAa,GAAG,GAAG,IAAI,IAAI,CAAC8D,QAAQ,CAACvB,CAAC,GAAG,IAAI,CAACpE,MAAM,IACjE6B,+CAAW,GAAGA,gDAAY,GAAG,GAAG,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,IACnD/D,+CAAW,GAAGA,gDAAY,GAAG,GAAG,IAAI,IAAI,CAAC8D,QAAQ,CAACC,CAAC,GAAG,IAAI,CAAC3F,KAAK,EAAE;MAChE4B,8CAAU,CAAC,CAAC;IACd;EACF;AACJ;;;;;;;;;;;;;;;;;;;;;;;ACnVgD;AACA;AAEhD,SAASxG,WAAWA,CAACsV,GAAG,EAAE1Q,KAAK,EAAED,MAAM,EAAE;EACvC,MAAM4G,KAAK,GAAG,IAAIgK,KAAK,CAAC,CAAC;EACzBhK,KAAK,CAACiK,MAAM,GAAG,MAAM;IACnBjK,KAAK,CAACC,MAAM,GAAG,IAAI;EACrB,CAAC;EACDD,KAAK,CAACC,MAAM,GAAG,KAAK;EACpBD,KAAK,CAAC+J,GAAG,GAAGA,GAAG;EACf/J,KAAK,CAAC3G,KAAK,GAAGA,KAAK;EACnB2G,KAAK,CAAC5G,MAAM,GAAGA,MAAM;EACrB,OAAO4G,KAAK;AACd;AAEA,SAASkK,YAAYA,CAAA,EAAe;EAAA,IAAdC,GAAG,GAAAjH,SAAA,CAAArI,MAAA,QAAAqI,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;EAAA,IAAEkH,GAAG,GAAAlH,SAAA,CAAArI,MAAA,OAAAqI,SAAA,MAAAC,SAAA;EAChC,OAAO+B,IAAI,CAACmF,KAAK,CAACF,GAAG,GAAGjF,IAAI,CAACoF,MAAM,CAAC,CAAC,IAAIF,GAAG,GAAG,CAAC,GAAGD,GAAG,CAAC,CAAC;AAC1D;AAEA,SAASI,iBAAiBA,CAAC1B,KAAK,EAAE;EAChC5O,YAAY,GAAGH,UAAU,CAAC,SAAS0Q,SAASA,CAAA,EAAG;IAC7CtQ,YAAY,GAAGJ,UAAU,CAAC0Q,SAAS,EAAE3B,KAAK,CAAC;IAC3C3T,6DAAgB,CAACF,KAAK,CAACyV,IAAI,CAAC;EAC9B,CAAC,EAAE5B,KAAK,CAAC;AACX;AAEA,SAASnU,kCAAkCA,CAAA,EAAG;EAC5C,IAAIuH,6CAAS,EAAE;IACb,IAAIyO,sBAAsB,GAAG,IAAI;IACjC5P,qDAAiB,CAACqC,QAAQ,IAAI;MAC5B,CAAEA,QAAQ,CAACC,IAAI,KAAK,kBAAkB,IACpCD,QAAQ,CAACC,IAAI,KAAK,mBAAmB,IACrCD,QAAQ,CAACC,IAAI,KAAK,gBAAgB,IAClCD,QAAQ,CAACC,IAAI,KAAK,kBAAkB,MAAMsN,sBAAsB,GAAGvN,QAAQ,CAAC0L,KAAK,CAAC;IACtF,CAAC,CAAC;IACF,IAAI/N,kDAAc,CAACqC,QAAQ,IAAI;MAC7B,OAAQA,QAAQ,CAACC,IAAI,KAAK,kBAAkB,IAC5CD,QAAQ,CAACC,IAAI,KAAK,mBAAmB,IACrCD,QAAQ,CAACC,IAAI,KAAK,gBAAgB,IAClCD,QAAQ,CAACC,IAAI,KAAK,kBAAkB;IAAC,CAAC,CAAC,EAAE;MACvCmN,iBAAiB,CAACG,sBAAsB,GAAG,CAAC,CAAC;IACjD;EACF;AACD;AAEA,SAAS/V,UAAUA,CAACoF,CAAC,EAAEsE,OAAO,EAAE;EAC/B,IAAItE,CAAC,CAAC8H,IAAI,KAAK,MAAM,EAAE;IACrB,IAAGxD,OAAO,CAACsM,iBAAiB,EAAE;MAC5BtM,OAAO,CAACsM,iBAAiB,CAAC,CAAC;IAC7B,CAAC,MAAM,IAAGtM,OAAO,CAACuM,uBAAuB,EAAE;MACzCvM,OAAO,CAACwM,uBAAuB,CAAC,CAAC;IACnC,CAAC,MAAM,IAAGxM,OAAO,CAACyM,oBAAoB,EAAE;MACtCzM,OAAO,CAAC0M,oBAAoB,CAAC,CAAC;IAChC;EACF;AACF;AAEA,SAASnW,eAAeA,CAACoW,MAAM,EAAEC,MAAM,EAAE;EACvC,IAAK,cAAc,IAAI1R,MAAM,IAAMA,MAAM,CAAC2R,YAAY,KAAK,IAAK,EAAE;IAChE,IAAIC,aAAa,GAAG;MAClBC,YAAY,EAAEJ,MAAM;MACpBK,YAAY,EAAEJ;IAChB,CAAC;IACHC,YAAY,CAACI,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACL,aAAa,CAAC,CAAC;EAC/D;AACF;AAEA,SAAStW,eAAeA,CAAC4W,GAAG,EAAEpQ,KAAK,EAAE;EACnC,OAAQ6P,YAAY,CAACrQ,MAAM,KAAK,CAAC,GAC/B0Q,IAAI,CAACG,KAAK,CAACR,YAAY,CAACS,OAAO,CAACF,GAAG,CAAC,CAAC,CAACpQ,KAAK,CAAC,GAAG,GAAG;AACtD;AAEA,SAASuQ,cAAcA,CAAA,EAAG;EACxB,MAAMC,QAAQ,GAAG7S,QAAQ,CAACmD,cAAc,CAAC,UAAU,CAAC;EACpD0P,QAAQ,CAAC1E,SAAS,CAAC3I,MAAM,CAAC,UAAU,CAAC;EACrCqN,QAAQ,CAAC1E,SAAS,CAAC3I,MAAM,CAAC,SAAS,CAAC;AACtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5E4E;AACA;AACE;AACA;AACP;AACA;AACiB;AACA;AACC;AACA;AACG;AACA;AACzB;AACA;AACW;AACA;AACX;AACA;AACgD;AACA;AACrC;AACA;AACf;AACA;AACQ;AACA;AACI;AACA;AACJ;AACA;AACiB;AACA;AACnB;AACA;AAEE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAElB;AACM;AAEpD,IAAInJ,aAAa,GAAGR,wDAAe,CAAC,UAAU,EAAE,cAAc,CAAC;AAC/D,IAAIS,WAAW,GAAGT,wDAAe,CAAC,UAAU,EAAE,cAAc,CAAC;AAEpE,MAAMG,KAAK,GAAG;EACZwZ,SAAS,EAAE,IAAIC,KAAK,CAAC,CAAC;EACtBC,QAAQ,EAAE;IACRC,OAAO,EAAE,IAAIF,KAAK,CAAC3C,qEAAY,CAAC;IAChC8C,OAAO,EAAE,IAAIH,KAAK,CAAC1C,qEAAY,CAAC;IAChCtP,MAAM,EAAEpH;EACV,CAAC;EACDuO,SAAS,EAAE;IACT+K,OAAO,EAAE,IAAIF,KAAK,CAACzC,sEAAa,CAAC;IACjC4C,OAAO,EAAE,IAAIH,KAAK,CAACxC,sEAAa,CAAC;IACjCxP,MAAM,EAAEpH;EACV,CAAC;EACDwZ,MAAM,EAAE;IACNF,OAAO,EAAE,IAAIF,KAAK,CAACvC,kEAAU,CAAC;IAC9B0C,OAAO,EAAE,IAAIH,KAAK,CAACtC,kEAAU,CAAC;IAC9B1P,MAAM,EAAEpH;EACV,CAAC;EACD+O,cAAc,EAAE;IACduK,OAAO,EAAE,IAAIF,KAAK,CAACrC,2EAAkB,CAAC;IACtCwC,OAAO,EAAE,IAAIH,KAAK,CAACpC,2EAAkB,CAAC;IACtC5P,MAAM,EAAEpH;EACV,CAAC;EACDyZ,cAAc,EAAE;IACdH,OAAO,EAAE,IAAIF,KAAK,CAACnC,4EAAkB,CAAC;IACtCsC,OAAO,EAAE,IAAIH,KAAK,CAAClC,4EAAkB,CAAC;IACtC9P,MAAM,EAAEpH;EACV,CAAC;EACDkK,eAAe,EAAE;IACfoP,OAAO,EAAE,IAAIF,KAAK,CAACjC,+EAAmB,CAAC;IACvCoC,OAAO,EAAE,IAAIH,KAAK,CAAChC,+EAAmB,CAAC;IACvChQ,MAAM,EAAEpH;EACV,CAAC;EACDoV,IAAI,EAAE;IACJkE,OAAO,EAAE,IAAIF,KAAK,CAAC/B,iEAAQ,CAAC;IAC5BkC,OAAO,EAAE,IAAIH,KAAK,CAAC9B,iEAAQ,CAAC;IAC5BlQ,MAAM,EAAEpH;EACV,CAAC;EACD6B,SAAS,EAAE;IACTyX,OAAO,EAAE,IAAIF,KAAK,CAAC7B,uEAAa,CAAC;IACjCgC,OAAO,EAAE,IAAIH,KAAK,CAAC5B,uEAAa,CAAC;IACjCpQ,MAAM,EAAEpH;EACV,CAAC;EACDoM,IAAI,EAAE;IACJkN,OAAO,EAAE,IAAIF,KAAK,CAAC3B,iEAAQ,CAAC;IAC5B8B,OAAO,EAAE,IAAIH,KAAK,CAAC1B,iEAAQ,CAAC;IAC5BtQ,MAAM,EAAEpH;EACV,CAAC;EACDqO,0BAA0B,EAAE;IAC1BiL,OAAO,EAAE,IAAIF,KAAK,CAACzB,2FAA8B,CAAC;IAClD4B,OAAO,EAAE,IAAIH,KAAK,CAACxB,2FAA8B,CAAC;IAClDxQ,MAAM,EAAEpH,aAAa,GAAG;EAC1B,CAAC;EACD+P,SAAS,EAAE;IACTuJ,OAAO,EAAE,IAAIF,KAAK,CAACvB,uEAAa,CAAC;IACjC0B,OAAO,EAAE,IAAIH,KAAK,CAACtB,uEAAa,CAAC;IACjC1Q,MAAM,EAAEpH;EACV,CAAC;EACD0Z,EAAE,EAAE;IACFJ,OAAO,EAAE,IAAIF,KAAK,CAACrB,+DAAM,CAAC;IAC1BwB,OAAO,EAAE,IAAIH,KAAK,CAACpB,+DAAM,CAAC;IAC1B5Q,MAAM,EAAEpH;EACV,CAAC;EACD2Z,MAAM,EAAE;IACNL,OAAO,EAAE,IAAIF,KAAK,CAACnB,mEAAU,CAAC;IAC9BsB,OAAO,EAAE,IAAIH,KAAK,CAAClB,mEAAU,CAAC;IAC9B9Q,MAAM,EAAEpH;EACV,CAAC;EACD4Z,QAAQ,EAAE;IACRN,OAAO,EAAE,IAAIF,KAAK,CAACjB,qEAAY,CAAC;IAChCoB,OAAO,EAAE,IAAIH,KAAK,CAAChB,qEAAY,CAAC;IAChChR,MAAM,EAAEpH;EACV,CAAC;EACDmJ,MAAM,EAAE;IACNmQ,OAAO,EAAE,IAAIF,KAAK,CAACf,mEAAU,CAAC;IAC9BkB,OAAO,EAAE,IAAIH,KAAK,CAACd,mEAAU,CAAC;IAC9BlR,MAAM,EAAEpH;EACV,CAAC;EACDqP,cAAc,EAAE;IACdiK,OAAO,EAAE,IAAIF,KAAK,CAACb,4EAAkB,CAAC;IACtCgB,OAAO,EAAE,IAAIH,KAAK,CAACZ,4EAAkB,CAAC;IACtCpR,MAAM,EAAEpH;EACV,CAAC;EACD0N,KAAK,EAAE;IACL4L,OAAO,EAAE,IAAIF,KAAK,CAACX,kEAAS,CAAC;IAC7Bc,OAAO,EAAE,IAAIH,KAAK,CAACV,kEAAS,CAAC;IAC7BtR,MAAM,EAAEpH;EACV,CAAC;EAED6Z,OAAO,EAAE;IACPP,OAAO,EAAE,IAAIF,KAAK,CAACT,kEAAW,CAAC;IAC/BY,OAAO,EAAE,IAAIH,KAAK,CAACR,kEAAW,CAAC;IAC/BxR,MAAM,EAAEnH;EACV,CAAC;EACD6Z,OAAO,EAAE;IACPR,OAAO,EAAE,IAAIF,KAAK,CAACP,kEAAW,CAAC;IAC/BU,OAAO,EAAE,IAAIH,KAAK,CAACN,kEAAW,CAAC;IAC/B1R,MAAM,EAAEnH;EACV,CAAC;EACD8Z,OAAO,EAAE;IACPT,OAAO,EAAE,IAAIF,KAAK,CAACL,kEAAW,CAAC;IAC/BQ,OAAO,EAAE,IAAIH,KAAK,CAACJ,kEAAW,CAAC;IAC/B5R,MAAM,EAAEnH;EACV,CAAC;EACD+Z,OAAO,EAAE;IACPV,OAAO,EAAE,IAAIF,KAAK,CAACH,kEAAW,CAAC;IAC/BM,OAAO,EAAE,IAAIH,KAAK,CAACF,kEAAW,CAAC;IAC/B9R,MAAM,EAAEnH;EACV;AACF,CAAC;AAED,IAAIL,MAAM,GAAG,IAAI;AAChB;AACA;AAAC,CAAC,YAAW;EACZ,IAAID,KAAK,CAACwZ,SAAS,CAACc,WAAW,CAAC,YAAY,CAAC,KAAK,UAAU,EAAE;IAC5Dra,MAAM,GAAG,SAAS;EAClB,CAAC,MAAM;IACLA,MAAM,GAAG,SAAS;EACpB;EACF,KAAK,IAAIuH,KAAK,IAAIxH,KAAK,EAAE;IACvB,IAAIA,KAAK,GAAGwH,KAAK,CAAC,GAAGvH,MAAM,CAAC,EAAE;MAC5B,IAAI;QAAE0Z,OAAO,EAAEY,GAAG;QAAEX,OAAO,EAAEY;MAAI,CAAC,GAAGxa,KAAK,CAACwH,KAAK,CAAC;MAC/C+S,GAAG,CAACvS,IAAI,CAAC,CAAC;MACVuS,GAAG,CAAC5S,KAAK,CAAC,CAAC;MACX6S,GAAG,CAACxS,IAAI,CAAC,CAAC;MACVwS,GAAG,CAAC7S,KAAK,CAAC,CAAC;IACb;EACF;AACJ,CAAC,EAAE,CAAC;AAGJ,SAASzH,gBAAgBA,CAACua,IAAI,EAAE;EAC9BA,IAAI,CAACxa,MAAM,CAAC,CAACya,WAAW,GAAG,CAAC;EAC5BD,IAAI,CAACxa,MAAM,CAAC,CAAC+H,IAAI,CAAC,CAAC;AACrB;AAEA,SAAS7H,cAAcA,CAACwa,QAAQ,EAAE;EAChC,IAAIC,UAAU,GAAG,EAAE;EACnB,IAAIlT,KAAK;EACT,KAAK,IAAIF,KAAK,IAAImT,QAAQ,EAAE;IAC1BnT,KAAK,CAACqT,QAAQ,CAAC,OAAO,CAAC,IAAID,UAAU,CAACtO,IAAI,CAACqO,QAAQ,CAACnT,KAAK,CAAC,CAAC;EAC7D;EACAE,KAAK,GAAGkT,UAAU,CAAC1F,qDAAY,CAAC,CAAC,EAAE0F,UAAU,CAAC/U,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC5F,MAAM,CAAC;EAClEyH,KAAK,CAACgT,WAAW,GAAG,CAAC;EACrBhT,KAAK,CAACD,MAAM,GAAGnH,WAAW;EAC1B,OAAOoH,KAAK;AACd;AAEA,MAAMtH,aAAa,GAAGA,CAAC0a,YAAY,EAAEH,QAAQ,KAAK;EAChD,IAAIC,UAAU,GAAG,EAAE;EACnB,IAAIG,kBAAkB,GAAG,IAAI;EAC7B,KAAK,IAAIvT,KAAK,IAAImT,QAAQ,EAAE;IAC1BnT,KAAK,CAACqT,QAAQ,CAAC,OAAO,CAAC,IAAID,UAAU,CAACtO,IAAI,CAACqO,QAAQ,CAACnT,KAAK,CAAC,CAAC;EAC7D;EACAoT,UAAU,CAACnU,OAAO,CAAC,CAACiB,KAAK,EAAE8M,KAAK,KAAK;IACnC9M,KAAK,CAACzH,MAAM,CAAC,KAAK6a,YAAY,KAAKC,kBAAkB,GAAGvG,KAAK,CAAC;EAChE,CAAC,CAAC;EACFuG,kBAAkB,GAAIH,UAAU,CAAC/U,MAAM,GAAG,CAAE,GAAGkV,kBAAkB,EAAE,GAAGA,kBAAkB,GAAG,CAAC;EAChFH,UAAU,CAACG,kBAAkB,CAAC,CAAC9a,MAAM,CAAC,CAACya,WAAW,GAAG,CAAC;EACtDE,UAAU,CAACG,kBAAkB,CAAC,CAAC9a,MAAM,CAAC,CAACwH,MAAM,GAAGnH,WAAW;EACvEsa,UAAU,CAACG,kBAAkB,CAAC,CAAC9a,MAAM,CAAC,CAAC+H,IAAI,CAAC,CAAC;EAC7C4S,UAAU,CAACG,kBAAkB,CAAC,CAAC9a,MAAM,CAAC,CAACgI,OAAO,GAAG,YAAW;IAC1D7H,aAAa,CAACwa,UAAU,CAACG,kBAAkB,CAAC,CAAC9a,MAAM,CAAC,EAAED,KAAK,CAAC;EAC9D,CAAC;AACH,CAAC;AAED,SAASO,SAASA,CAACwE,CAAC,EAAE;EACpB,IAAIA,CAAC,CAAC+C,MAAM,CAACC,OAAO,CAAC,WAAW,CAAC,EAAE;IACjC,KAAK,IAAIP,KAAK,IAAIxH,KAAK,EAAE;MACvB,IAAIA,KAAK,GAAGwH,KAAK,CAAC,GAAGvH,MAAM,CAAC,EAAE;QAC5BD,KAAK,CAACwH,KAAK,CAAC,CAACvH,MAAM,CAAC,CAAC+a,KAAK,KAAK,KAAK,GACpChb,KAAK,CAACwH,KAAK,CAAC,CAACvH,MAAM,CAAC,CAAC+a,KAAK,GAAG,IAAI,GACjChb,KAAK,CAACwH,KAAK,CAAC,CAACvH,MAAM,CAAC,CAAC+a,KAAK,GAAG,KAAK;MACpC;IACF;IACApE,uDAAc,CAAC,CAAC;EAClB;AACF;;;;;;;;;;;;AClOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;UElBA;UACA;UACA;UACA;UACA","sources":["webpack://platform_traveller/./src/index.js","webpack://platform_traveller/./src/js/AdditionalElements.js","webpack://platform_traveller/./src/js/Assets.js","webpack://platform_traveller/./src/js/Canvas.js","webpack://platform_traveller/./src/js/Collision.js","webpack://platform_traveller/./src/js/Keys.js","webpack://platform_traveller/./src/js/Levels.js","webpack://platform_traveller/./src/js/Platform.js","webpack://platform_traveller/./src/js/Player.js","webpack://platform_traveller/./src/js/SPA.js","webpack://platform_traveller/./src/js/Traps.js","webpack://platform_traveller/./src/js/Utils.js","webpack://platform_traveller/./src/js/data/Audio.js","webpack://platform_traveller/./src/sass/styles.scss","webpack://platform_traveller/webpack/bootstrap","webpack://platform_traveller/webpack/runtime/define property getters","webpack://platform_traveller/webpack/runtime/global","webpack://platform_traveller/webpack/runtime/hasOwnProperty shorthand","webpack://platform_traveller/webpack/runtime/make namespace object","webpack://platform_traveller/webpack/runtime/publicPath","webpack://platform_traveller/webpack/before-startup","webpack://platform_traveller/webpack/startup","webpack://platform_traveller/webpack/after-startup"],"sourcesContent":["//import './sass/styles.scss';  // прописано в Webpack entry points\r\n\r\nimport { mySPA } from './js/SPA';\r\nimport { parseCollisitions } from './js/Collision';\r\nimport { canvas, c } from './js/Canvas';\r\nimport { createImage, flamethrowerShootSoundIntervalInit, fullScreen, setLocalStorage, getLocalStorage } from './js/Utils';\r\nimport { Player } from './js/Player';\r\nimport { bulletController } from './js/Collision';\r\nimport { audio, source, gameSoundEffects, getRandomTrack, playNextTrack, volumeEffects, volumeMusic, muteSound } from './js/data/Audio';\r\nimport { Platform,\r\n  OneStep,\r\n  Fan,\r\n  JumpToggleActive,\r\n  JumpToggleDisabled,\r\n  PlatformOne,\r\n  PlatformTwo,\r\n  PlatformThree,\r\n  DeadSignal,\r\n} from './js/Platform';\r\n\r\nimport {\r\n  PlatformSpikes,\r\n  Saw,\r\n  FlamethrowerLeft,\r\n  FlamethrowerRight,\r\n  FlamethrowerUp,\r\n  FlamethrowerDown,\r\n  BulletController,\r\n  Flamethrower\r\n} from './js/Traps';\r\nimport { platformImgSrc300,\r\n          heroIdleR,\r\n          heroIdleL,\r\n          heroRunR,\r\n          heroRunL,\r\n          heroJumpR,\r\n          heroJumpL,\r\n          heroFallR,\r\n          heroFallL,\r\n          heroDeath,\r\n          backgroundImg,\r\n          win,\r\n          platformSolid,\r\n          platformOneStep,\r\n          platformOneStepExplosion,\r\n          platformJump,\r\n          platformJumpDisabled,\r\n          platformOne,\r\n          platformTwo,\r\n          platformThree,\r\n          platformOneDisabled,\r\n          platformTwoDisabled,\r\n          platformThreeDisabled,\r\n          saw,\r\n          fan,\r\n          spike,\r\n          deadSignalZone,\r\n          deadSignalZoneHover,\r\n          flamethrowerLeft,\r\n          flamethrowerRight,\r\n          flamethrowerUp,\r\n          flamethrowerDown,\r\n          brick_1,\r\n          brick_2,\r\n        } from './js/Assets';\r\nimport { keys, keyDownHandler, keyUpHandler } from './js/Keys';\r\nimport { AdditionalElements } from './js/AdditionalElements';\r\nimport { requestLevelMap } from './js/Levels';\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', mySPA.init('root', 'content'));\r\n\r\n\r\n\r\nconst fontSize = canvas.height / 5; // 10\r\ncanvas.width = 1024 // 1280\r\ncanvas.height = 576 // 720\r\nexport let requestAnim = window.requestAnimationFrame ||\r\n                  window.webkitRequestAnimationFrame ||\r\n                  window.mozRequestAnimationFrame ||\r\n                  window.oRequestAnimationFrame ||\r\n                  window.msRequestAnimationFrame ||\r\n                  function(callback) { window.setTimeout(callback, 1000 / 60); }\r\n\r\nwindow.addEventListener('keydown', (e) => fullScreen(e, canvas));\r\n\r\n\r\n\r\n\r\nlet leftNeighboorBlockFromHeroArr = [];\r\nexport let timerShoot_1 = null;\r\nexport let timerShoot_2 = null;\r\nexport let leftNeighboorBlockFromHero = null;\r\nexport let completeLevel = false;\r\n\r\n///////////////////////////////////////////////////////////\r\n\r\n\r\nconst ajaxHandlerScript=\"https://fe.it-academy.by/AjaxStringStorage2.php\";\r\nlet updatePassword;\r\nconst stringName='surname_namegame_visits';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////\r\n\r\nexport let additionalElements = [\r\n  new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n]\r\n\r\n\r\nexport let level = 1;\r\nfunction increseLevel(obj) {\r\n  return level >= Object.keys(obj).length ? level : ++level;\r\n }\r\n\r\nexport let platforms = [],\r\n           levelMap,\r\n           parsedCollisions,\r\n           player;\r\n\r\n\r\nrequestLevelMap(`../src/js/json/levelMap_${level}.json`, setLevelMap, parseCollisitions, createPlayer, init, animate);\r\n\r\n \r\nfunction setLevelMap(value) {\r\n  levelMap = value;\r\n  console.log(levelMap)\r\n  return levelMap;\r\n}\r\n\r\nfunction createPlayer(levelMap, platforms) {\r\n  levelMap.map.forEach((row, index_Y) => {\r\n    row.forEach((cell, index_X) => {\r\n    if (cell === 'st') {\r\n      player = new Player({ platforms }, index_X * 36, index_Y * 36, levelMap.margin.left, levelMap.margin.top);\r\n    } \r\n    })\r\n  })\r\n  return player;\r\n}\r\n\r\n\r\n\r\nexport let initStart = true;\r\n\r\n// Получение значений с input type='range' volume\r\nconst main = document.getElementById('content');\r\nexport function setVolumeRangeHandlers() {\r\n  const volumeRangeSound = main.querySelector('#volume-snd');\r\n  const volumeRangeMusic = main.querySelector('#volume-msc');\r\n  if (volumeRangeSound || volumeRangeMusic) {\r\n    volumeRangeSound.addEventListener('change', () => {\r\n      for (let sound in audio) {\r\n        if (audio?.[sound]?.[source]\r\n          && (sound != 'track_1' &&\r\n              sound != 'track_2' &&\r\n              sound != 'track_3' &&\r\n              sound != 'track_4')) {\r\n          audio[sound][source].volume = volumeRangeSound.value;\r\n        }\r\n      }\r\n      setLocalStorage(volumeRangeSound.value, volumeRangeMusic.value);\r\n    });\r\n    volumeRangeMusic.addEventListener('change', () => {\r\n      for (let sound in audio) {\r\n        if (audio?.[sound]?.[source]\r\n          && (sound === 'track_1' ||\r\n              sound === 'track_2' ||\r\n              sound === 'track_3' ||\r\n              sound === 'track_4')) {\r\n          audio[sound][source].volume = volumeRangeMusic.value;\r\n        }\r\n      }\r\n      setLocalStorage(volumeRangeSound.value, volumeRangeMusic.value);\r\n    });\r\n  }\r\n}\r\nmain && window.addEventListener('load', setVolumeRangeHandlers);\r\nmain && window.addEventListener('hashchange', setVolumeRangeHandlers);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ndocument.getElementById('mute-btn').addEventListener('click', muteSound);\r\n\r\n\r\n\r\n\r\nlet track = getRandomTrack(audio);\r\ntrack.pause();\r\ntrack = getRandomTrack(audio);\r\n\r\n let isInitMusicPlay = false;\r\n function playMusic(e) {\r\n  if (e.target.closest('#select-lvl')) {\r\n    if (!isInitMusicPlay) {\r\n      track.play();\r\n    }\r\n    isInitMusicPlay = true;\r\n  }\r\n }\r\nwindow.addEventListener('click', playMusic);\r\n\r\n\r\n\r\n\r\n\r\n\r\ntrack.onended = function() {\r\n  playNextTrack(track, audio);\r\n}\r\n\r\n\r\nfunction reloadGameplay() {\r\n  additionalElements = [new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n  ];\r\n    platforms.forEach(platform => {\r\n      (platform.type === 'oneStep') && platform.restore();\r\n    });\r\n    levelMap.map.forEach((row, index_Y) => {\r\n      row.forEach((cell, index_X) => {\r\n       cell === 'st' && (player = new Player({ platforms }, index_X * 36, index_Y * 36, levelMap.margin.left, levelMap.margin.top));\r\n      })\r\n    })  \r\n}\r\n\r\nlet levelOverlay = createImage(win);\r\nlevelOverlay.width = canvas.width;\r\nlevelOverlay.height = canvas.height;\r\n\r\nexport function init() {\r\n  flamethrowerShootSoundIntervalInit();\r\n  initStart = false;\r\n  player.velocity.y = 1;\r\n  player.alive = true;\r\n  keys.spaceToggleCounter = 1;\r\n  \r\n  if (player.completeLevel) {\r\n    c.save();\r\n    c.fillStyle = 'rgb(247, 251, 254)';\r\n    c.fillRect(0, 0, canvas.width, canvas.height, canvas.width / 2, canvas.height / 2);\r\n    c.drawImage(levelOverlay, 0, 0, canvas.width, canvas.height);\r\n    \r\n    c.fillStyle = 'rgb(21, 173, 188)';\r\n    c.font = `normal ${fontSize}px Rubik Iso`;\r\n    c.textBaseline = 'middle';\r\n    c.textAlign = 'center';\r\n    canvas.style.letterSpacing = `${fontSize / 20}px`;\r\n    c.fillText('Next level', canvas.width / 2, canvas.height / 2)\r\n    c.restore();\r\n    setTimeout(() => reloadGameplay(), 1250);\r\n    player.completeLevel = false;\r\n  } else {\r\n    reloadGameplay();\r\n} \r\nreturn player;\r\n}                      \r\n\r\n\r\nfunction animate() {\r\n  requestAnim(animate);\r\n  console.log('animation counter');\r\n  additionalElements.forEach(element => element.draw());\r\n                \r\n  platforms.forEach(platform => platform.draw());\r\n  platforms.forEach(platform => platform.update());\r\n  platforms.forEach(platform => {\r\n    (platform.type === 'jumpToggleActive' || platform.type === 'jumpToggleDisabled') && platform.toggle();\r\n  \r\n  if (platform.type === 'platformOne' ||\r\n      platform.type === 'platformTwo' ||\r\n      platform.type === 'platformThree' ||\r\n      platform.type === 'deadSignalZone' ||\r\n      platform.type === 'flamethrowerLeft' ||\r\n      platform.type === 'flamethrowerRight' ||\r\n      platform.type === 'flamethrowerUp' ||\r\n      platform.type === 'flamethrowerDown') {\r\n        platform.collision();\r\n  }\r\n\r\n  if (platform.type === 'flamethrowerLeft' ||\r\n      platform.type === 'flamethrowerRight' ||\r\n      platform.type === 'flamethrowerUp' ||\r\n      platform.type === 'flamethrowerDown') {\r\n        platform.shoot();                      \r\n  }\r\n  });\r\n                          \r\n  leftNeighboorBlockFromHeroArr = platforms.filter(platform => {\r\n    return (platform.left <= player.left &&\r\n      (platform.top <= player.top &&\r\n      platform.bottom >= player.bottom)\r\n      );\r\n  })\r\n  leftNeighboorBlockFromHero = leftNeighboorBlockFromHeroArr[leftNeighboorBlockFromHeroArr.length - 1];\r\n  player.update();\r\n\r\n  if (keys.right.pressed && (player.position.x + player.width) <= canvas.width) { // упор персонажа в правый край экрана\r\n    player.velocity.x = 2;\r\n  } else if (keys.left.pressed && player.position.x >= 0) { // упор персонажа в левый край экрана\r\n    player.velocity.x = -2;\r\n  } else {\r\n    player.velocity.x = 0;\r\n  }\r\n \r\n  if (player.velocity.y >= player.jumpHeight - player.gravity && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'right') { // 10 - когда персонаж на земле\r\n    player.currentSprite = player.sprites.idle.right;\r\n  } else if (player.velocity.y >= player.jumpHeight - player.gravity && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'left') { // 10 - когда персонаж на земле\r\n    player.currentSprite = player.sprites.idle.left;\r\n  }\r\n\r\n  // Падение в пропасть (см. комментарии в player.update())\r\n  if (player.position.y > canvas.height) {\r\n    gameSoundEffects(audio.fallingInDepth2);\r\n    keys.jumpToggleActive = !keys.jumpToggleActive;\r\n    init();\r\n  }\r\n}\r\n// init();\r\n// animate();\r\n\r\nwindow.addEventListener('keydown', keyDownHandler);\r\nwindow.addEventListener('keyup', keyUpHandler);","import { canvas, c } from './Canvas';\r\nimport { createImage } from './Utils';\r\nimport {\r\n  platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        heroDeath,\r\n        backgroundImg,\r\n        platformSolid,\r\n        platformOneStep,\r\n        platformOneStepExplosion,\r\n        platformJump,\r\n        platformJumpDisabled,\r\n        platformOne,\r\n        platformTwo,\r\n        platformThree,\r\n        platformOneDisabled,\r\n        platformTwoDisabled,\r\n        platformThreeDisabled,\r\n        saw,\r\n        fan,\r\n        spike,\r\n        deadSignalZone,\r\n        deadSignalZoneHover,\r\n        flamethrowerLeft,\r\n        flamethrowerRight,\r\n        flamethrowerUp,\r\n        flamethrowerDown,\r\n        fireballUp,\r\n        fireballDown,\r\n        fireballLeft,\r\n        fireballRight,\r\n        brick_1,\r\n        brick_2,\r\n} from './Assets';\r\nexport class AdditionalElements {\r\n  constructor (posX, posY, image) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY,\r\n    }\r\n    this.sprites = {\r\n      idle: createImage(backgroundImg, canvas.width, canvas.height),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.type = 'backgrounds';\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;   \r\n  }\r\n  draw() {\r\n    if (!this.currentSprite.loaded) return;\r\n    c.drawImage(this.currentSprite, this.position.x, this.position.y, canvas.width, canvas.height);\r\n  }\r\n}","import platformImgSrc300 from '/assets/img/Platforms/platform.png';\r\nimport heroIdleR from '/assets/img/Hero/Idle_right.png';\r\nimport heroIdleL from '/assets/img/Hero/Idle_left.png';\r\nimport heroRunR from '/assets/img/Hero/Run_right.png';\r\nimport heroRunL from '/assets/img/Hero/Run_left.png';\r\nimport heroJumpR from '/assets/img/Hero/Jump_right.png';\r\nimport heroJumpL from '/assets/img/Hero/Jump_left.png';\r\nimport heroFallR from '/assets/img/Hero/Fall_right.png';\r\nimport heroFallL from '/assets/img/Hero/Fall_left.png';\r\nimport heroDeath from '/assets/img/Hero/Player_death.png';\r\nimport backgroundImg from '/assets/img/Background_images/bg_1.jpg';\r\nimport win from '/assets/img/Background_images/Win_4.jpg';\r\nimport platformSolid from '/assets/img/Platforms/Platform_solid.png';\r\nimport platformOneStep from '/assets/img/Platforms/Platform_oneStep.png';\r\nimport platformOneStepExplosion from '/assets/img/Platforms/Platform_oneStep_Explosion.png';\r\nimport platformJump from '/assets/img/Platforms/Platform_jump.png';\r\nimport platformJumpDisabled from '/assets/img/Platforms/Platform_jump_disabled.png';\r\nimport platformOne from '/assets/img/Platforms/Platform_one.png';\r\nimport platformTwo from '/assets/img/Platforms/Platform_two.png';\r\nimport platformThree from '/assets/img/Platforms/Platform_three.png';\r\nimport platformOneDisabled from '/assets/img/Platforms/Platform_one_disabled.png';\r\nimport platformTwoDisabled from '/assets/img/Platforms/Platform_two_disabled.png';\r\nimport platformThreeDisabled from '/assets/img/Platforms/Platform_three_disabled.png';\r\nimport finish from '/assets/img/Platforms/Finish_T_L.png';\r\nimport brick_1 from '/assets/img/Platforms/brick_1.png';\r\nimport brick_2 from '/assets/img/Platforms/brick_2.png';\r\nimport saw from '/assets/img/Traps/Saw.png';\r\nimport fan from '/assets/img/Traps/Fan.png';\r\nimport spike from '/assets/img/Traps/Platform_spikes.png';\r\nimport deadSignalZone from '/assets/img/Traps/Dead_signal_zone.png';\r\nimport deadSignalZoneHover from '/assets/img/Traps/Dead_signal_zone_hover.png';\r\nimport flamethrowerLeft from '/assets/img/Traps/Flamethrower_left.png';\r\nimport flamethrowerRight from '/assets/img/Traps/Flamethrower_right.png';\r\nimport flamethrowerUp from '/assets/img/Traps/Flamethrower_up.png';\r\nimport flamethrowerDown from '/assets/img/Traps/Flamethrower_down.png';\r\nimport fireballUp from '/assets/img/Traps/Fireball_up.png';\r\nimport fireballDown from '/assets/img/Traps/Fireball_down.png';\r\nimport fireballLeft from '/assets/img/Traps/Fireball_left.png';\r\nimport fireballRight from '/assets/img/Traps/Fireball_right.png';\r\n\r\nimport arrows from '/assets/img/SPA/arrows.png';\r\nimport spaceImg from '/assets/img/SPA/space.png';\r\nimport cloud_1 from '/assets/img/SPA/cloud_1.png';\r\nimport cloud_2 from '/assets/img/SPA/cloud_2.png';\r\nimport cloud_3 from '/assets/img/SPA/cloud_3.png';\r\nimport cloud_4 from '/assets/img/SPA/cloud_4.png';\r\nimport fKeyImg from '/assets/img/SPA/f.png';\r\nimport mKeyImg from '/assets/img/SPA/m.png';\r\nimport errorImg from '/assets/img/SPA/404.png';\r\nimport birdFlyingImg from '/assets/img/SPA/flying.gif';\r\nimport logoImg_1 from '/assets/img/SPA/logo.png';\r\nimport logoImg_2 from '/assets/img/SPA/logo_2.png';\r\nimport muteOff from '/assets/img/SPA/mute_off.png';\r\nimport muteOn from '/assets/img/SPA/mute_on.png';\r\n\r\nexport { platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        heroDeath,\r\n        backgroundImg,\r\n        win,\r\n        platformSolid,\r\n        platformOneStep,\r\n        platformOneStepExplosion,\r\n        platformJump,\r\n        platformJumpDisabled,\r\n        platformOne,\r\n        platformTwo,\r\n        platformThree,\r\n        platformOneDisabled,\r\n        platformTwoDisabled,\r\n        platformThreeDisabled,\r\n        saw,\r\n        fan,\r\n        spike,\r\n        deadSignalZone,\r\n        deadSignalZoneHover,\r\n        flamethrowerLeft,\r\n        flamethrowerRight,\r\n        flamethrowerUp,\r\n        flamethrowerDown,\r\n        fireballUp,\r\n        fireballDown,\r\n        fireballLeft,\r\n        fireballRight,\r\n        brick_1,\r\n        brick_2,\r\n        finish,\r\n        arrows,\r\n        spaceImg,\r\n        cloud_1,\r\n        cloud_2,\r\n        cloud_3,\r\n        cloud_4,\r\n        fKeyImg,\r\n        mKeyImg,\r\n        errorImg,\r\n        birdFlyingImg,\r\n        logoImg_1,\r\n        logoImg_2,\r\n        muteOff,\r\n        muteOn\r\n      }","const canvas = document.getElementById('canvas');\r\nconst c = canvas.getContext(\"2d\");\r\n\r\n\r\nexport { canvas, c }","import { canvas, c } from './Canvas';\r\nimport { platforms, parsedCollisions } from '../index';\r\n\r\nimport { Platform,\r\n  OneStep,\r\n  Fan,\r\n  JumpToggleActive,\r\n  JumpToggleDisabled,\r\n  PlatformOne,\r\n  PlatformTwo,\r\n  PlatformThree,\r\n  DeadSignal,\r\n  Brick_1,\r\n  Brick_2,\r\n  Finish,\r\n} from './Platform';\r\n\r\n\r\n\r\nimport {\r\n  PlatformSpikes,\r\n  Saw,\r\n  FlamethrowerLeft,\r\n  FlamethrowerRight,\r\n  FlamethrowerUp,\r\n  FlamethrowerDown,\r\n  BulletController,\r\n} from './Traps';\r\n\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n  brick_1,\r\n  brick_2,\r\n} from './Assets';\r\nimport { createImage, Sprite } from './Utils';\r\nimport { Player } from './Player';\r\n\r\nexport function parseCollisitions(levelMap, platforms) {\r\n  levelMap.map.forEach((row, index_Y) => {\r\n    row.forEach((cell, index_X) => {\r\n      switch(cell) {\r\n        case '1p': // Space toggled platform (One)\r\n          platforms.push(new PlatformOne(index_X * 36, index_Y * 36, createImage(platformOne, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case '2p': // Space toggled platform (Two)\r\n          platforms.push(new PlatformTwo(index_X * 36, index_Y * 36, createImage(platformTwo, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case '3p': // Space toggled platform (Three)\r\n          platforms.push(new PlatformThree(index_X * 36, index_Y * 36, createImage(platformThree, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case '1s': // One-Step platform\r\n          platforms.push(new OneStep(index_X * 36, index_Y * 36, createImage(platformOneStep, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case 'sl': // Solid platform\r\n          platforms.push(new Platform( // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n            index_X * 36, index_Y * 36, createImage(platformSolid, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case 'ja': // Jump-toggled platform (active)\r\n          platforms.push(new JumpToggleActive(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case 'jd': // Jump-toggled platform (disabled)\r\n          platforms.push(new JumpToggleDisabled(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case 'sk': // Saw trap platform\r\n          platforms.push(new PlatformSpikes(index_X * 36, index_Y * 36, createImage(spike, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case 'sw': // Spikes trap platform\r\n          platforms.push(new Saw(index_X * 36, index_Y * 36, createImage(saw, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case 'dz': // Dead signal zone\r\n          platforms.push(new DeadSignal(\r\n            index_X * 36, index_Y * 36, createImage(deadSignalZone, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n            break;\r\n        case 'fl': // Flamethrower (left)\r\n        platforms.push(new FlamethrowerLeft(\r\n          index_X * 36, index_Y * 36, createImage(flamethrowerLeft, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n        case 'fr': // Flamethrower (right)\r\n        platforms.push(new FlamethrowerRight(\r\n          index_X * 36, index_Y * 36, createImage(flamethrowerRight, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n        case 'fu': // Flamethrower (up)\r\n        platforms.push(new FlamethrowerUp(\r\n          index_X * 36, index_Y * 36, createImage(flamethrowerUp, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n        case 'fd': // Flamethrower (down)\r\n        platforms.push(new FlamethrowerDown(\r\n          index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n        case 'fn': // Fan (decoration)\r\n        platforms.push(new Fan(\r\n          index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n        case 'b1': // Fan (decoration)\r\n        platforms.push(new Brick_1(\r\n          index_X * 36, index_Y * 36, createImage(brick_1, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n        case 'b2': // Fan (decoration)\r\n        platforms.push(new Brick_2(\r\n          index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n        case 'fp': // Finish point\r\n        platforms.push(new Finish(\r\n          index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\r\n          break;\r\n      }\r\n    })\r\n  })\r\n  return levelMap;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const parsedCollisions = collisionsLevel_1.map.forEach((row, index_Y) => {\r\n//   row.forEach((cell, index_X) => {\r\n//     switch(cell) {\r\n//       case '1p': // Space toggled platform (One)\r\n//         platforms.push(new PlatformOne(index_X * 36, index_Y * 36, createImage(platformOne, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case '2p': // Space toggled platform (Two)\r\n//         platforms.push(new PlatformTwo(index_X * 36, index_Y * 36, createImage(platformTwo, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case '3p': // Space toggled platform (Three)\r\n//         platforms.push(new PlatformThree(index_X * 36, index_Y * 36, createImage(platformThree, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case '1s': // One-Step platform\r\n//         platforms.push(new OneStep(index_X * 36, index_Y * 36, createImage(platformOneStep, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case 'sl': // Solid platform\r\n//         platforms.push(new Platform( // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n//           index_X * 36, index_Y * 36, createImage(platformSolid, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case 'ja': // Jump-toggled platform (active)\r\n//         platforms.push(new JumpToggleActive(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case 'jd': // Jump-toggled platform (disabled)\r\n//         platforms.push(new JumpToggleDisabled(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case 'sk': // Saw trap platform\r\n//         platforms.push(new PlatformSpikes(index_X * 36, index_Y * 36, createImage(spike, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case 'sw': // Spikes trap platform\r\n//         platforms.push(new Saw(index_X * 36, index_Y * 36, createImage(saw, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case 'dz': // Dead signal zone\r\n//         platforms.push(new DeadSignal(\r\n//           index_X * 36, index_Y * 36, createImage(deadSignalZone, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//           break;\r\n//       case 'fl': // Flamethrower (left)\r\n//       platforms.push(new FlamethrowerLeft(\r\n//         index_X * 36, index_Y * 36, createImage(flamethrowerLeft, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//       case 'fr': // Flamethrower (right)\r\n//       platforms.push(new FlamethrowerRight(\r\n//         index_X * 36, index_Y * 36, createImage(flamethrowerRight, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//       case 'fu': // Flamethrower (up)\r\n//       platforms.push(new FlamethrowerUp(\r\n//         index_X * 36, index_Y * 36, createImage(flamethrowerUp, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//       case 'fd': // Flamethrower (down)\r\n//       platforms.push(new FlamethrowerDown(\r\n//         index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//       case 'fn': // Fan (decoration)\r\n//       platforms.push(new Fan(\r\n//         index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//       case 'b1': // Fan (decoration)\r\n//       platforms.push(new Brick_1(\r\n//         index_X * 36, index_Y * 36, createImage(brick_1, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//       case 'b2': // Fan (decoration)\r\n//       platforms.push(new Brick_2(\r\n//         index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//       case 'fp': // Finish point\r\n//       platforms.push(new Finish(\r\n//         index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\r\n//         break;\r\n//     }\r\n//   })\r\n// })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport { platforms, parsedCollisions }","import { player } from '../index';\r\nimport { platforms } from '../index';\r\nimport { sawTrap, sawTrap2 } from '../index';\r\nimport { jump } from '../index';\r\nimport { audio, gameSoundEffects } from './data/Audio';\r\n\r\n\r\n\r\nconst keys = {\r\n  right: {\r\n    pressed: false\r\n  },\r\n  left: {\r\n    pressed: false\r\n  },\r\n  up: {\r\n    pressed: false\r\n  },\r\n  space: {\r\n    pressed: false\r\n  },\r\n  lastPressed: 'right',\r\n  jumpToggleActive: true,\r\n  isJumped: false,\r\n  spaceToggleCounter: 1, // Platform One type is active\r\n  deadSignalZone: false,\r\n};\r\n                                                // let hiddenPlatformsArr = []\r\n                                                \r\nconst keyDownHandler = (e) => {\r\n  console.log(e.code)\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp':\r\n        keys.up.pressed = true;\r\n        if (player.velocity.y <= 0 && player.velocity.y >= -3.5) { //(player.velocity.y === 0) или (player.velocity.y <= 0 && player.velocity.y >= -3.5)\r\n          keys.jumpToggleActive ? keys.jumpToggleActive = false : keys.jumpToggleActive = true;\r\n          gameSoundEffects(audio.jump);\r\n        }\r\n        if (player.velocity.y === 0 && keys.lastPressed === 'right') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= player.jumpHeight; // -20 is higher\r\n          player.currentSprite = player.sprites.jump.right;\r\n        } else if (player.velocity.y === 0 && keys.lastPressed === 'left') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= player.jumpHeight; // -20 is higher\r\n          player.currentSprite = player.sprites.jump.left;\r\n        }\r\n        break;\r\n\r\n      case 'Space': {\r\n        keys.space.pressed = true;\r\n        !keys.deadSignalZone && keys.spaceToggleCounter++;\r\n      }\r\n        break;\r\n\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = true;\r\n        keys.lastPressed = 'right';\r\n        player.currentSprite = player.sprites.run.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = true;\r\n        keys.lastPressed = 'left';\r\n        player.currentSprite = player.sprites.run.left;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nconst keyUpHandler = (e) => {\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp': \r\n        // player.velocity.y = 0;\r\n        keys.up.pressed = false;\r\n        // keys.up.pressed = true;\r\n        if (player.velocity.y !== 0 && keys.lastPressed === 'right') {\r\n          player.currentSprite = player.sprites.fall.right;\r\n        } else if (player.velocity.y !== 0 && keys.lastPressed === 'left') {\r\n          player.currentSprite = player.sprites.fall.left;\r\n        }\r\n        break;\r\n      // case 'ArrowDown': player.velocity.y = 0\r\n      //   break;\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = false;\r\n        player.currentSprite = player.sprites.idle.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = false;\r\n        player.currentSprite = player.sprites.idle.left;\r\n      }\r\n        break;\r\n      case 'Space': {\r\n        keys.space.pressed = false;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nexport { keys, keyDownHandler, keyUpHandler };","import { platforms } from '../index';\r\n\r\nexport function requestLevelMap(url, callback_1, callback_2, callback_3, callback_4, callback_5) {\r\n  fetch(url)\r\n    .then(response => {  \r\n      if (response.status !== 200) {\r\n        console.log(`Возникла проблема. Код ошибки: ${response.status}`);\r\n        return;\r\n      }\r\n      response.json()\r\n      .then(map => callback_1(map, platforms))\r\n      .then(data => callback_2(data, platforms))\r\n      .then(player => callback_3(player, platforms))\r\n      .then(init => callback_4(init, platforms))\r\n      .then(animate => callback_5(animate, platforms))\r\n      .catch(err => console.error('Fetch Error - levels map load failed', err))\r\n    })\r\n}\r\n","import { CollisionBlock, platforms, parsedCollisions } from './Collision';\r\nimport { canvas, c } from './Canvas';\r\nimport { createImage } from './Utils';\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n  brick_1,\r\n  brick_2,\r\n  finish,\r\n      } from './Assets';\r\n\r\n     \r\n      \r\n\r\nimport { audio, gameSoundEffects } from './data/Audio';\r\nimport { keys } from './Keys';\r\nimport { player } from '../index';\r\nimport { leftNeighboorBlockFromHero } from '../index';\r\n\r\n\r\nclass Platform {\r\n  constructor (posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;\r\n    this.frames = 0;\r\n    this.frequency = 28;\r\n    this.sprites = {\r\n      idle: this.image,\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.type = 'solid';\r\n    this.statusActive = true;\r\n  }\r\n\r\n  get top() {\r\n    return this.position.y;\r\n  }\r\n  get bottom() {\r\n    return this.position.y + this.height;\r\n  }\r\n  get left() {\r\n    return this.position.x;\r\n  }\r\n  get right() {\r\n    return this.position.x + this.width;\r\n  }\r\n\r\n  set top(value) {\r\n    this.position.y = value;\r\n  }\r\n  set bottom(value) {\r\n    this.position.y = value;\r\n  }\r\n  set left(value) {\r\n    this.position.x = value;\r\n  }\r\n  set right(value) {\r\n    this.position.x = value;\r\n  }\r\n\r\n  getType() {\r\n    return this.type;\r\n  }\r\n  draw() {\r\n    if (!this.currentSprite.loaded) return;\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height) // 48, 0, 48, 48 - player sprite crop (x, y, w, h) // 36 размер кадра в спрайте\r\n  }\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    this.draw();\r\n  }\r\n  collisionAbove() {\r\n  // Player - platform collision (player is above the platform)\r\n    if (player.bottom <= this.position.y &&\r\n      player.bottom + player.velocity.y >= this.top && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.right - player.width / 4 >= this.left  && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n      player.left <= this.right - player.width / 4) { \r\n      player.velocity.y = -3.5; // если касается земли // -3.5\r\n      player.alive && gameSoundEffects(audio.jumpOnSpaceToggledPlatform);\r\n      if (keys.up.pressed ||\r\n      keys.up.pressed && keys.right.pressed ||\r\n      keys.up.pressed && keys.left.pressed) {\r\n        player.velocity.y = -player.jumpHeight;\r\n        player.gravity = 0.25;\r\n      } \r\n    }\r\n  }\r\n  collisionUnder() {\r\n  // Player - platform collision (player is under the platform)\r\n    if (player.top <= this.bottom && // player.position.y - player.velocity.y * 0.5\r\n      player.bottom + player.velocity.y >= this.top &&\r\n      player.left >= this.left - player.width / 1.25 && // можно сделать 1.75\r\n      player.right <= this.right + player.width / 1.25) {\r\n        player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\r\n        player.alive && gameSoundEffects(audio.bottomHit);\r\n      }\r\n  }\r\n  collisionLeftSide() {\r\n  // Player - platform collision (player is left from the platform and moves right)\r\n    if (keys.right.pressed &&\r\n      player.bottom >= this.top && \r\n      player.top <= this.bottom &&\r\n      player.right >= this.left) {\r\n        player.velocity.x = 0;\r\n        console.log('hit!');\r\n    } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\r\n    if (keys.right.pressed &&\r\n      player.bottom >= this.top && \r\n      player.top <= this.bottom &&\r\n      player.right >= this.right) {\r\n        player.velocity.x = 2;\r\n        console.log('free!');\r\n    }\r\n  }\r\n  collisionRightSide() {\r\n  // Player - platform collision (player is right from the platform and moves left)\r\n    if (keys.left.pressed &&\r\n      (leftNeighboorBlockFromHero != undefined || leftNeighboorBlockFromHero != null) &&\r\n      player.bottom >= leftNeighboorBlockFromHero.top && \r\n      player.top <= leftNeighboorBlockFromHero.bottom &&\r\n      player.left <= leftNeighboorBlockFromHero.right) {\r\n        player.velocity.x = 0;\r\n        console.log('hit!');\r\n    } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\r\n      if (keys.left.pressed &&\r\n        leftNeighboorBlockFromHero != undefined &&\r\n        (player.bottom <= leftNeighboorBlockFromHero.top || \r\n        player.top >= leftNeighboorBlockFromHero.bottom) &&\r\n        player.left <= leftNeighboorBlockFromHero.left) { // или \"-\" player.width ???\r\n          player.velocity.x = -2;\r\n          console.log('free!');\r\n      }\r\n    }\r\n  \r\n  collision() { // разбито на отдельные методы, для частичного наследования\r\n    this.collisionAbove();\r\n    this.collisionUnder();\r\n    this.collisionLeftSide();\r\n    this.collisionRightSide();\r\n  }\r\n}\r\n\r\nclass Fan extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.type = 'fan';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(fan, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 23;\r\n  }\r\n}\r\n\r\nclass Brick_1 extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.type = 'brick_1';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(brick_1, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 1;\r\n  }\r\n}\r\n\r\nclass Brick_2 extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.type = 'brick_2';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(brick_2, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 1;\r\n  }\r\n}\r\n\r\nclass Finish extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.type = 'finish';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(finish, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 27;\r\n  }\r\n}\r\n\r\nclass JumpToggleActive extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.type = 'jumpToggleActive';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(platformJump, 36, 36),\r\n      disabled: createImage(platformJumpDisabled, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 63;\r\n  }\r\n  toggle() {\r\n    console.log(this.type, this.statusActive)\r\n    if (keys.jumpToggleActive === true) {\r\n      this.currentSprite = this.sprites.idle;\r\n      this.statusActive = true;\r\n    } else {\r\n      this.currentSprite = this.sprites.disabled;\r\n      this.statusActive = false;\r\n    }\r\n  }\r\n}\r\n\r\nclass JumpToggleDisabled extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.type = 'jumpToggleDisabled';\r\n    this.statusActive = false;\r\n    this.sprites = {\r\n      idle: createImage(platformJump, 36, 36),\r\n      disabled: createImage(platformJumpDisabled, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.disabled;\r\n    this.frequency = 63;\r\n  }\r\n  toggle() {\r\n    console.log(this.type, this.statusActive)\r\n    if (keys.jumpToggleActive === false) {\r\n      this.currentSprite = this.sprites.idle;\r\n      this.statusActive = true;\r\n    } else {\r\n      this.currentSprite = this.sprites.disabled;\r\n      this.statusActive = false;\r\n    }\r\n  }\r\n}\r\n\r\nclass OneStep extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.temporaryPosX = posX + marginLeft;\r\n    this.hits = 0;\r\n    this.sprites = {\r\n      idle: createImage(platformOneStep, 36, 36),\r\n      explosion: createImage(platformOneStepExplosion, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 28;\r\n    this.type = 'oneStep';\r\n    this.statusActive = true;\r\n  }\r\n  destroy() {\r\n    player.alive && gameSoundEffects(audio.explosionBlock);\r\n    this.currentSprite = this.sprites.explosion;\r\n    setTimeout(() => {\r\n      this.position.x = -9999;\r\n      this.currentSprite = this.sprites.idle;\r\n      this.statusActive = false;\r\n  }, 550);\r\n    this.hits = 0;\r\n  } \r\n  restore() {\r\n    this.position.x = this.temporaryPosX;\r\n    this.statusActive = true;\r\n  }\r\n}\r\n\r\nclass SpaceToggledPlatform extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.type = 'toggledBySpacePlatform';\r\n    this.statusActive = false;\r\n    this.sprites = {\r\n      idle: createImage(deadSignalZoneHover, 36, 36),\r\n      disabled: createImage(platformOneDisabled, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 63;\r\n    this.setCount = null;\r\n  }\r\n  checkSpaceToggleCounter() {\r\n   keys.spaceToggleCounter >= 4 ? keys.spaceToggleCounter =  1 : keys.spaceToggleCounter; \r\n  }\r\n  collision() {\r\n    if (keys.spaceToggleCounter === this.setCount) {\r\n      this.statusActive = true;\r\n      super.collisionAbove();\r\n      super.collisionUnder();\r\n      super.collisionLeftSide();\r\n      if ((leftNeighboorBlockFromHero != undefined ||\r\n        leftNeighboorBlockFromHero != null) &&\r\n        keys.spaceToggleCounter === leftNeighboorBlockFromHero.setCount) {\r\n          super.collisionRightSide();\r\n      }\r\n      this.currentSprite = this.sprites.idle;\r\n      this.checkSpaceToggleCounter();\r\n    } else {\r\n      this.currentSprite = this.sprites.disabled;\r\n      this.statusActive = false;\r\n      this.checkSpaceToggleCounter();\r\n    // Hero is inside or outside of Platform (for toggled by space platformes and deadSignal zone platforms)   \r\n    if (platforms.some((block) => {\r\n      return (player.position.y + player.height * 0.75 >= block.top &&\r\n        player.position.y + player.height * 0.35 <= block.bottom &&\r\n        player.position.x + player.width * 0.75 >= block.left &&\r\n        player.position.x + player.width * 0.25 <= block.right);\r\n    })) {\r\n      keys.deadSignalZone = true;\r\n      player.alive && keys.space.pressed && gameSoundEffects(audio.toggleDisabled);\r\n      console.log('inside');\r\n    } else {\r\n      console.log('outside');\r\n      player.alive && keys.space.pressed && gameSoundEffects(audio.toggle);   \r\n      keys.deadSignalZone = false;\r\n    }\r\n    }\r\n  } \r\n}\r\n\r\nclass PlatformOne extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.type = 'platformOne';\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.setCount = 1;\r\n    this.sprites = {\r\n      idle: createImage(platformOne, 36, 36),\r\n      disabled: createImage(platformOneDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nclass PlatformTwo extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.type = 'platformTwo';\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.setCount = 2;\r\n    this.sprites = {\r\n      idle: createImage(platformTwo, 36, 36),\r\n      disabled: createImage(platformTwoDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nclass PlatformThree extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.type = 'platformThree';\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.setCount = 3;\r\n    this.sprites = {\r\n      idle: createImage(platformThree, 36, 36),\r\n      disabled: createImage(platformThreeDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nclass DeadSignal extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.type = 'deadSignalZone';\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.statusActive = false;\r\n    this.frequency = 1;\r\n    this.sprites = {\r\n      idle: createImage(deadSignalZone, 36, 36),\r\n      disabled: createImage(deadSignalZoneHover, 36, 36),\r\n    }\r\n  }\r\n\r\n  hover() {\r\n    if ((player.left <= this.right &&\r\n      player.right >= this.left &&\r\n      player.top <= this.bottom &&\r\n      player.bottom >= this.top) &&\r\n      (platforms.some((block) => {\r\n        return (player.position.y + player.height * 0.75 >= block.top &&\r\n          player.position.y + player.height * 0.35 <= block.bottom &&\r\n          player.position.x + player.width * 0.75 >= block.left &&\r\n          player.position.x + player.width * 0.25 <= block.right);\r\n      }))\r\n      ) { // Inside of the block\r\n      this.checkSpaceToggleCounter();\r\n      this.currentSprite = this.sprites.idle;\r\n    } else if ((platforms.some((block) => { // Outside of the block\r\n      return (player.position.y + player.height * 0.75 >= block.top &&\r\n        player.position.y + player.height * 0.35 <= block.bottom &&\r\n        player.position.x + player.width * 0.75 >= block.left &&\r\n        player.position.x + player.width * 0.25 <= block.right)}))) {\r\n          this.currentSprite = this.sprites.disabled;\r\n      }\r\n  }\r\n\r\n  collision() {\r\n    this.hover(); // Hover the block when the hero is inside of it\r\n      // Hero is inside or outside of block (for toggled by space platformes and deadSignal zone platforms)   \r\n      if (platforms.some((block) => {\r\n        return (player.position.y + player.height * 0.75 >= block.top &&\r\n          player.position.y + player.height * 0.35 <= block.bottom &&\r\n          player.position.x + player.width * 0.75 >= block.left &&\r\n          player.position.x + player.width * 0.25 <= block.right);\r\n      })) {\r\n        keys.deadSignalZone = true;\r\n        console.log(keys.space.pressed)\r\n        player.alive && keys.space.pressed && gameSoundEffects(audio.toggleDisabled);\r\n        console.log('inside')\r\n      } else {\r\n        console.log('outside')   \r\n        keys.deadSignalZone = false;\r\n        player.alive && keys.space.pressed && gameSoundEffects(audio.toggle);\r\n      }\r\n  }\r\n} \r\n\r\nexport { Platform,\r\n        OneStep,\r\n        Fan,\r\n        JumpToggleActive,\r\n        JumpToggleDisabled,\r\n        PlatformOne,\r\n        PlatformTwo,\r\n        PlatformThree,\r\n        DeadSignal,\r\n        Brick_1,\r\n        Brick_2,\r\n        Finish,\r\n      }","import { canvas, c } from './Canvas';\r\nimport { createImage } from './Utils';\r\nimport { init, completeLevel } from '../index';\r\nimport { keys } from './Keys';\r\nimport { \r\n  platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n  brick_1,\r\n  brick_2,\r\n      } from './Assets';\r\nimport { platforms, intersection, level } from '../index';\r\nimport { audio, gameSoundEffects, getRandomTrack, playNextTrack, volumeEffects, volumeMusic } from '../js/data/Audio';\r\n\r\nexport class Player {\r\n  constructor({ platforms = [] }, posX, posY, marginLeft = 0, marginTop = 0) {\r\n    this.platforms = platforms;\r\n    // this.margin = {\r\n    //   left: ,\r\n    //   right: ,\r\n    // }\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 1,\r\n    }\r\n    this.type = 'player';\r\n    this.gravity = 0.25;\r\n    this.jumpHeight = 9; // 20 is higher\r\n    this.width = 32;\r\n    this.height = 32;\r\n    this.frequency = 21;\r\n    this.frames = 0;\r\n    this.alive = true;\r\n    this.completeLevel = false;\r\n    this.sprites = {\r\n      idle: {\r\n        right: createImage(heroIdleR, 32, 32),\r\n        left: createImage(heroIdleL, 32, 32),\r\n      },\r\n      run: {\r\n        right: createImage(heroRunR, 32, 32),\r\n        left: createImage(heroRunL, 32, 32),\r\n      },\r\n      jump: {\r\n        right: createImage(heroJumpR, 32, 32),\r\n        left: createImage(heroJumpL, 32, 32),\r\n      },\r\n      fall: {\r\n        right: createImage(heroFallR, 32, 32),\r\n        left: createImage(heroFallL, 32, 32),\r\n      },\r\n      death: createImage(heroDeath, 32, 32),\r\n    }\r\n    this.currentSprite = this.sprites.idle.right;\r\n  }\r\n            \r\n  get top() {\r\n    return this.position.y;\r\n  }\r\n  get bottom() {\r\n    return this.position.y + this.height;\r\n  }\r\n  get left() {\r\n    return this.position.x;\r\n  }\r\n  get right() {\r\n    return this.position.x + this.width;\r\n  }\r\n\r\n  set top(value) {\r\n    this.position.y = value;\r\n  }\r\n  set bottom(value) {\r\n    this.position.y = value;\r\n  }\r\n  set left(value) {\r\n    this.position.x = value;\r\n  }\r\n  set right(value) {\r\n    this.position.x = value;\r\n  }\r\n\r\n  draw() {\r\n    if (!this.currentSprite.loaded) return;\r\n    c.drawImage(this.currentSprite, 32 * this.frames, 0, 32, 32, this.left, this.top, this.width, this.height) // 32, 0, 32, 32 - player sprite crop (x, y, w, h)\r\n  }\r\n\r\n  die() {\r\n    this.velocity.x = 0;\r\n    this.velocity.y = -2;\r\n    this.gravity = 0;\r\n    this.currentSprite = this.sprites.death;\r\n    this.alive && gameSoundEffects(audio.heroDeath);\r\n    this.alive = false;\r\n    setTimeout(init, 550);\r\n  }\r\n\r\n  checkCollisionsAxes_X() {\r\n    // X-axes collision\r\n    for (let i = 0; i < this.platforms.length; i++) {\r\n      const platform = this.platforms[i];\r\n      // If a collision exists\r\n      switch(platform.type) {\r\n        case 'fan':\r\n        case 'solid':\r\n        case 'brick_1':\r\n        case 'brick_2':\r\n          if (this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.x < 0) { // moving left       // <= -2\r\n                this.left = platform.right + 0.1;\r\n                break;\r\n              }\r\n              if (this.velocity.x > 0) { // moving right      // <= 2\r\n                this.left = platform.left - this.width - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n\r\n        case 'jumpToggleActive':\r\n        if (keys.jumpToggleActive &&\r\n          this.left <= platform.right &&\r\n          this.right >= platform.left &&\r\n          this.top <= platform.bottom &&\r\n          this.bottom >= platform.top) {\r\n            if (this.velocity.x < 0) { // moving left       // <= -2\r\n              this.left = platform.right + 0.1;\r\n              break;\r\n            }\r\n            if (this.velocity.x > 0) { // moving right      // <= 2\r\n              this.left = platform.left - this.width - 0.1;\r\n              break;\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'jumpToggleDisabled':\r\n          if (!keys.jumpToggleActive &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.x < 0) { // moving left       // <= -2\r\n                this.left = platform.right + 0.1;\r\n                break;\r\n              }\r\n              if (this.velocity.x > 0) { // moving right      // <= 2\r\n                this.left = platform.left - this.width - 0.1;\r\n                break;\r\n              }\r\n            }\r\n          break;\r\n\r\n        case 'spikes':\r\n        case 'saw':\r\n          // Hero - platform collision (player is above the spike platform)\r\n          if (this.bottom <= platform.top + this.height / 3 &&\r\n            this.bottom + this.velocity.y >= platform.top + this.height / 3 &&   \r\n            this.right >= platform.left + this.width / 3 && \r\n            this.left <= platform.right - this.width / 3\r\n            ) {\r\n              //debugger\r\n              this.die();\r\n          }\r\n          // Hero - platform collision (player is under the platform)\r\n          if (this.top <= platform.bottom - Math.abs(this.velocity.y) &&\r\n            this.bottom + this.velocity.y >= platform.top + this.height / 3 && // + this.velocity.y // оставить!!\r\n            this.left >= platform.left - this.width / 1.5 &&\r\n            this.right <= platform.right + this.width / 1.5) {\r\n              //debugger\r\n              this.die();\r\n          }\r\n          break;\r\n\r\n        case 'oneStep':\r\n          if (platform.hits === 0 &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.x < 0) { // moves left       // <= -2\r\n                this.left = platform.right + 0.1;\r\n                keys.left.pressed = false;   \r\n                platform.hits++;\r\n                platform.destroy();\r\n                break;\r\n              }\r\n              if (this.velocity.x > 0) { // moves right      // <= 2\r\n                this.left = platform.left - this.width - 0.1;\r\n                keys.right.pressed = false;      \r\n                platform.hits++;\r\n                platform.destroy();\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n          case 'finish':\r\n            if (this.left <= platform.right &&\r\n              this.right >= platform.left &&\r\n              this.top <= platform.bottom &&\r\n              this.bottom >= platform.top) {\r\n                // if (this.velocity.x < 0) {// moving left       // <= -2\r\n                //   this.left = platform.right + 0.1;\r\n                //   this.alive && gameSoundEffects(audio.nextLevel);\r\n                //   break;\r\n                // }\r\n                // if (this.velocity.x > 0) {// moving right      // <= 2\r\n                //   this.left = platform.left - this.width - 0.1;\r\n                //   this.alive && gameSoundEffects(audio.nextLevel);\r\n                //   break;\r\n                // }\r\n                this.alive && gameSoundEffects(audio.nextLevel);\r\n                this.completeLevel = true;\r\n                                                                      \r\n                init();\r\n            }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkCollisionsAxes_Y() {\r\n    // Y-axes collision\r\n    for (let i = 0; i < this.platforms.length; i++) {\r\n      const platform = this.platforms[i];\r\n      // If a collision exists\r\n      switch(platform.type) {\r\n        case 'fan':\r\n        case 'solid':\r\n        case 'brick_1':\r\n        case 'brick_2':\r\n          if (this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) { // moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                this.alive && gameSoundEffects(audio.bottomHit);\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) { // falling down  // 0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.top - this.height - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n          \r\n        case 'jumpToggleActive':\r\n          if (keys.jumpToggleActive &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom - this.height / 4 && // - this.height / 4 (поправка на прозрачность спрайта героя)\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) { // moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                this.alive && gameSoundEffects(audio.bottomHit);\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) { // falling down  // 0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.top - this.height - 0.1;\r\n                this.alive && gameSoundEffects(audio.bottomHit);\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n\r\n        case 'jumpToggleDisabled':\r\n          if (!keys.jumpToggleActive &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) { // moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) { // falling down  // 0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.top - this.height - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n\r\n\r\n        case 'oneStep':\r\n          if (platform.hits === 0 &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) { // moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                keys.up.pressed = false;      \r\n                platform.hits++;\r\n                platform.destroy();\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) { // falling down  // 0.25\r\n                this.velocity.y = -this.jumpHeight; // 0\r\n                keys.up.pressed = false;      \r\n                platform.hits++;\r\n                platform.destroy();\r\n                this.top = platform.top - this.height - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n          case 'finish':\r\n            if (this.left <= platform.right &&\r\n              this.right >= platform.left &&\r\n              this.top <= platform.bottom &&\r\n              this.bottom >= platform.top) {\r\n                // if (this.velocity.y < 0) {// moving up  // -0.25\r\n                //   this.velocity.y = 0;\r\n                //   this.top = platform.bottom + 0.1;\r\n                //   this.alive && gameSoundEffects(audio.nextLevel);\r\n                //   break;\r\n                // }\r\n                // if (this.velocity.y > 0) {// falling down  // 0.25\r\n                //   this.velocity.y = 0;\r\n                //   this.top = platform.top - this.height - 0.1;\r\n                //   this.alive && gameSoundEffects(audio.nextLevel);\r\n                //   break;\r\n                // }\r\n\r\n                this.alive && gameSoundEffects(audio.nextLevel);\r\n                this.completeLevel = true;\r\n                init();\r\n            }\r\n          break;\r\n        }\r\n    }\r\n  }\r\n\r\n  setGravity() {\r\n    this.velocity.y += this.gravity;\r\n    this.top += this.velocity.y;\r\n  }\r\n\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    this.draw();\r\n    this.left += this.velocity.x;\r\n    this.checkCollisionsAxes_X(); // strict order\r\n    this.setGravity();            // strict order\r\n    this.checkCollisionsAxes_Y(); // strict order\r\n  }\r\n}","import {\r\n        platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        heroDeath,\r\n        backgroundImg,\r\n        win,\r\n        platformSolid,\r\n        platformOneStep,\r\n        platformOneStepExplosion,\r\n        platformJump,\r\n        platformJumpDisabled,\r\n        platformOne,\r\n        platformTwo,\r\n        platformThree,\r\n        platformOneDisabled,\r\n        platformTwoDisabled,\r\n        platformThreeDisabled,\r\n        saw,\r\n        fan,\r\n        spike,\r\n        deadSignalZone,\r\n        deadSignalZoneHover,\r\n        flamethrowerLeft,\r\n        flamethrowerRight,\r\n        flamethrowerUp,\r\n        flamethrowerDown,\r\n        fireballUp,\r\n        fireballDown,\r\n        fireballLeft,\r\n        fireballRight,\r\n        brick_1,\r\n        brick_2,\r\n        finish,\r\n        arrows,\r\n        spaceImg,\r\n        cloud_1,\r\n        cloud_2,\r\n        cloud_3,\r\n        cloud_4,\r\n        fKeyImg,\r\n        mKeyImg,\r\n        errorImg,\r\n        birdFlyingImg,\r\n        logoImg_1,\r\n        logoImg_2,\r\n} from './Assets';\r\nimport { getLocalStorage } from './Utils';\r\n\r\nexport const mySPA = (function() {\r\n\r\n  function View() {\r\n    let myContainerBtns = null;\r\n    let myContainerShow = null;\r\n\r\n    const HomeComponent = {\r\n      id: 'main',\r\n      title: 'Greeting',\r\n      render: (className = 'content__text') => {\r\n        return `\r\n        <section class=\"${className} greeting\">\r\n          <h2 class=\"greeting__text\">\r\n          Welcome to the wonderful world of Platform world! The young adventurer Virtual Boy sets off on a journey, help him overcome all the dangers and obstacles on his way...</p>\r\n        </section>`\r\n      }\r\n    };\r\n\r\n    const HowToPlayComponent = {\r\n      id: 'howtoplay',\r\n      title: 'How to play',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} controls\">\r\n            <h2 class=\"controls__title\">Controls:</h2>\r\n            <div class=\"controls__container\">\r\n              <img class=\"controls__img-key\" src=\"${arrows}\" alt=\"control arrows\">\r\n                <p class=\"controls__text\">Press Left and Right arrows to control character movement.<br>Press press Up arrow to jump.</p>\r\n                  <img class=\"controls__img-key\" src=\"${spaceImg}\" alt=\"space key\">\r\n                    <p class=\"controls__text\">Press Space to toggle the active and inactive state of the platform <span>One / Two / Three</span></p>\r\n                      <img class=\"controls__img-letter\" src=\"${mKeyImg}\" alt=\"m key\">\r\n                        <p class=\"controls__text\">Press <span>M</span> to return to the menu</p>\r\n                          <img class=\"controls__img-letter\" src=\"${fKeyImg}\" alt=\"m key\">\r\n                            <p class=\"controls__text\">Press <span>F</span> to open the game in full screen</p>      \r\n            </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const SettingsComponent = {\r\n      id: 'settings',\r\n      title: 'Settings',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} settings\">\r\n            <h2 class=\"settings__title\">Audio settings:</h2>\r\n              <div class=\"settings__slider-box\">\r\n                <label for=\"volume-sounds\">Sound effects</label>\r\n                <input type=\"range\" id=\"volume-snd\" class=\"settings__slider settings__slider_hover\" name=\"volume-sounds\"\r\n                  min=\"0\" max=\"1\" value=\"${getLocalStorage('settings', 'soundEffects')}\" step=\"0.1\">   \r\n                    <label for=\"volume-music\">Music</label>\r\n                    <input type=\"range\" id=\"volume-msc\" class=\"settings__slider settings__slider_hover\" name=\"volume-music\" \r\n                      min=\"0\" max=\"1\" value=\"${getLocalStorage('settings', 'musicEffects')}\" step=\"0.1\">\r\n              </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const DescriptionComponent = {\r\n      id: 'description',\r\n      title: 'Description',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} description\">\r\n            <h2 class=\"description__title\">Tutorial:</h2>\r\n              <div class=\"description__content\">\r\n                <p>Jump on platforms avoiding spikes and circular saws as you gradually move towards the finish line.</p>\r\n                <p><span>Platforms One / Two / Three</span> can be active or inactive (switch their state with the <span>Space</span> key).</p>\r\n                <p>The <span>Jump-Toggle-Switch</span> platform also changes its state every time the character jumps. Being on platforms <span>One / Two / Three</span>, be careful, you need to catch the right moment of switching during the jump.</p>\r\n                <p><span>One-Step platform</span> - allows only a single presence of a character. After leaving this platform by the character or his collision with it, it is destroyed.<p/>\r\n                <p>When encountering <span>dragons</span>, be careful, their fireballs are deadly.</p>\r\n                <p>You can also encounter <span>Signal-Suppressor-Zones</span> in which the character cannot control the switching of states of <span>One / Two / Three</span> platforms.<p/>\r\n                <p>Are you ready to take on the challenge?</p>\r\n              </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const StartComponent = {\r\n      id: 'game',\r\n      title: 'Start game',\r\n      render: (className = \"container\") => {\r\n        return `\r\n          <section class=\"${className} level\">\r\n            <h2 class=\"level__title\">Select level:</h2>\r\n            <div class=\"level__list\">\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\">1</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>2</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>3</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>4</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>5</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>6</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>7</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>8</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>9</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>10</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>11</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>12</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>13</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>14</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>15</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>16</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>17</button>\r\n            </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const ErrorComponent = {\r\n      id: 'error',\r\n      title: '404',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} error\">\r\n            <img class=\"error__img\" src=\"${errorImg}\" alt=\"error 404\">\r\n            <p class=\"error__msg\">Page not found (<span>404</span> error), please try to return to the <a href=\"#main\">main page</a>.</p>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const router = {\r\n      main: HomeComponent,\r\n      howtoplay: HowToPlayComponent,\r\n      settings: SettingsComponent,\r\n      description: DescriptionComponent,\r\n      game: StartComponent,\r\n      default: HomeComponent,\r\n      error: ErrorComponent\r\n    };\r\n\r\n    this.init = function(container_btns, container_show) {\r\n      myContainerBtns = container_btns;\r\n      myContainerShow = container_show;\r\n    }\r\n\r\n    this.updateButtons = function(currentPage) {\r\n      const menuLinks = myContainerBtns.querySelectorAll('.nav__link');\r\n      const state = `#${currentPage}`;\r\n\r\n      for (let link of menuLinks) {\r\n        state === link.getAttribute('href') ? link.classList.add('active') : link.classList.remove('active');\r\n      }\r\n    }\r\n\r\n    this.renderContent = function(hashPageName) {\r\n      let routeName = 'default';\r\n\r\n      if (hashPageName.length > 0) {\r\n        routeName = hashPageName in router ? hashPageName : 'error';\r\n      }\r\n\r\n      window.document.title = router[routeName].title;\r\n      myContainerShow.innerHTML = router[routeName].render(`${routeName}-page`);\r\n      this.updateButtons(router[routeName].id);\r\n    }\r\n  };\r\n\r\n  function Model () {\r\n      let myView = null;\r\n\r\n      this.init = function(view) {\r\n        myView = view;\r\n      }\r\n\r\n      this.updateState = function(hashPageName) {\r\n        myView.renderContent(hashPageName);\r\n      }\r\n  }\r\n\r\n  function Controller () {\r\n      let myContainer = null;\r\n      let myModel = null;\r\n\r\n      this.init = function(container, model) {\r\n        myContainer = container;\r\n        myModel = model;\r\n        window.addEventListener('hashchange', this.updateState);\r\n        this.updateState();\r\n      }\r\n\r\n      this.updateState = function() {\r\n        const hashPageName = location.hash.slice(1).toLowerCase();\r\n        myModel.updateState(hashPageName);\r\n      }\r\n  };\r\n\r\n  /* Init */\r\n  return {\r\n      init: function(container_btns, container_show) {\r\n        this.initBuildHtml();\r\n        this.main();\r\n        const view = new View();\r\n        const model = new Model();\r\n        const controller = new Controller();\r\n\r\n        view.init(document.getElementById(container_btns), document.getElementById(container_show));\r\n        model.init(view);\r\n        controller.init(document.getElementById(container_btns), model); // можно передавать только model\r\n      },\r\n\r\n      main: function() {\r\n      },\r\n\r\n      initBuildHtml: function() {\r\n        const app = document.getElementById('app');\r\n        app.className = 'app';\r\n        app.innerHTML = `\r\n        <header class=\"header\">\r\n          <img class=\"cloud-1\" src=\"${cloud_1}\" alt=\"cloud first\">\r\n          <img class=\"cloud-2\" src=\"${cloud_2}\" alt=\"cloud second\">\r\n          <img class=\"cloud-3\" src=\"${cloud_3}\" alt=\"cloud third\">\r\n          <img class=\"cloud-4\" src=\"${cloud_4}\" alt=\"cloud fourth\">\r\n          <div id=\"mute-btn\" class=\"mute mute_off mute_hover\"></div>\r\n            <div class=\"header__wrapper\">\r\n              <img class=\"header__logo\" src=\"${logoImg_1}\" alt=\"logo\">\r\n                <div class=\"header__logo-box\">\r\n                  <img class=\"header__logo-2\" src=\"${logoImg_2}\" alt=\"logo small\">\r\n                    <p class=\"header__title\">Platform traveller</p>\r\n                </div>\r\n                  <div class=\"bird-container\">\r\n                    <img class=\"bird\" src=\"${birdFlyingImg}\" alt=\"bird\">\r\n                  </div>\r\n                      <nav id=\"root\" class=\"header__nav nav\">\r\n                        <ul class=\"nav__list\">\r\n                          <li class=\"nav__item\">\r\n                            <a href=\"#howtoplay\" class=\"nav__link\">How to play</a>\r\n                          </li>\r\n                            <li class=\"nav__item\">\r\n                              <a href=\"#settings\" id=\"settings-btn\" class=\"nav__link\">Settings</a>\r\n                            </li>\r\n                              <li class=\"nav__item\">\r\n                                <a href=\"#description\" class=\"nav__link\">Description</a>\r\n                              </li>\r\n                                <li class=\"nav__item\">\r\n                                  <a href=\"#game\" id=\"select-lvl\" class=\"nav__btn nav__btn_hover nav__link\">Select level</a>\r\n                                </li>\r\n                          </ul>\r\n                      </nav>\r\n            </div>\r\n        </header>\r\n          <main id=\"content\" class=\"content\">\r\n          </main>`;\r\n      }\r\n  };\r\n}());","import { canvas, c } from './Canvas';\r\nimport { platforms } from '../index';\r\nimport { player } from '../index';\r\nimport { createImage } from './Utils';\r\nimport { Platform,\r\n  OneStep,\r\n  Fan,\r\n  JumpToggleActive,\r\n  JumpToggleDisabled,\r\n  PlatformOne,\r\n  PlatformTwo,\r\n  PlatformThree,\r\n  DeadSignal,\r\n} from './Platform';\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n  fireballUp,\r\n  fireballDown,\r\n  fireballLeft,\r\n  fireballRight,\r\n  brick_1,\r\n  brick_2,\r\n      } from './Assets';\r\nimport { audio, gameSoundEffects } from '../js/data/Audio';\r\n\r\nclass PlatformSpikes extends Platform {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.type = 'spikes';\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.statusActive = true;\r\n  }\r\n  collision() {\r\n  // Player - platform collision (player is above the spike platform)\r\n    if (player.bottom <= this.position.y &&\r\n      player.bottom + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.right >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n      player.left <= this.position.x + this.width - player.width / 3) { \r\n      player.die();\r\n    }\r\n    // Player - platform collision (player is under the platform)\r\n    if (player.top <= this.position.y + this.height &&\r\n      player.bottom + player.velocity.y >= this.position.y &&\r\n      player.left >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n      player.right <= this.position.x + this.width + player.width / 2) {\r\n        player.die();\r\n    }\r\n  }\r\n}\r\n\r\nclass Saw extends PlatformSpikes {\r\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, marginLeft, marginTop);\r\n    this.type = 'saw';\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.frequency = 23;\r\n  }\r\n}\r\n\r\nclass Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\r\n    this.type = 'flamethrower';\r\n    this.statusActive = true;\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n    this.bulletFlight = { // speed and direction\r\n      x: 0 + marginLeft,\r\n      y: 0 + marginTop,\r\n    }\r\n    this.width = 36;\r\n    this.height = 36;\r\n    this.bulletSpeed = 2; //2\r\n    this.caliber = 36; // Bullet size\r\n    this.delay = 200;\r\n    this.bulletController = bulletController;\r\n    this.platforms = platforms;\r\n    this.frames = 1;\r\n    this.frequency = 79;\r\n    this.sprites = {\r\n      idle: image,\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n  }\r\n  draw() {\r\n    if (!this.currentSprite.loaded) return;\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height);\r\n    this.shoot();\r\n    this.bulletController.draw();\r\n  }\r\n  shoot() {\r\n    const delay = this.delay;\r\n    let bullet_X, bullet_Y;\r\n    // Bullet position x/y axes\r\n    switch(this.type) {\r\n  case 'flamethrowerLeft': bullet_X = this.position.x - this.caliber / 3; // bullet_X = this.position.x - this.caliber;\r\n        break;\r\n  case 'flamethrowerRight': bullet_X = this.position.x + this.width - this.caliber * 0.7; // bullet_X = this.position.x + this.width;\r\n        break;\r\n      case 'flamethrowerUp':\r\n      case 'flamethrowerDown': bullet_X = this.position.x + this.width / 2 - this.caliber / 2;\r\n        break;\r\n    }\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft':\r\n      case 'flamethrowerRight': bullet_Y = this.position.y + this.height / 2 - this.caliber / 3.5; // bullet_Y = this.position.y + this.height / 2 - this.caliber / 2;\r\n        break;\r\n      case 'flamethrowerUp': bullet_Y = this.position.y - this.caliber / 3; // bullet_Y = this.position.y - this.caliber;\r\n        break;\r\n      case 'flamethrowerDown': bullet_Y = this.position.y + this.height - this.caliber * 0.75; // bullet_Y = this.position.y + this.height;\r\n        break;\r\n    }\r\n    // Bullet velocity x/y axes\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft': this.bulletFlight.x = this.bulletSpeed;\r\n        break;\r\n      case 'flamethrowerRight': this.bulletFlight.x = -this.bulletSpeed;\r\n        break;\r\n      case 'flamethrowerUp':\r\n      case 'flamethrowerDown': this.bulletFlight.x = 0;\r\n        break;\r\n    }\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft':\r\n      case 'flamethrowerRight': this.bulletFlight.y = 0;\r\n        break;\r\n      case 'flamethrowerUp': this.bulletFlight.y = this.bulletSpeed;\r\n        break;\r\n      case 'flamethrowerDown': this.bulletFlight.y = -this.bulletSpeed;\r\n        break;\r\n    }\r\n    this.bulletController.shoot(bullet_X, bullet_Y, delay, this.bulletFlight.x, this.bulletFlight.y, this.caliber, this.type, this.platforms);\r\n  }\r\n  collision() {\r\n    // Player - platform collision (player is above the spike platform)\r\n      if (player.position.y + player.height <= this.position.y &&\r\n        player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n        // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n        player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n        player.position.x <= this.position.x + this.width - player.width / 3) { \r\n        player.die();\r\n      }\r\n      // Player - platform collision (player is under the platform)\r\n      if (player.position.y <= this.position.y + this.height &&\r\n        player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n        player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n        player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n          player.die();\r\n      }\r\n    }\r\n  update() {\r\n    console.log('Fire!');\r\n  }\r\n}\r\n\r\nclass FlamethrowerLeft extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\r\n    this.type = 'flamethrowerLeft';\r\n    this.position = {\r\n      x: posX + marginLeft,\r\n      y: posY + marginTop,\r\n    }\r\n  }\r\n}\r\n\r\nclass FlamethrowerRight extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\r\n    this.type = 'flamethrowerRight';\r\n  }\r\n}\r\n\r\nclass FlamethrowerUp extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\r\n    this.type = 'flamethrowerUp';\r\n  }\r\n}\r\n\r\nclass FlamethrowerDown extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\r\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\r\n    this.type = 'flamethrowerDown';\r\n  }\r\n}\r\n\r\nclass BulletController {\r\n  constructor() {\r\n    this.platforms = null;\r\n    this.caliber = null;\r\n  }\r\n  bullets = [];\r\n  timerTillNextBullet = 0;\r\n  \r\n  shoot(posX, posY, delay, flight_X, flight_Y, caliber, directionFlametrowerType, platforms) {\r\n    this.platforms = platforms;\r\n    this.caliber = caliber;\r\n    if (this.timerTillNextBullet <= 0) {\r\n      this.bullets.push(new Bullet(posX, posY, flight_X, flight_Y, caliber, directionFlametrowerType, platforms));\r\n      this.timerTillNextBullet = delay;\r\n    }\r\n    this.timerTillNextBullet--;\r\n  }\r\n\r\n  draw() {\r\n    this.bullets.forEach((bullet) => {\r\n      if (this.isBulletOffScreen(bullet)) {\r\n        const index = this.bullets.indexOf(bullet);\r\n        this.bullets.splice(index, 1);\r\n      }\r\n      bullet.draw();\r\n      bullet.collision();\r\n      this.collisionWithBlocks(bullet);\r\n    });\r\n  }\r\n\r\n  collisionWithBlocks(bullet) {\r\n    this.platforms.forEach((block) => {\r\n      (block.statusActive &&\r\n      bullet.position.x + bullet.width * 0.1 <= block.right &&\r\n      bullet.position.x >= block.left &&\r\n      bullet.position.y <= block.bottom &&\r\n      bullet.position.y >= block.top) && this.destroy(bullet);\r\n    })\r\n    \r\n  }\r\n  destroy(bullet) {\r\n    const index = this.bullets.indexOf(bullet);\r\n    this.bullets.splice(index, 1);\r\n  }\r\n\r\n  collideWith(sprite) {\r\n    return this.bullets.some((bullet) => {\r\n      if (bullet.collideWith(sprite)) {\r\n        this.bullets.splice(this.bullets.indexOf(bullet), 1);\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n\r\n  isBulletOffScreen(bullet) {\r\n    return (bullet.position.y <= 0 ||\r\n      bullet.position.y >= canvas.height ||\r\n      bullet.position.x <= 0 ||\r\n      bullet.position.x >= canvas.width);\r\n  }\r\n}\r\n\r\nclass Bullet {\r\n  constructor(posX, posY, flight_X, flight_Y, caliber, directionFlametrowerType, platforms, marginLeft = 0, marginTop = 0) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY,\r\n    }\r\n    this.type = directionFlametrowerType;\r\n    this.flight_X = flight_X;\r\n    this.flight_Y = flight_Y;\r\n    this.width = caliber;\r\n    this.height = caliber;\r\n    this.frames = 1;\r\n    this.frequency = 23;\r\n    this.platforms = platforms;\r\n    this.sprites = {\r\n      left: createImage(fireballLeft, 36, 36),\r\n      right: createImage(fireballRight, 36, 36),\r\n      up: createImage(fireballUp, 36, 36),\r\n      down: createImage(fireballDown, 36, 36),\r\n    }\r\n\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft': this.currentSprite = this.sprites.left;\r\n        break;\r\n      case 'flamethrowerRight': this.currentSprite = this.sprites.right;\r\n        break;\r\n      case 'flamethrowerUp': this.currentSprite = this.sprites.up;\r\n        break;\r\n      case 'flamethrowerDown': this.currentSprite = this.sprites.down;\r\n        break;\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    if (!this.currentSprite.loaded) return;\r\n    this.position.x -= this.flight_X;\r\n    this.position.y -= this.flight_Y;\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n\r\n  collision() {\r\n    if (player.top + player.height * 0.3 >= this.position.y &&\r\n      player.top + player.height * 0.3 <= this.position.y + this.height &&\r\n      player.left + player.width * 0.3 >= this.position.x &&\r\n      player.left + player.width * 0.3 <= this.position.x + this.width) {\r\n        player.die();\r\n      }\r\n    }\r\n}\r\n\r\nexport {\r\n  PlatformSpikes,\r\n  Saw,\r\n  FlamethrowerLeft,\r\n  FlamethrowerRight,\r\n  FlamethrowerUp,\r\n  FlamethrowerDown,\r\n  BulletController,\r\n}","import { platforms, initStart } from '../index';\r\nimport { gameSoundEffects } from './data/Audio';\r\n\r\nfunction createImage(src, width, height) {\r\n  const image = new Image();\r\n  image.onload = () => {\r\n    image.loaded = true;\r\n  }\r\n  image.loaded = false;\r\n  image.src = src;\r\n  image.width = width;\r\n  image.height = height;\r\n  return image;\r\n}\r\n\r\nfunction randomNumber(min = 0, max) {\r\n  return Math.floor(min + Math.random() * (max + 1 - min));\r\n}\r\n\r\nfunction fireSoundInterval(delay) {\r\n  timerShoot_1 = setTimeout(function soundFire() {\r\n    timerShoot_2 = setTimeout(soundFire, delay);\r\n    gameSoundEffects(audio.fire);\r\n  }, delay); \r\n}\r\n\r\nfunction flamethrowerShootSoundIntervalInit() {\r\n  if (initStart) {\r\n    let flamethrowerShootDelay = null;\r\n    platforms.forEach(platform => {\r\n      ( platform.type === 'flamethrowerLeft' ||\r\n        platform.type === 'flamethrowerRight' ||\r\n        platform.type === 'flamethrowerUp' ||\r\n        platform.type === 'flamethrowerDown') && (flamethrowerShootDelay = platform.delay);\r\n    })\r\n    if (platforms.some(platform => {\r\n      return (platform.type === 'flamethrowerLeft' ||\r\n      platform.type === 'flamethrowerRight' ||\r\n      platform.type === 'flamethrowerUp' ||\r\n      platform.type === 'flamethrowerDown')})) {\r\n        fireSoundInterval(flamethrowerShootDelay * 8);\r\n    }\r\n  }\r\n }\r\n\r\n function fullScreen(e, element) {\r\n  if (e.code === 'KeyF') {\r\n    if(element.requestFullscreen) {\r\n      element.requestFullscreen();\r\n    } else if(element.webkitrequestFullscreen) {\r\n      element.webkitRequestFullscreen();\r\n    } else if(element.mozRequestFullscreen) {\r\n      element.mozRequestFullScreen();\r\n    }\r\n  }\r\n}\r\n\r\nfunction setLocalStorage(item_1, item_2) {\r\n  if (('localStorage' in window) && (window.localStorage !== null)) {\r\n    let soundSettings = {\r\n      soundEffects: item_1,\r\n      musicEffects: item_2,\r\n    }\r\n  localStorage.setItem('settings', JSON.stringify(soundSettings));\r\n  }\r\n}\r\n\r\nfunction getLocalStorage(key, value) {\r\n  return (localStorage.length !== 0) ?\r\n    JSON.parse(localStorage.getItem(key))[value] : 0.8;\r\n}\r\n\r\nfunction changeMuteIcon() {\r\n  const muteIcon = document.getElementById('mute-btn');\r\n  muteIcon.classList.toggle('mute_off');\r\n  muteIcon.classList.toggle('mute_on');\r\n}\r\n\r\nexport { createImage, randomNumber, flamethrowerShootSoundIntervalInit, fullScreen, setLocalStorage, getLocalStorage, changeMuteIcon };","import blockHit_MP3 from '../../../assets/sounds/effects/mp3/block_hit.mp3';\r\nimport blockHit_OGG from '../../../assets/sounds/effects/ogg/block_hit.ogg';\r\nimport bottomHit_MP3 from '../../../assets/sounds/effects/mp3/bottom_hit.mp3';\r\nimport bottomHit_OGG from '../../../assets/sounds/effects/ogg/bottom_hit.ogg';\r\nimport choose_MP3 from '../../../assets/sounds/effects/mp3/choose.mp3';\r\nimport choose_OGG from '../../../assets/sounds/effects/ogg/choose.ogg';\r\nimport explosionBlock_MP3 from '../../../assets/sounds/effects/mp3/explosion_block.mp3';\r\nimport explosionBlock_OGG from '../../../assets/sounds/effects/ogg/explosion_block.ogg';\r\nimport fallingInDepth_MP3 from '../../../assets/sounds/effects/mp3/falling_in_depth.mp3';\r\nimport fallingInDepth_OGG from '../../../assets/sounds/effects/ogg/falling_in_depth.ogg';\r\nimport fallingInDepth2_MP3 from '../../../assets/sounds/effects/mp3/falling_in_depth_2.mp3';\r\nimport fallingInDepth2_OGG from '../../../assets/sounds/effects/ogg/falling_in_depth_2.ogg';\r\nimport fire_MP3 from '../../../assets/sounds/effects/mp3/fire.mp3';\r\nimport fire_OGG from '../../../assets/sounds/effects/ogg/fire.ogg';\r\nimport heroDeath_MP3 from '../../../assets/sounds/effects/mp3/hero_death.mp3';\r\nimport heroDeath_OGG from '../../../assets/sounds/effects/ogg/hero_death.ogg';\r\nimport jump_MP3 from '../../../assets/sounds/effects/mp3/jump.mp3';\r\nimport jump_OGG from '../../../assets/sounds/effects/ogg/jump.ogg';\r\nimport jumpOnSpaceToggledPlatform_MP3 from '../../../assets/sounds/effects/mp3/jump_on_space_toggled_platform.mp3';\r\nimport jumpOnSpaceToggledPlatform_OGG from '../../../assets/sounds/effects/ogg/jump_on_space_toggled_platform.ogg';\r\nimport nextLevel_MP3 from '../../../assets/sounds/effects/mp3/next_level.mp3';\r\nimport nextLevel_OGG from '../../../assets/sounds/effects/ogg/next_level.ogg';\r\nimport ok_MP3 from '../../../assets/sounds/effects/mp3/ok.mp3';\r\nimport ok_OGG from '../../../assets/sounds/effects/ogg/ok.ogg';\r\nimport select_MP3 from '../../../assets/sounds/effects/mp3/select.mp3';\r\nimport select_OGG from '../../../assets/sounds/effects/ogg/select.ogg';\r\nimport teleport_MP3 from '../../../assets/sounds/effects/mp3/teleport.mp3';\r\nimport teleport_OGG from '../../../assets/sounds/effects/ogg/teleport.ogg';\r\nimport toggle_MP3 from '../../../assets/sounds/effects/mp3/toggle.mp3';\r\nimport toggle_OGG from '../../../assets/sounds/effects/ogg/toggle.ogg';\r\nimport toggleDisabled_MP3 from '../../../assets/sounds/effects/mp3/toggle_disabled.mp3';\r\nimport toggleDisabled_OGG from '../../../assets/sounds/effects/ogg/toggle_disabled.ogg';\r\nimport error_MP3 from '../../../assets/sounds/effects/mp3/error.mp3';\r\nimport error_OGG from '../../../assets/sounds/effects/ogg/error.ogg';\r\n\r\nimport track_1_MP3 from '../../../assets/sounds/music/mp3/track_1.mp3';\r\nimport track_1_OGG from '../../../assets/sounds/music/ogg/track_1.ogg';\r\nimport track_2_MP3 from '../../../assets/sounds/music/mp3/track_2.mp3';\r\nimport track_2_OGG from '../../../assets/sounds/music/ogg/track_2.ogg';\r\nimport track_3_MP3 from '../../../assets/sounds/music/mp3/track_3.mp3';\r\nimport track_3_OGG from '../../../assets/sounds/music/ogg/track_3.ogg';\r\nimport track_4_MP3 from '../../../assets/sounds/music/mp3/track_4.mp3';\r\nimport track_4_OGG from '../../../assets/sounds/music/ogg/track_4.ogg';\r\n\r\nimport { createImage, randomNumber } from '../Utils';\r\nimport { getLocalStorage, changeMuteIcon } from '../Utils';\r\n\r\nexport let volumeEffects = getLocalStorage('settings', 'soundEffects');\r\nexport let volumeMusic = getLocalStorage('settings', 'musicEffects');\r\n\r\nconst audio = {\r\n  isCanPlay: new Audio(),\r\n  blockHit: {\r\n    src_MP3: new Audio(blockHit_MP3),\r\n    src_OGG: new Audio(blockHit_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  bottomHit: {\r\n    src_MP3: new Audio(bottomHit_MP3),\r\n    src_OGG: new Audio(bottomHit_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  choose: {\r\n    src_MP3: new Audio(choose_MP3),\r\n    src_OGG: new Audio(choose_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  explosionBlock: {\r\n    src_MP3: new Audio(explosionBlock_MP3),\r\n    src_OGG: new Audio(explosionBlock_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  fallingInDepth: {\r\n    src_MP3: new Audio(fallingInDepth_MP3),\r\n    src_OGG: new Audio(fallingInDepth_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  fallingInDepth2: {\r\n    src_MP3: new Audio(fallingInDepth2_MP3),\r\n    src_OGG: new Audio(fallingInDepth2_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  fire: {\r\n    src_MP3: new Audio(fire_MP3),\r\n    src_OGG: new Audio(fire_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  heroDeath: {\r\n    src_MP3: new Audio(heroDeath_MP3),\r\n    src_OGG: new Audio(heroDeath_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  jump: {\r\n    src_MP3: new Audio(jump_MP3),\r\n    src_OGG: new Audio(jump_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  jumpOnSpaceToggledPlatform: {\r\n    src_MP3: new Audio(jumpOnSpaceToggledPlatform_MP3),\r\n    src_OGG: new Audio(jumpOnSpaceToggledPlatform_OGG),\r\n    volume: volumeEffects / 2,\r\n  },\r\n  nextLevel: {\r\n    src_MP3: new Audio(nextLevel_MP3),\r\n    src_OGG: new Audio(nextLevel_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  ok: {\r\n    src_MP3: new Audio(ok_MP3),\r\n    src_OGG: new Audio(ok_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  select: {\r\n    src_MP3: new Audio(select_MP3),\r\n    src_OGG: new Audio(select_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  teleport: {\r\n    src_MP3: new Audio(teleport_MP3),\r\n    src_OGG: new Audio(teleport_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  toggle: {\r\n    src_MP3: new Audio(toggle_MP3),\r\n    src_OGG: new Audio(toggle_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  toggleDisabled: {\r\n    src_MP3: new Audio(toggleDisabled_MP3),\r\n    src_OGG: new Audio(toggleDisabled_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n  error: {\r\n    src_MP3: new Audio(error_MP3),\r\n    src_OGG: new Audio(error_OGG),\r\n    volume: volumeEffects,\r\n  },\r\n\r\n  track_1: {\r\n    src_MP3: new Audio(track_1_MP3),\r\n    src_OGG: new Audio(track_1_OGG),\r\n    volume: volumeMusic,\r\n  },\r\n  track_2: {\r\n    src_MP3: new Audio(track_2_MP3),\r\n    src_OGG: new Audio(track_2_OGG),\r\n    volume: volumeMusic,\r\n  },\r\n  track_3: {\r\n    src_MP3: new Audio(track_3_MP3),\r\n    src_OGG: new Audio(track_3_OGG),\r\n    volume: volumeMusic,\r\n  },\r\n  track_4: {\r\n    src_MP3: new Audio(track_4_MP3),\r\n    src_OGG: new Audio(track_4_OGG),\r\n    volume: volumeMusic,\r\n  },\r\n}\r\n\r\nlet source = null;\r\n // Choose supported source and preload\r\n ;(function() {\r\n  if (audio.isCanPlay.canPlayType('audio/mpeg') === 'probably') {\r\n    source = 'src_MP3';\r\n    } else {\r\n      source = 'src_OGG';\r\n    }\r\n  for (let sound in audio) {\r\n    if (audio?.[sound]?.[source]) {\r\n      let { src_MP3: mp3, src_OGG: ogg } = audio[sound];\r\n        mp3.play();\r\n        mp3.pause();\r\n        ogg.play();\r\n        ogg.pause();\r\n      }\r\n    }\r\n})();\r\n\r\n\r\nfunction gameSoundEffects(item) {\r\n  item[source].currentTime = 0;\r\n  item[source].play();\r\n}\r\n\r\nfunction getRandomTrack(playlist) {\r\n  let tracksList = [];\r\n  let track;\r\n  for (let sound in playlist) {\r\n    sound.includes('track') && tracksList.push(playlist[sound]);\r\n  }\r\n  track = tracksList[randomNumber(0, tracksList.length - 1)][source];\r\n  track.currentTime = 0;\r\n  track.volume = volumeMusic;\r\n  return track;\r\n}\r\n\r\nconst playNextTrack = (currentTrack, playlist) => {\r\n  let tracksList = [];\r\n  let currentTrackNumber = null;\r\n  for (let sound in playlist) {\r\n    sound.includes('track') && tracksList.push(playlist[sound]);\r\n  }\r\n  tracksList.forEach((track, index) => {\r\n    track[source] === currentTrack && (currentTrackNumber = index);\r\n  });\r\n  currentTrackNumber < (tracksList.length - 1) ? currentTrackNumber++ : currentTrackNumber = 0;\r\n              tracksList[currentTrackNumber][source].currentTime = 0;\r\n              tracksList[currentTrackNumber][source].volume = volumeMusic;\r\n  tracksList[currentTrackNumber][source].play();\r\n  tracksList[currentTrackNumber][source].onended = function() {\r\n    playNextTrack(tracksList[currentTrackNumber][source], audio);\r\n  }\r\n}\r\n\r\nfunction muteSound(e) {\r\n  if (e.target.closest('#mute-btn')) {\r\n    for (let sound in audio) {\r\n      if (audio?.[sound]?.[source]) {\r\n        audio[sound][source].muted === false ?\r\n        audio[sound][source].muted = true :\r\n        audio[sound][source].muted = false;\r\n      }\r\n    }\r\n    changeMuteIcon();\r\n  }\r\n}\r\n\r\nexport { audio, source, gameSoundEffects, getRandomTrack, playNextTrack, muteSound }","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/index.js\");\nvar __webpack_exports__ = __webpack_require__(\"./src/sass/styles.scss\");\n",""],"names":["mySPA","parseCollisitions","canvas","c","createImage","flamethrowerShootSoundIntervalInit","fullScreen","setLocalStorage","getLocalStorage","Player","bulletController","audio","source","gameSoundEffects","getRandomTrack","playNextTrack","volumeEffects","volumeMusic","muteSound","Platform","OneStep","Fan","JumpToggleActive","JumpToggleDisabled","PlatformOne","PlatformTwo","PlatformThree","DeadSignal","PlatformSpikes","Saw","FlamethrowerLeft","FlamethrowerRight","FlamethrowerUp","FlamethrowerDown","BulletController","Flamethrower","platformImgSrc300","heroIdleR","heroIdleL","heroRunR","heroRunL","heroJumpR","heroJumpL","heroFallR","heroFallL","heroDeath","backgroundImg","win","platformSolid","platformOneStep","platformOneStepExplosion","platformJump","platformJumpDisabled","platformOne","platformTwo","platformThree","platformOneDisabled","platformTwoDisabled","platformThreeDisabled","saw","fan","spike","deadSignalZone","deadSignalZoneHover","flamethrowerLeft","flamethrowerRight","flamethrowerUp","flamethrowerDown","brick_1","brick_2","keys","keyDownHandler","keyUpHandler","AdditionalElements","requestLevelMap","document","addEventListener","init","fontSize","height","width","requestAnim","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","e","leftNeighboorBlockFromHeroArr","timerShoot_1","timerShoot_2","leftNeighboorBlockFromHero","completeLevel","ajaxHandlerScript","updatePassword","stringName","additionalElements","level","increseLevel","obj","Object","length","platforms","levelMap","parsedCollisions","player","setLevelMap","createPlayer","animate","value","console","log","map","forEach","row","index_Y","cell","index_X","margin","left","top","initStart","main","getElementById","setVolumeRangeHandlers","volumeRangeSound","querySelector","volumeRangeMusic","sound","volume","track","pause","isInitMusicPlay","playMusic","target","closest","play","onended","reloadGameplay","platform","type","restore","levelOverlay","velocity","y","alive","spaceToggleCounter","save","fillStyle","fillRect","drawImage","font","textBaseline","textAlign","style","letterSpacing","fillText","element","draw","update","toggle","collision","shoot","filter","bottom","right","pressed","position","x","jumpHeight","gravity","lastPressed","currentSprite","sprites","idle","fallingInDepth2","jumpToggleActive","fireballUp","fireballDown","fireballLeft","fireballRight","constructor","posX","posY","image","loaded","finish","arrows","spaceImg","cloud_1","cloud_2","cloud_3","cloud_4","fKeyImg","mKeyImg","errorImg","birdFlyingImg","logoImg_1","logoImg_2","muteOff","muteOn","getContext","Brick_1","Brick_2","Finish","Sprite","push","sawTrap","sawTrap2","jump","up","space","isJumped","code","repeat","run","fall","url","callback_1","callback_2","callback_3","callback_4","callback_5","fetch","then","response","status","json","data","catch","err","error","CollisionBlock","marginLeft","arguments","undefined","marginTop","frames","frequency","statusActive","getType","collisionAbove","jumpOnSpaceToggledPlatform","collisionUnder","bottomHit","collisionLeftSide","collisionRightSide","disabled","temporaryPosX","hits","explosion","destroy","explosionBlock","SpaceToggledPlatform","setCount","checkSpaceToggleCounter","some","block","toggleDisabled","hover","intersection","_ref","death","die","checkCollisionsAxes_X","i","Math","abs","nextLevel","checkCollisionsAxes_Y","setGravity","View","myContainerBtns","myContainerShow","HomeComponent","id","title","render","className","HowToPlayComponent","SettingsComponent","DescriptionComponent","StartComponent","ErrorComponent","router","howtoplay","settings","description","game","default","container_btns","container_show","updateButtons","currentPage","menuLinks","querySelectorAll","state","link","getAttribute","classList","add","remove","renderContent","hashPageName","routeName","innerHTML","Model","myView","view","updateState","Controller","myContainer","myModel","container","model","location","hash","slice","toLowerCase","initBuildHtml","controller","app","bulletFlight","bulletSpeed","caliber","delay","bullet_X","bullet_Y","bullets","timerTillNextBullet","flight_X","flight_Y","directionFlametrowerType","Bullet","bullet","isBulletOffScreen","index","indexOf","splice","collisionWithBlocks","collideWith","sprite","down","src","Image","onload","randomNumber","min","max","floor","random","fireSoundInterval","soundFire","fire","flamethrowerShootDelay","requestFullscreen","webkitrequestFullscreen","webkitRequestFullscreen","mozRequestFullscreen","mozRequestFullScreen","item_1","item_2","localStorage","soundSettings","soundEffects","musicEffects","setItem","JSON","stringify","key","parse","getItem","changeMuteIcon","muteIcon","blockHit_MP3","blockHit_OGG","bottomHit_MP3","bottomHit_OGG","choose_MP3","choose_OGG","explosionBlock_MP3","explosionBlock_OGG","fallingInDepth_MP3","fallingInDepth_OGG","fallingInDepth2_MP3","fallingInDepth2_OGG","fire_MP3","fire_OGG","heroDeath_MP3","heroDeath_OGG","jump_MP3","jump_OGG","jumpOnSpaceToggledPlatform_MP3","jumpOnSpaceToggledPlatform_OGG","nextLevel_MP3","nextLevel_OGG","ok_MP3","ok_OGG","select_MP3","select_OGG","teleport_MP3","teleport_OGG","toggle_MP3","toggle_OGG","toggleDisabled_MP3","toggleDisabled_OGG","error_MP3","error_OGG","track_1_MP3","track_1_OGG","track_2_MP3","track_2_OGG","track_3_MP3","track_3_OGG","track_4_MP3","track_4_OGG","isCanPlay","Audio","blockHit","src_MP3","src_OGG","choose","fallingInDepth","ok","select","teleport","track_1","track_2","track_3","track_4","canPlayType","mp3","ogg","item","currentTime","playlist","tracksList","includes","currentTrack","currentTrackNumber","muted"],"sourceRoot":""}