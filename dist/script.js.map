{"version":3,"file":"script.js","mappings":"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AC,GAAG,IAAI,CAAClE,KAAK,EAAE;MAChEiC,8CAAU,CAAC,CAAC;IACd;EACF;EACF;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACF;;AAckB;;AAoBlB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClmBA,MAAMvF,KAAK,GAAG;EACZsN,SAAS,EAAE,IAAIC,KAAK,CAAC,CAAC;EACtBC,QAAQ,EAAE;IACRC,OAAO,EAAE,IAAIF,KAAK,CAAC,iDAAiD,CAAC;IACrEG,OAAO,EAAE,IAAIH,KAAK,CAAC,iDAAiD,CAAC;IACrEI,MAAM,EAAE;EACV,CAAC;EACDnD,SAAS,EAAE;IACTiD,OAAO,EAAE,IAAIF,KAAK,CAAC,kDAAkD,CAAC;IACtEG,OAAO,EAAE,IAAIH,KAAK,CAAC,kDAAkD,CAAC;IACtEI,MAAM,EAAE;EACV,CAAC;EACDC,MAAM,EAAE;IACNH,OAAO,EAAE,IAAIF,KAAK,CAAC,8CAA8C,CAAC;IAClEG,OAAO,EAAE,IAAIH,KAAK,CAAC,8CAA8C,CAAC;IAClEI,MAAM,EAAE;EACV,CAAC;EACD1C,cAAc,EAAE;IACdwC,OAAO,EAAE,IAAIF,KAAK,CAAC,uDAAuD,CAAC;IAC3EG,OAAO,EAAE,IAAIH,KAAK,CAAC,uDAAuD,CAAC;IAC3EI,MAAM,EAAE;EACV,CAAC;EACDE,cAAc,EAAE;IACdJ,OAAO,EAAE,IAAIF,KAAK,CAAC,wDAAwD,CAAC;IAC5EG,OAAO,EAAE,IAAIH,KAAK,CAAC,wDAAwD,CAAC;IAC5EI,MAAM,EAAE;EACV,CAAC;EACD5F,eAAe,EAAE;IACf0F,OAAO,EAAE,IAAIF,KAAK,CAAC,0DAA0D,CAAC;IAC9EG,OAAO,EAAE,IAAIH,KAAK,CAAC,0DAA0D,CAAC;IAC9EI,MAAM,EAAE;EACV,CAAC;EACD1H,IAAI,EAAE;IACJwH,OAAO,EAAE,IAAIF,KAAK,CAAC,4CAA4C,CAAC;IAChEG,OAAO,EAAE,IAAIH,KAAK,CAAC,4CAA4C,CAAC;IAChEI,MAAM,EAAE;EACV,CAAC;EACD/L,SAAS,EAAE;IACT6L,OAAO,EAAE,IAAIF,KAAK,CAAC,kDAAkD,CAAC;IACtEG,OAAO,EAAE,IAAIH,KAAK,CAAC,kDAAkD,CAAC;IACtEI,MAAM,EAAE;EACV,CAAC;EACDlE,IAAI,EAAE;IACJgE,OAAO,EAAE,IAAIF,KAAK,CAAC,4CAA4C,CAAC;IAChEG,OAAO,EAAE,IAAIH,KAAK,CAAC,4CAA4C,CAAC;IAChEI,MAAM,EAAE;EACV,CAAC;EACDrD,0BAA0B,EAAE;IAC1BmD,OAAO,EAAE,IAAIF,KAAK,CAAC,sEAAsE,CAAC;IAC1FG,OAAO,EAAE,IAAIH,KAAK,CAAC,sEAAsE,CAAC;IAC1FI,MAAM,EAAE;EACV,CAAC;EACDG,SAAS,EAAE;IACTL,OAAO,EAAE,IAAIF,KAAK,CAAC,kDAAkD,CAAC;IACtEG,OAAO,EAAE,IAAIH,KAAK,CAAC,kDAAkD,CAAC;IACtEI,MAAM,EAAE;EACV,CAAC;EACDI,EAAE,EAAE;IACFN,OAAO,EAAE,IAAIF,KAAK,CAAC,0CAA0C,CAAC;IAC9DG,OAAO,EAAE,IAAIH,KAAK,CAAC,0CAA0C,CAAC;IAC9DI,MAAM,EAAE;EACV,CAAC;EACDK,MAAM,EAAE;IACNP,OAAO,EAAE,IAAIF,KAAK,CAAC,8CAA8C,CAAC;IAClEG,OAAO,EAAE,IAAIH,KAAK,CAAC,8CAA8C,CAAC;IAClEI,MAAM,EAAE;EACV,CAAC;EACDM,QAAQ,EAAE;IACRR,OAAO,EAAE,IAAIF,KAAK,CAAC,gDAAgD,CAAC;IACpEG,OAAO,EAAE,IAAIH,KAAK,CAAC,gDAAgD,CAAC;IACpEI,MAAM,EAAE;EACV,CAAC;EACD9G,MAAM,EAAE;IACN4G,OAAO,EAAE,IAAIF,KAAK,CAAC,8CAA8C,CAAC;IAClEG,OAAO,EAAE,IAAIH,KAAK,CAAC,8CAA8C,CAAC;IAClEI,MAAM,EAAE;EACV,CAAC;EACDnC,cAAc,EAAE;IACdiC,OAAO,EAAE,IAAIF,KAAK,CAAC,uDAAuD,CAAC;IAC3EG,OAAO,EAAE,IAAIH,KAAK,CAAC,uDAAuD,CAAC;IAC3EI,MAAM,EAAE;EACV,CAAC;EACDO,KAAK,EAAE;IACLT,OAAO,EAAE,IAAIF,KAAK,CAAC,6CAA6C,CAAC;IACjEG,OAAO,EAAE,IAAIH,KAAK,CAAC,6CAA6C,CAAC;IACjEI,MAAM,EAAE;EACZ;AACA,CAAC;AAED,IAAIQ,MAAM,GAAG,IAAI;AAChB;AACD;AAAC,CAAC,YAAW;EACX,IAAInO,KAAK,CAACsN,SAAS,CAACc,WAAW,CAAC,YAAY,CAAC,KAAK,UAAU,EAAE;IAC5DD,MAAM,GAAG,SAAS;EAClB,CAAC,MAAM;IACLA,MAAM,GAAG,SAAS;EACpB;EACF,KAAK,IAAIE,KAAK,IAAIrO,KAAK,EAAE;IACvB,IAAIqO,KAAK,IAAI,WAAW,EAAE;MACxB,IAAI;QAAEZ,OAAO,EAAEa,GAAG;QAAEZ,OAAO,EAAEa;MAAI,CAAC,GAAGvO,KAAK,CAACqO,KAAK,CAAC;MAC/CC,GAAG,CAACE,IAAI,CAAC,CAAC;MACVF,GAAG,CAACG,KAAK,CAAC,CAAC;MACXF,GAAG,CAACC,IAAI,CAAC,CAAC;MACVD,GAAG,CAACE,KAAK,CAAC,CAAC;IACb;EACF;AACJ,CAAC,EAAE,CAAC;AACJ,IAAIC,OAAO,GAAG,CAAC;AACf,SAASzO,gBAAgBA,CAAC0O,IAAI,EAAE;EAC9BA,IAAI,CAACR,MAAM,CAAC,CAACS,WAAW,GAAG,CAAC;EAC5BD,IAAI,CAACR,MAAM,CAAC,CAACR,MAAM,GAAGgB,IAAI,CAAChB,MAAM;EACjCgB,IAAI,CAACR,MAAM,CAAC,CAACK,IAAI,CAAC,CAAC;AACrB;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACtJA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACI;AACA;AACA;AACJ;AACI;AACJ;AACI;AACA;;AAEG,MAAMpJ,iBAAiB,GAAG,CAC/B,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC1L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAC3L,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAC1L;AAGD,MAAMyJ,IAAI,GAAG;EACT,QAAQ,EAAE;IACN,GAAG,EAAE,GAAG;IACR,GAAG,EAAE;EACT,CAAC;EACD,KAAK,EAAE,CACH,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,EAChG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AAExG,CAAC;;;;;;;;;;;ACpED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;UElBA;UACA;UACA;UACA;UACA","sources":["webpack://platform_traveller/./src/index.js","webpack://platform_traveller/./src/js/AdditionalElements.js","webpack://platform_traveller/./src/js/Assets.js","webpack://platform_traveller/./src/js/Canvas.js","webpack://platform_traveller/./src/js/Collision.js","webpack://platform_traveller/./src/js/CreateImage.js","webpack://platform_traveller/./src/js/Keys.js","webpack://platform_traveller/./src/js/Platform.js","webpack://platform_traveller/./src/js/Player.js","webpack://platform_traveller/./src/js/Traps.js","webpack://platform_traveller/./src/js/data/Audio.js","webpack://platform_traveller/./src/js/data/Collisions.js","webpack://platform_traveller/./src/sass/styles.scss","webpack://platform_traveller/webpack/bootstrap","webpack://platform_traveller/webpack/runtime/define property getters","webpack://platform_traveller/webpack/runtime/global","webpack://platform_traveller/webpack/runtime/hasOwnProperty shorthand","webpack://platform_traveller/webpack/runtime/make namespace object","webpack://platform_traveller/webpack/runtime/publicPath","webpack://platform_traveller/webpack/before-startup","webpack://platform_traveller/webpack/startup","webpack://platform_traveller/webpack/after-startup"],"sourcesContent":["import './sass/styles.scss';\r\n\r\n// imagePlatform.onload = function getSizes () {\r\n//   imagePlatform.width = imagePlatform.naturalWidth;\r\n//   imagePlatform.height = imagePlatform.naturalHeight;\r\n//}\r\nimport { CollisionBlock, platforms, parsedCollisions } from './js/Collision';\r\nimport { canvas, c } from './js/Canvas';\r\nimport { createImage, Sprite } from './js/CreateImage';\r\nimport { Player } from './js/Player';\r\n\r\nimport { bulletController } from './js/Collision';\r\nimport { audio, gameSoundEffects } from './js/data/Audio';\r\n\r\nimport { Platform,\r\n  OneStep,\r\n  Fan,\r\n  JumpToggleActive,\r\n  JumpToggleDisabled,\r\n  PlatformOne,\r\n  PlatformTwo,\r\n  PlatformThree,\r\n  DeadSignal,\r\n} from './js/Platform';\r\n\r\nimport {\r\n  PlatformSpikes,\r\n  Saw,\r\n  FlamethrowerLeft,\r\n  FlamethrowerRight,\r\n  FlamethrowerUp,\r\n  FlamethrowerDown,\r\n  BulletController,\r\n\r\n\r\n  Flamethrower\r\n} from './js/Traps';\r\nimport { platformImgSrc300,\r\n          heroIdleR,\r\n          heroIdleL,\r\n          heroRunR,\r\n          heroRunL,\r\n          heroJumpR,\r\n          heroJumpL,\r\n          heroFallR,\r\n          heroFallL,\r\n          heroDeath,\r\n          backgroundImg,\r\n          platformSolid,\r\n          platformOneStep,\r\n          platformOneStepExplosion,\r\n          platformJump,\r\n          platformJumpDisabled,\r\n          platformOne,\r\n          platformTwo,\r\n          platformThree,\r\n          platformOneDisabled,\r\n          platformTwoDisabled,\r\n          platformThreeDisabled,\r\n          saw,\r\n          fan,\r\n          spike,\r\n          deadSignalZone,\r\n          deadSignalZoneHover,\r\n          flamethrowerLeft,\r\n          flamethrowerRight,\r\n          flamethrowerUp,\r\n          flamethrowerDown,\r\n        } from './js/Assets';\r\nimport { keys, keyDownHandler, keyUpHandler } from './js/Keys';\r\nimport { AdditionalElements } from './js/AdditionalElements';\r\n\r\n\r\n\r\ncanvas.width = document.documentElement.clientWidth;\r\ncanvas.height = document.documentElement.clientHeight;\r\n\r\n                      // window.addEventListener('resize', () => {\r\n                      //   canvas.width = document.documentElement.clientWidth;\r\n                      //   canvas.height = document.documentElement.clientHeight;\r\n                      // });\r\n\r\n                      // function onResize( element, callback ){\r\n                      //   var elementHeight = element.height,\r\n                      //       elementWidth = element.width;\r\n                      //   setInterval(function(){\r\n                      //       if( element.height !== elementHeight || element.width !== elementWidth ){\r\n                      //         elementHeight = element.height;\r\n                      //         elementWidth = element.width;\r\n                      //         callback();\r\n                      //       }\r\n                      //   }, 300);\r\n                      // }\r\n\r\n                      // onResize(canvas, function(){ alert('Resized!');\r\n                      // canvas.width = document.documentElement.clientWidth;\r\n                      // canvas.height = document.documentElement.clientHeight;\r\n                      // } );\r\n\r\ncanvas.width = 1024 // 1280 //window.innerWidth; // canvas.width = innerWidth;\r\ncanvas.height = 576 // 720 //window.innerHeight;\r\nlet requestAnim = window.requestAnimationFrame ||\r\n                  window.webkitRequestAnimationFrame ||\r\n                  window.mozRequestAnimationFrame ||\r\n                  window.oRequestAnimationFrame ||\r\n                  window.msRequestAnimationFrame ||\r\n                  function(callback) { window.setTimeout(callback, 1000 / 60); }\r\n\r\n\r\n\r\n// const fullScreenBtn = document.getElementById('fullscreen');\r\n// fullScreenBtn.addEventListener('click', () => fullScreen(canvas));\r\n\r\nwindow.addEventListener('keydown', (e) => fullScreen(e, canvas));\r\n// window.addEventListener('keydown', fullScreenCancel);\r\n\r\nfunction fullScreen(e, element) {\r\n  if (e.code === 'KeyF') {\r\n    if(element.requestFullscreen) {\r\n      element.requestFullscreen();\r\n    } else if(element.webkitrequestFullscreen) {\r\n      element.webkitRequestFullscreen();\r\n    } else if(element.mozRequestFullscreen) {\r\n      element.mozRequestFullScreen();\r\n    }\r\n  }\r\n}\r\n\r\n// function fullScreenCancel(e) {\r\n//   if (e.code === 'KeyS') {\r\n//     if(document.documentElement.requestFullscreen) {\r\n//       document.documentElement.requestFullscreen();\r\n//     } else if(document.documentElement.webkitRequestFullscreen ) {\r\n//       document.documentElement.webkitRequestFullscreen();\r\n//     } else if(document.documentElement.mozRequestFullscreen) {\r\n//       document.documentElement.mozRequestFullScreen();\r\n//     }\r\n//   }\r\n// }\r\n\r\n\r\n\r\nlet leftNeighboorBlockFromHeroArr = [];\r\nexport let timerShoot_1 = null;\r\nexport let timerShoot_2 = null;\r\nexport let leftNeighboorBlockFromHero = null;\r\n\r\nexport let additionalElements = [\r\n  new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n]\r\n\r\n\r\n\r\n\r\n\r\nimport { collisionsLevel_1 } from './js/data/Collisions';\r\n\r\n\r\n\r\nconsole.log(platforms)\r\n\r\n\r\nexport let player;\r\n  collisionsLevel_1.forEach((row, index_Y) => {\r\n    row.forEach((cell, index_X) => {\r\n     cell === 'st' && (player = new Player({ platforms }, index_X * 36, index_Y * 36));\r\n    })\r\n  })\r\n\r\n\r\nnew Player({\r\n  platforms\r\n}); //platforms: platforms\r\n\r\n\r\n\r\n\r\n\r\n\r\n            \r\n                                                platforms.forEach(platform => {\r\n                                                if (platform.type === 'flamethrowerLeft' ||\r\n                                                platform.type === 'flamethrowerRight' ||\r\n                                                platform.type === 'flamethrowerUp' ||\r\n                                                platform.type === 'flamethrowerDown') {\r\n                                                // setInterval(() => gameSoundEffects(audio.fire), 1000);\r\n                                                timerShoot_1 = setTimeout(function soundFire() {\r\n                                                    timerShoot_2 = setTimeout(soundFire, platform.delay * 8);\r\n                                                    gameSoundEffects(audio.fire);\r\n                                                  }, platform.delay * 8);                          \r\n                                                }\r\n                                              });\r\n\r\nexport function init() {\r\n  player.velocity.y = 1;\r\n  player.alive = true;\r\n  keys.spaceToggleCounter = 1;\r\n  additionalElements = [new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n];\r\n   \r\n                                         // player = new Player({ platforms });\r\n\r\n\r\n  platforms.forEach(platform => {\r\n    (platform.type === 'oneStep') && platform.restore();\r\n  });\r\n\r\n  collisionsLevel_1.forEach((row, index_Y) => {\r\n    row.forEach((cell, index_X) => {\r\n     cell === 'st' && (player = new Player({ platforms }, index_X * 36, index_Y * 36));\r\n    })\r\n  })\r\n   \r\n}                      \r\n\r\n\r\nfunction animate() {\r\n\r\n  requestAnim(animate);\r\n  //c.clearRect(0, 0, canvas.width, canvas.height);\r\n  c.fillStyle = ('white');\r\n  c.fillRect(0, 0, canvas.width, canvas.height);\r\n  console.log('animation counter');\r\n\r\n  additionalElements.forEach(element => element.draw());\r\n\r\n // !!!!!!!!!! переделать под обработку массива если у element есть element.type === 'jumpToggle'                      \r\n           \r\n                                                   \r\n                          \r\n                          platforms.forEach(platform => platform.draw());\r\n                          platforms.forEach(platform => platform.update()); // рисуем платформы\r\n                          platforms.forEach(platform => {\r\n                            (platform.type === 'jumpToggleActive' || platform.type === 'jumpToggleDisabled') && platform.toggle();\r\n                          \r\n                          \r\n                          if (platform.type === 'platformOne' ||\r\n                          platform.type === 'platformTwo' ||\r\n                          platform.type === 'platformThree' ||\r\n                          platform.type === 'deadSignalZone' ||\r\n                          platform.type === 'flamethrowerLeft' ||\r\n                          platform.type === 'flamethrowerRight' ||\r\n                          platform.type === 'flamethrowerUp' ||\r\n                          platform.type === 'flamethrowerDown'\r\n                          ) {\r\n                            platform.collision();\r\n                          }\r\n                          \r\n\r\n                          if (platform.type === 'flamethrowerLeft' ||\r\n                          platform.type === 'flamethrowerRight' ||\r\n                          platform.type === 'flamethrowerUp' ||\r\n                          platform.type === 'flamethrowerDown') {\r\n                            platform.shoot();                      \r\n                          }\r\n                          \r\n                          });\r\n                          //flamethrower.shootPressed = true\r\n                          // bulletController.draw();\r\n                          \r\n\r\n\r\n\r\n\r\n\r\n                          \r\nleftNeighboorBlockFromHeroArr = platforms.filter(platform => {\r\n  return (platform.left <= player.left &&\r\n    (platform.top <= player.top &&\r\n    platform.bottom >= player.bottom)\r\n    );\r\n})\r\nleftNeighboorBlockFromHero = leftNeighboorBlockFromHeroArr[leftNeighboorBlockFromHeroArr.length - 1]\r\n\r\n\r\n                          player.update();\r\n\r\n\r\n  if (keys.right.pressed && (player.position.x + player.width) <= canvas.width) { // упор персонажа в правый край экрана\r\n    player.velocity.x = 2;\r\n  } else if (keys.left.pressed && player.position.x >= 0) { // упор персонажа в левый край экрана\r\n    player.velocity.x = -2;\r\n  } else {\r\n    player.velocity.x = 0;\r\n  }\r\n\r\n  \r\n  // platforms.forEach(platform => {\r\n  //   platform.collision();\r\n  //   // // Player - platform collision (player is above the platform)\r\n  //   // if (player.position.y + player.height <= platform.position.y &&\r\n  //   //     player.position.y + player.height + player.velocity.y >= platform.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n  //   //     // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n  //   //     player.position.x + player.width >= platform.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n  //   //     player.position.x <= platform.position.x + platform.width - player.width / 3) { \r\n  //   //       player.velocity.y = 0; // если касается земли\r\n  //   // }\r\n  //   // // Player - platform collision (player is under the platform)\r\n  //   // if (player.position.y <= platform.position.y + platform.height &&\r\n  //   //     player.position.y + player.height + player.velocity.y >= platform.position.y &&\r\n  //   //     player.position.x >= platform.position.x - player.width / 2 && // можно сделать 1.75\r\n  //   //     player.position.x + player.width <= platform.position.x + platform.width + player.width / 2) {\r\n  //   //       player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\r\n  //   // }\r\n  //   // // Player - platform collision (player is left from the platform and moves right)\r\n  //   // if (keys.right.pressed &&\r\n  //   //     player.position.y + player.height >= platform.position.y && \r\n  //   //     player.position.y <= platform.position.y + platform.height &&\r\n  //   //     player.position.x + player.width >= platform.position.x) {\r\n  //   //       player.velocity.x = 0;\r\n  //   //       console.log('hit!');\r\n  //   // } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\r\n  //   //   if (keys.right.pressed &&\r\n  //   //     player.position.y + player.height >= platform.position.y && \r\n  //   //     player.position.y <= platform.position.y + platform.height &&\r\n  //   //     player.position.x + player.width >= platform.position.x + platform.width) {\r\n  //   //       player.velocity.x = 2;\r\n  //   //       console.log('free!');\r\n  //   //   }\r\n  //   // // Player - platform collision (player is right from the platform and moves left)\r\n  //   // if (keys.left.pressed &&\r\n  //   //   player.position.y + player.height >= platform.position.y && \r\n  //   //   player.position.y <= platform.position.y + platform.height &&\r\n  //   //   player.position.x <= platform.position.x + platform.width) {\r\n  //   //     player.velocity.x = 0;\r\n  //   //     console.log('hit!');\r\n  //   // } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\r\n  //   //   if (keys.left.pressed &&\r\n  //   //     player.position.y + player.height >= platform.position.y && \r\n  //   //     player.position.y <= platform.position.y + platform.height &&\r\n  //   //     player.position.x + player.width <= platform.position.x) { // или \"-\" player.width ???\r\n  //   //       player.velocity.x = -2;\r\n  //   //       console.log('free!');\r\n  //   //   }\r\n  // })\r\n        \r\n        \r\nif (player.velocity.y >= player.jumpHeight - player.gravity && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'right') { // 10 - когда персонаж на земле\r\n  player.currentSprite = player.sprites.idle.right;\r\n} else if (player.velocity.y >= player.jumpHeight - player.gravity && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'left') { // 10 - когда персонаж на земле\r\n  player.currentSprite = player.sprites.idle.left;\r\n}\r\n\r\n\r\n    // Падение в пропасть (см. комментарии в player.update())\r\n      if (player.position.y > canvas.height) {\r\n// sawTrap.restore();\r\n                             //sawTrap2.restore(); // !!!!!!!!!!!!\r\ngameSoundEffects(audio.fallingInDepth2);\r\nkeys.jumpToggleActive = !keys.jumpToggleActive;\r\n        init();\r\n        console.log('you lose')\r\n\r\n        // сюда вставить звук проигрыша\r\n      }\r\n\r\n\r\n}\r\ninit();\r\nanimate();\r\n\r\nwindow.addEventListener('keydown', keyDownHandler);\r\nwindow.addEventListener('keyup', keyUpHandler);\r\n\r\n\r\n\r\nwindow.addEventListener('click', (e) => {\r\n  console.log(e.clientX, e.clientY)\r\n   // debugger\r\n})","// import { canvas, c } from './Canvas';\r\n\r\n// export class AdditionalElements {\r\n//   constructor (posX, posY, image) {\r\n//     this.position = {\r\n//       x: posX,\r\n//       y: posY\r\n//     }\r\n//     this.image = image;\r\n//     this.width = image.width;\r\n//     this.height = image.height;   \r\n//   }\r\n//   draw() {\r\n//     c.drawImage(this.image, this.position.x, this.position.y)\r\n//     // c.fillStyle = ('green');\r\n//     // c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n//   }\r\n// }\r\n\r\n\r\nimport { canvas, c } from './Canvas';\r\nimport { createImage } from './CreateImage';\r\nimport {\r\n  platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        heroDeath,\r\n        backgroundImg,\r\n        platformSolid,\r\n        platformOneStep,\r\n        platformOneStepExplosion,\r\n        platformJump,\r\n        platformJumpDisabled,\r\n        platformOne,\r\n        platformTwo,\r\n        platformThree,\r\n        platformOneDisabled,\r\n        platformTwoDisabled,\r\n        platformThreeDisabled,\r\n        saw,\r\n        fan,\r\n        spike,\r\n        deadSignalZone,\r\n        deadSignalZoneHover,\r\n        flamethrowerLeft,\r\n        flamethrowerRight,\r\n        flamethrowerUp,\r\n        flamethrowerDown,\r\n        fireballUp,\r\n        fireballDown,\r\n        fireballLeft,\r\n        fireballRight,\r\n} from './Assets';\r\nexport class AdditionalElements {\r\n  constructor (posX, posY, image) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY,\r\n    }\r\n    this.sprites = {\r\n      idle: createImage(backgroundImg, canvas.width, canvas.height),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.type = 'backgrounds';\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;   \r\n  }\r\n  draw() {\r\n    c.drawImage(this.currentSprite, this.position.x, this.position.y);\r\n  }\r\n}","// const platformImgSrc300 = '../assets/img/Platforms/platform.png';\r\n// const heroIdleR = '../assets/img/Hero/Idle_right.png';\r\n// const heroIdleL = '../assets/img/Hero/Idle_left.png';\r\n// const heroRunR = '../assets/img/Hero/Run_right.png';\r\n// const heroRunL = '../assets/img/Hero/Run_left.png';\r\n// const heroJumpR = '../assets/img/Hero/Jump_right.png';\r\n// const heroJumpL = '../assets/img/Hero/Jump_left.png';\r\n// const heroFallR = '../assets/img/Hero/Fall_right.png';\r\n// const heroFallL = '../assets/img/Hero/Fall_left.png';\r\n// const heroDeath = '../assets/img/Hero/Player_death.png';\r\n// const backgroundImg = '../assets/img/Background_images/bg_2.jpg';\r\n// const platformSolid = '../assets/img/Platforms/Platform_solid.png';\r\n// const platformOneStep = '../assets/img/Platforms/Platform_oneStep.png';\r\n// const platformOneStepExplosion = '../assets/img/Platforms/Platform_oneStep_Explosion.png';\r\n// const platformJump = '../assets/img/Platforms/Platform_jump.png';\r\n// const platformJumpDisabled = '../assets/img/Platforms/Platform_jump_disabled.png';\r\n// const platformOne = '../assets/img/Platforms/Platform_one.png';\r\n// const platformTwo = '../assets/img/Platforms/Platform_two.png';\r\n// const platformThree = '../assets/img/Platforms/Platform_three.png';\r\n// const platformOneDisabled = '../assets/img/Platforms/Platform_one_disabled.png';\r\n// const platformTwoDisabled = '../assets/img/Platforms/Platform_two_disabled.png';\r\n// const platformThreeDisabled = '../assets/img/Platforms/Platform_three_disabled.png';\r\n// const saw = '../assets/img/Traps/Saw.png';\r\n// const fan = '../assets/img/Traps/Fan.png';\r\n// const spike = '../assets/img/Traps/Platform_spikes.png';\r\n// const deadSignalZone = '../assets/img/Traps/Dead_signal_zone.png';\r\n// const deadSignalZoneHover = '../assets/img/Traps/Dead_signal_zone_hover.png';\r\n// const flamethrowerLeft = '../assets/img/Traps/Flamethrower_left.png';\r\n// const flamethrowerRight = '../assets/img/Traps/Flamethrower_right.png';\r\n// const flamethrowerUp = '../assets/img/Traps/Flamethrower_left.png';\r\n// const flamethrowerDown = '../assets/img/Traps/Flamethrower_left.png';\r\n// const flamethrowerUp = '../assets/img/Traps/Flamethrower_left.png';\r\n// const flamethrowerDown = '../assets/img/Traps/Flamethrower_left.png';\r\n\r\nimport platformImgSrc300 from '/assets/img/Platforms/platform.png';\r\nimport heroIdleR from '/assets/img/Hero/Idle_right.png';\r\nimport heroIdleL from '/assets/img/Hero/Idle_left.png';\r\nimport heroRunR from '/assets/img/Hero/Run_right.png';\r\nimport heroRunL from '/assets/img/Hero/Run_left.png';\r\nimport heroJumpR from '/assets/img/Hero/Jump_right.png';\r\nimport heroJumpL from '/assets/img/Hero/Jump_left.png';\r\nimport heroFallR from '/assets/img/Hero/Fall_right.png';\r\nimport heroFallL from '/assets/img/Hero/Fall_left.png';\r\nimport heroDeath from '/assets/img/Hero/Player_death.png';\r\nimport backgroundImg from '/assets/img/Background_images/bg_3.jpg';\r\nimport platformSolid from '/assets/img/Platforms/Platform_solid.png';\r\nimport platformOneStep from '/assets/img/Platforms/Platform_oneStep.png';\r\nimport platformOneStepExplosion from '/assets/img/Platforms/Platform_oneStep_Explosion.png';\r\nimport platformJump from '/assets/img/Platforms/Platform_jump.png';\r\nimport platformJumpDisabled from '/assets/img/Platforms/Platform_jump_disabled.png';\r\nimport platformOne from '/assets/img/Platforms/Platform_one.png';\r\nimport platformTwo from '/assets/img/Platforms/Platform_two.png';\r\nimport platformThree from '/assets/img/Platforms/Platform_three.png';\r\nimport platformOneDisabled from '/assets/img/Platforms/Platform_one_disabled.png';\r\nimport platformTwoDisabled from '/assets/img/Platforms/Platform_two_disabled.png';\r\nimport platformThreeDisabled from '/assets/img/Platforms/Platform_three_disabled.png';\r\nimport saw from '/assets/img/Traps/Saw.png';\r\nimport fan from '/assets/img/Traps/Fan.png';\r\nimport spike from '/assets/img/Traps/Platform_spikes.png';\r\nimport deadSignalZone from '/assets/img/Traps/Dead_signal_zone.png';\r\nimport deadSignalZoneHover from '/assets/img/Traps/Dead_signal_zone_hover.png';\r\nimport flamethrowerLeft from '/assets/img/Traps/Flamethrower_left.png';\r\nimport flamethrowerRight from '/assets/img/Traps/Flamethrower_right.png';\r\nimport flamethrowerUp from '/assets/img/Traps/Flamethrower_up.png';\r\nimport flamethrowerDown from '/assets/img/Traps/Flamethrower_down.png';\r\nimport fireballUp from '/assets/img/Traps/Fireball_up.png';\r\nimport fireballDown from '/assets/img/Traps/Fireball_down.png';\r\nimport fireballLeft from '/assets/img/Traps/Fireball_left.png';\r\nimport fireballRight from '/assets/img/Traps/Fireball_right.png';\r\n\r\nexport { platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        heroDeath,\r\n        backgroundImg,\r\n        platformSolid,\r\n        platformOneStep,\r\n        platformOneStepExplosion,\r\n        platformJump,\r\n        platformJumpDisabled,\r\n        platformOne,\r\n        platformTwo,\r\n        platformThree,\r\n        platformOneDisabled,\r\n        platformTwoDisabled,\r\n        platformThreeDisabled,\r\n        saw,\r\n        fan,\r\n        spike,\r\n        deadSignalZone,\r\n        deadSignalZoneHover,\r\n        flamethrowerLeft,\r\n        flamethrowerRight,\r\n        flamethrowerUp,\r\n        flamethrowerDown,\r\n        fireballUp,\r\n        fireballDown,\r\n        fireballLeft,\r\n        fireballRight,\r\n      }","const canvas = document.getElementById('canvas');\r\nconst c = canvas.getContext(\"2d\");\r\n\r\n\r\nexport { canvas, c }","import { collisionsLevel_1 } from './data/Collisions';\r\nimport { canvas, c } from './Canvas';\r\n\r\n\r\nimport { Platform,\r\n  OneStep,\r\n  Fan,\r\n  JumpToggleActive,\r\n  JumpToggleDisabled,\r\n  PlatformOne,\r\n  PlatformTwo,\r\n  PlatformThree,\r\n  DeadSignal,\r\n  Brick_1,\r\n  Brick_2,\r\n} from './Platform';\r\n\r\n\r\n\r\nimport {\r\n  PlatformSpikes,\r\n  Saw,\r\n  FlamethrowerLeft,\r\n  FlamethrowerRight,\r\n  FlamethrowerUp,\r\n  FlamethrowerDown,\r\n  BulletController,\r\n} from './Traps';\r\n\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n} from './Assets';\r\nimport { createImage, Sprite } from './CreateImage';\r\nimport { Player } from './Player';\r\n\r\nclass CollisionBlock {\r\n  constructor ({ position }) {\r\n    this.position = position;\r\n    this.width = 36;\r\n    this.height = 36;\r\n  }\r\n  draw() {\r\n    c.fillStyle = 'rgba(204,11,10,0.3)';\r\n    c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n}\r\n\r\nconst platforms = [];\r\n// const parsedCollisions = collisionsLevel_1.forEach((row, index_Y) => {\r\n//   row.forEach((cell, index_X) => {\r\n//     if (cell === 292) {\r\n//   \r\n//       platforms.push(new CollisionBlock(\r\n//         {position: {\r\n//           x: index_X * 36,\r\n//           y: index_Y * 36,\r\n//         }}))\r\n//     }\r\n//   })\r\n// })\r\n\r\n\r\n\r\nconst parsedCollisions = collisionsLevel_1.forEach((row, index_Y) => {\r\n  row.forEach((cell, index_X) => {\r\n    switch(cell) {\r\n      case '1p': // Space toggled platform (One)\r\n        platforms.push(new PlatformOne(index_X * 36, index_Y * 36, createImage(platformOne, 36, 36), platforms));\r\n          break;\r\n      case '2p': // Space toggled platform (Two)\r\n        platforms.push(new PlatformTwo(index_X * 36, index_Y * 36, createImage(platformTwo, 36, 36), platforms));\r\n          break;\r\n      case '3p': // Space toggled platform (Three)\r\n        platforms.push(new PlatformThree(index_X * 36, index_Y * 36, createImage(platformThree, 36, 36), platforms));\r\n          break;\r\n      case '1s': // One-Step platform\r\n        platforms.push(new OneStep(index_X * 36, index_Y * 36, createImage(platformOneStep, 36, 36), platforms));\r\n          break;\r\n      case 'sl': // Solid platform\r\n        platforms.push(new Platform( // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n          index_X * 36, index_Y * 36, createImage(platformSolid, 36, 36), platforms));\r\n          break;\r\n      case 'ja': // Jump-toggled platform (active)\r\n        platforms.push(new JumpToggleActive(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms));\r\n          break;\r\n      case 'jd': // Jump-toggled platform (disabled)\r\n        platforms.push(new JumpToggleDisabled(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms));\r\n          break;\r\n      case 'sk': // Saw trap platform\r\n        platforms.push(new PlatformSpikes(index_X * 36, index_Y * 36, createImage(spike, 36, 36), platforms));\r\n          break;\r\n      case 'sw': // Spikes trap platform\r\n        platforms.push(new Saw(index_X * 36, index_Y * 36, createImage(saw, 36, 36), platforms));\r\n          break;\r\n      case 'dz': // Dead signal zone\r\n        platforms.push(new DeadSignal(\r\n          index_X * 36, index_Y * 36, createImage(deadSignalZone, 36, 36), platforms));\r\n          break;\r\n      case 'fl': // Flamethrower (left)\r\n      platforms.push(new FlamethrowerLeft(\r\n        index_X * 36, index_Y * 36, createImage(flamethrowerLeft, 36, 36), platforms, new BulletController()));\r\n        break;\r\n      case 'fr': // Flamethrower (right)\r\n      platforms.push(new FlamethrowerRight(\r\n        index_X * 36, index_Y * 36, createImage(flamethrowerRight, 36, 36), platforms, new BulletController()));\r\n        break;\r\n      case 'fu': // Flamethrower (up)\r\n      platforms.push(new FlamethrowerUp(\r\n        index_X * 36, index_Y * 36, createImage(flamethrowerUp, 36, 36), platforms, new BulletController()));\r\n        break;\r\n      case 'fd': // Flamethrower (down)\r\n      platforms.push(new FlamethrowerDown(\r\n        index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, new BulletController()));\r\n        break;\r\n      case 'fn': // Fan (decoration)\r\n      platforms.push(new Fan(\r\n        index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms));\r\n        break;\r\n      case 'b1': // Fan (decoration)\r\n      platforms.push(new Brick_1(\r\n        index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms));\r\n        break;\r\n      case 'b2': // Fan (decoration)\r\n      platforms.push(new Brick_2(\r\n        index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms));\r\n        break;\r\n    }\r\n  })\r\n})\r\n                                                        \r\nexport { CollisionBlock, platforms, parsedCollisions }","export function createImage(src, width, height) {\r\n  const image = new Image();\r\n  image.src = src;\r\n  image.width = width;\r\n  image.height = height;\r\n  return image;\r\n}\r\n\r\n\r\nexport class Sprite {\r\n  constructor ({ position, imageSrc }) {\r\n    this.position = position;\r\n    this.image = new Image();\r\n    this.image.onload = () => {\r\n      this.loaded = true;\r\n    }\r\n    this.image.src = imageSrc;\r\n    this.loaded = false;\r\n  }\r\n  draw() {\r\n    if (!this.loaded) return;\r\n    c.drawImage(this.image, this.position.x, this.position.y)\r\n  }\r\n}","import { player } from '../index';\r\nimport { platforms } from '../index';\r\nimport { sawTrap, sawTrap2 } from '../index';\r\nimport { jump } from '../index';\r\nimport { audio, gameSoundEffects } from './data/Audio';\r\n\r\n\r\n\r\nconst keys = {\r\n  right: {\r\n    pressed: false\r\n  },\r\n  left: {\r\n    pressed: false\r\n  },\r\n  up: {\r\n    pressed: false\r\n  },\r\n  space: {\r\n    pressed: false\r\n  },\r\n  lastPressed: 'right',\r\n  jumpToggleActive: true,\r\n  isJumped: false,\r\n  spaceToggleCounter: 1, // Platform One type is active\r\n  deadSignalZone: false,\r\n};\r\n                                                // let hiddenPlatformsArr = []\r\nconst keyDownHandler = (e) => {\r\n  console.log(e.code)\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp':\r\n        keys.up.pressed = true;\r\n        if (player.velocity.y <= 0 && player.velocity.y >= -3.5) { //(player.velocity.y === 0) или (player.velocity.y <= 0 && player.velocity.y >= -3.5)\r\n          keys.jumpToggleActive ? keys.jumpToggleActive = false : keys.jumpToggleActive = true;\r\n          gameSoundEffects(audio.jump);\r\n        }\r\n        if (player.velocity.y === 0 && keys.lastPressed === 'right') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= player.jumpHeight; // -20 is higher\r\n          player.currentSprite = player.sprites.jump.right;\r\n        } else if (player.velocity.y === 0 && keys.lastPressed === 'left') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= player.jumpHeight; // -20 is higher\r\n          player.currentSprite = player.sprites.jump.left;\r\n        }\r\n        break;\r\n\r\n      case 'Space': {\r\n        keys.space.pressed = true;\r\n        !keys.deadSignalZone && keys.spaceToggleCounter++;\r\n      }\r\n        break;\r\n\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = true;\r\n        keys.lastPressed = 'right';\r\n        player.currentSprite = player.sprites.run.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = true;\r\n        keys.lastPressed = 'left';\r\n        player.currentSprite = player.sprites.run.left;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nconst keyUpHandler = (e) => {\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp': \r\n        // player.velocity.y = 0;\r\n        keys.up.pressed = false;\r\n        // keys.up.pressed = true;\r\n        if (player.velocity.y !== 0 && keys.lastPressed === 'right') {\r\n          player.currentSprite = player.sprites.fall.right;\r\n        } else if (player.velocity.y !== 0 && keys.lastPressed === 'left') {\r\n          player.currentSprite = player.sprites.fall.left;\r\n        }\r\n        break;\r\n      // case 'ArrowDown': player.velocity.y = 0\r\n      //   break;\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = false;\r\n        player.currentSprite = player.sprites.idle.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = false;\r\n        player.currentSprite = player.sprites.idle.left;\r\n      }\r\n        break;\r\n      case 'Space': {\r\n        keys.space.pressed = false;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nexport { keys, keyDownHandler, keyUpHandler };","import { CollisionBlock, platforms, parsedCollisions } from './Collision';\r\nimport { canvas, c } from './Canvas';\r\nimport { createImage } from './CreateImage';\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n\r\n      } from './Assets';\r\n\r\n     \r\n      \r\n\r\nimport { audio, gameSoundEffects } from './data/Audio';\r\nimport { keys } from './Keys';\r\nimport { player } from '../index';\r\nimport { leftNeighboorBlockFromHero } from '../index';\r\n\r\n\r\nclass Platform {\r\n  constructor (posX, posY, image) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY\r\n    }\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;\r\n    this.frames = 0;\r\n    this.frequency = 28;\r\n    this.sprites = {\r\n      idle: this.image,\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.type = 'solid';\r\n    this.statusActive = true;\r\n  }\r\n\r\n  get top() {\r\n    return this.position.y;\r\n  }\r\n  get bottom() {\r\n    return this.position.y + this.height;\r\n  }\r\n  get left() {\r\n    return this.position.x;\r\n  }\r\n  get right() {\r\n    return this.position.x + this.width;\r\n  }\r\n\r\n  set top(value) {\r\n    this.position.y = value;\r\n  }\r\n  set bottom(value) {\r\n    this.position.y = value;\r\n  }\r\n  set left(value) {\r\n    this.position.x = value;\r\n  }\r\n  set right(value) {\r\n    this.position.x = value;\r\n  }\r\n\r\n  getType() {\r\n    return this.type;\r\n  }\r\n  draw() {\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height) // 48, 0, 48, 48 - player sprite crop (x, y, w, h) // 36 размер кадра в спрайте\r\n  }\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    this.draw();\r\n  }\r\n  collisionAbove() {\r\n  // Player - platform collision (player is above the platform)\r\n    if (player.bottom <= this.position.y &&\r\n      player.bottom + player.velocity.y >= this.top && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.right - player.width / 4 >= this.left  && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n      player.left <= this.right - player.width / 4) { \r\n      player.velocity.y = -3.5; // если касается земли // -3.5\r\n      player.alive && gameSoundEffects(audio.jumpOnSpaceToggledPlatform);\r\n      if (keys.up.pressed ||\r\n      keys.up.pressed && keys.right.pressed ||\r\n      keys.up.pressed && keys.left.pressed) {\r\n        player.velocity.y = -player.jumpHeight;\r\n        player.gravity = 0.25;\r\n      } \r\n    }\r\n  }\r\n  collisionUnder() {\r\n  // Player - platform collision (player is under the platform)\r\n    if (player.top <= this.bottom && // player.position.y - player.velocity.y * 0.5\r\n      player.bottom + player.velocity.y >= this.top &&\r\n      player.left >= this.left - player.width / 1.25 && // можно сделать 1.75\r\n      player.right <= this.right + player.width / 1.25) {\r\n        player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\r\n        player.alive && gameSoundEffects(audio.bottomHit);\r\n      }\r\n  }\r\n  collisionLeftSide() {\r\n  // Player - platform collision (player is left from the platform and moves right)\r\n    if (keys.right.pressed &&\r\n      player.bottom >= this.top && \r\n      player.top <= this.bottom &&\r\n      player.right >= this.left) {\r\n        player.velocity.x = 0;\r\n        console.log('hit!');\r\n    } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\r\n    if (keys.right.pressed &&\r\n      player.bottom >= this.top && \r\n      player.top <= this.bottom &&\r\n      player.right >= this.right) {\r\n        player.velocity.x = 2;\r\n        console.log('free!');\r\n    }\r\n  }\r\n  collisionRightSide() {\r\n  // Player - platform collision (player is right from the platform and moves left)\r\n    if (keys.left.pressed &&\r\n      (leftNeighboorBlockFromHero != undefined || leftNeighboorBlockFromHero != null) &&\r\n      player.bottom >= leftNeighboorBlockFromHero.top && \r\n      player.top <= leftNeighboorBlockFromHero.bottom &&\r\n      player.left <= leftNeighboorBlockFromHero.right) {\r\n        player.velocity.x = 0;\r\n        console.log('hit!');\r\n    } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\r\n      if (keys.left.pressed &&\r\n        leftNeighboorBlockFromHero != undefined &&\r\n        (player.bottom <= leftNeighboorBlockFromHero.top || \r\n        player.top >= leftNeighboorBlockFromHero.bottom) &&\r\n        player.left <= leftNeighboorBlockFromHero.left) { // или \"-\" player.width ???\r\n          player.velocity.x = -2;\r\n          console.log('free!');\r\n      }\r\n    }\r\n  \r\n  collision() { // разбито на отдельные методы, для частичного наследования\r\n    this.collisionAbove();\r\n    this.collisionUnder();\r\n    this.collisionLeftSide();\r\n    this.collisionRightSide();\r\n  }\r\n}\r\n\r\nclass Fan extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'fan';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(fan, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 23;\r\n  }\r\n}\r\n\r\nclass Brick_1 extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'fan';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(fan, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 1;\r\n  }\r\n}\r\n\r\nclass Brick_2 extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'fan';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(fan, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 1;\r\n  }\r\n}\r\n\r\nclass JumpToggleActive extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'jumpToggleActive';\r\n    this.statusActive = true;\r\n    this.sprites = {\r\n      idle: createImage(platformJump, 36, 36),\r\n      disabled: createImage(platformJumpDisabled, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 63;\r\n  }\r\n  toggle() {\r\n    console.log(this.type, this.statusActive)\r\n    if (keys.jumpToggleActive === true) {\r\n      this.currentSprite = this.sprites.idle;\r\n      this.statusActive = true;\r\n    } else {\r\n      this.currentSprite = this.sprites.disabled;\r\n      this.statusActive = false;\r\n    }\r\n  }\r\n}\r\n\r\nclass JumpToggleDisabled extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'jumpToggleDisabled';\r\n    this.statusActive = false;\r\n    this.sprites = {\r\n      idle: createImage(platformJump, 36, 36),\r\n      disabled: createImage(platformJumpDisabled, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.disabled;\r\n    this.frequency = 63;\r\n  }\r\n  toggle() {\r\n    console.log(this.type, this.statusActive)\r\n    if (keys.jumpToggleActive === false) {\r\n      this.currentSprite = this.sprites.idle;\r\n      this.statusActive = true;\r\n    } else {\r\n      this.currentSprite = this.sprites.disabled;\r\n      this.statusActive = false;\r\n    }\r\n  }\r\n}\r\n\r\nclass OneStep extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.temporaryPosX = posX;\r\n    this.hits = 0;\r\n    this.sprites = {\r\n      idle: createImage(platformOneStep, 36, 36),\r\n      explosion: createImage(platformOneStepExplosion, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 28;\r\n    this.type = 'oneStep';\r\n    this.statusActive = true;\r\n  }\r\n  destroy() {\r\n    player.alive && gameSoundEffects(audio.explosionBlock);\r\n    this.currentSprite = this.sprites.explosion;\r\n    setTimeout(() => {\r\n      this.position.x = -9999;\r\n      this.currentSprite = this.sprites.idle;\r\n      this.statusActive = false;\r\n  }, 550);\r\n    this.hits = 0;\r\n  } \r\n  restore() {\r\n    this.position.x = this.temporaryPosX;\r\n    this.statusActive = true;\r\n  }\r\n}\r\n\r\nclass SpaceToggledPlatform extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'toggledBySpacePlatform';\r\n    this.statusActive = false;\r\n    this.sprites = {\r\n      idle: createImage(deadSignalZoneHover, 36, 36),\r\n      disabled: createImage(platformOneDisabled, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 63;\r\n    this.setCount = null;\r\n  }\r\n  checkSpaceToggleCounter() {\r\n   keys.spaceToggleCounter >= 4 ? keys.spaceToggleCounter =  1 : keys.spaceToggleCounter; \r\n  }\r\n  collision() {\r\n    if (keys.spaceToggleCounter === this.setCount) {\r\n      this.statusActive = true;\r\n      super.collisionAbove();\r\n      super.collisionUnder();\r\n      super.collisionLeftSide();\r\n      if ((leftNeighboorBlockFromHero != undefined ||\r\n        leftNeighboorBlockFromHero != null) &&\r\n        keys.spaceToggleCounter === leftNeighboorBlockFromHero.setCount) {\r\n          super.collisionRightSide();\r\n      }\r\n      this.currentSprite = this.sprites.idle;\r\n      this.checkSpaceToggleCounter();\r\n    } else {\r\n      this.currentSprite = this.sprites.disabled;\r\n      this.statusActive = false;\r\n      this.checkSpaceToggleCounter();\r\n    // Hero is inside or outside of Platform (for toggled by space platformes and deadSignal zone platforms)   \r\n    if (platforms.some((block) => {\r\n      return (player.position.y + player.height * 0.75 >= block.top &&\r\n        player.position.y + player.height * 0.35 <= block.bottom &&\r\n        player.position.x + player.width * 0.75 >= block.left &&\r\n        player.position.x + player.width * 0.25 <= block.right);\r\n    })) {\r\n      keys.deadSignalZone = true;\r\n      console.log('inside')\r\n    } else {\r\n      console.log('outside')   \r\n      keys.deadSignalZone = false;\r\n    }\r\n    }\r\n  } \r\n}\r\n\r\nclass PlatformOne extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'platformOne';\r\n    this.setCount = 1;\r\n    this.sprites = {\r\n      idle: createImage(platformOne, 36, 36),\r\n      disabled: createImage(platformOneDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nclass PlatformTwo extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'platformTwo';\r\n    this.setCount = 2;\r\n    this.sprites = {\r\n      idle: createImage(platformTwo, 36, 36),\r\n      disabled: createImage(platformTwoDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nclass PlatformThree extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'platformThree';\r\n    this.setCount = 3;\r\n    this.sprites = {\r\n      idle: createImage(platformThree, 36, 36),\r\n      disabled: createImage(platformThreeDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nclass DeadSignal extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'deadSignalZone';\r\n    this.statusActive = false;\r\n    this.frequency = 1;\r\n    this.sprites = {\r\n      idle: createImage(deadSignalZone, 36, 36),\r\n      disabled: createImage(deadSignalZoneHover, 36, 36),\r\n    }\r\n  }\r\n\r\n  hover() {\r\n    if ((player.left <= this.right &&\r\n      player.right >= this.left &&\r\n      player.top <= this.bottom &&\r\n      player.bottom >= this.top) &&\r\n      (platforms.some((block) => {\r\n        return (player.position.y + player.height * 0.75 >= block.top &&\r\n          player.position.y + player.height * 0.35 <= block.bottom &&\r\n          player.position.x + player.width * 0.75 >= block.left &&\r\n          player.position.x + player.width * 0.25 <= block.right);\r\n      }))\r\n      ) { // Inside of the block\r\n      this.checkSpaceToggleCounter();\r\n      this.currentSprite = this.sprites.idle;\r\n    } else if ((platforms.some((block) => { // Outside of the block\r\n      return (player.position.y + player.height * 0.75 >= block.top &&\r\n        player.position.y + player.height * 0.35 <= block.bottom &&\r\n        player.position.x + player.width * 0.75 >= block.left &&\r\n        player.position.x + player.width * 0.25 <= block.right)}))) {\r\n          this.currentSprite = this.sprites.disabled;\r\n      }\r\n  }\r\n\r\n  collision() {\r\n    this.hover(); // Hover the block when the hero is inside of it\r\n      // Hero is inside or outside of block (for toggled by space platformes and deadSignal zone platforms)   \r\n      if (platforms.some((block) => {\r\n        return (player.position.y + player.height * 0.75 >= block.top &&\r\n          player.position.y + player.height * 0.35 <= block.bottom &&\r\n          player.position.x + player.width * 0.75 >= block.left &&\r\n          player.position.x + player.width * 0.25 <= block.right);\r\n      })) {\r\n        keys.deadSignalZone = true;\r\n        console.log(keys.space.pressed)\r\n        player.alive && keys.space.pressed && gameSoundEffects(audio.toggleDisabled);\r\n        console.log('inside')\r\n      } else {\r\n        console.log('outside')   \r\n        keys.deadSignalZone = false;\r\n        player.alive && keys.space.pressed && gameSoundEffects(audio.toggle);\r\n      }\r\n  }\r\n} \r\n\r\nexport { Platform,\r\n        OneStep,\r\n        Fan,\r\n        JumpToggleActive,\r\n        JumpToggleDisabled,\r\n        PlatformOne,\r\n        PlatformTwo,\r\n        PlatformThree,\r\n        DeadSignal,\r\n        Brick_1,\r\n        Brick_2,\r\n      }","import { canvas, c } from './Canvas';\r\nimport { createImage } from './CreateImage';\r\nimport { init } from '../index';\r\nimport { keys } from './Keys';\r\nimport { \r\n  platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n      } from '../js/Assets';\r\nimport { platforms, intersection } from '../index';\r\nimport { audio, gameSoundEffects } from '../js/data/Audio';\r\n\r\nexport class Player {\r\n  constructor({ platforms = [] }, posX, posY) {\r\n    this.platforms = platforms;\r\n    this.position = {\r\n      x: posX,\r\n      y: posY,\r\n    }\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 1,\r\n    }\r\n    this.type = 'player';\r\n    this.gravity = 0.25;\r\n    this.jumpHeight = 10; // -20 is higher\r\n    this.width = 32;\r\n    this.height = 32;\r\n    this.frequency = 21;\r\n    this.frames = 0;\r\n    this.alive = true;\r\n    this.sprites = {\r\n      idle: {\r\n        right: createImage(heroIdleR, 32, 32),\r\n        left: createImage(heroIdleL, 32, 32),\r\n      },\r\n      run: {\r\n        right: createImage(heroRunR, 32, 32),\r\n        left: createImage(heroRunL, 32, 32),\r\n      },\r\n      jump: {\r\n        right: createImage(heroJumpR, 32, 32),\r\n        left: createImage(heroJumpL, 32, 32),\r\n      },\r\n      fall: {\r\n        right: createImage(heroFallR, 32, 32),\r\n        left: createImage(heroFallL, 32, 32),\r\n      },\r\n      death: createImage(heroDeath, 32, 32),\r\n    }\r\n    this.currentSprite = this.sprites.idle.right;\r\n  }\r\n            \r\n  get top() {\r\n    return this.position.y;\r\n  }\r\n  get bottom() {\r\n    return this.position.y + this.height;\r\n  }\r\n  get left() {\r\n    return this.position.x;\r\n  }\r\n  get right() {\r\n    return this.position.x + this.width;\r\n  }\r\n\r\n  set top(value) {\r\n    this.position.y = value;\r\n  }\r\n  set bottom(value) {\r\n    this.position.y = value;\r\n  }\r\n  set left(value) {\r\n    this.position.x = value;\r\n  }\r\n  set right(value) {\r\n    this.position.x = value;\r\n  }\r\n\r\n  draw() {\r\n    c.drawImage(this.currentSprite, 32 * this.frames, 0, 32, 32, this.left, this.top, this.width, this.height) // 32, 0, 32, 32 - player sprite crop (x, y, w, h)\r\n  }\r\n\r\n  die() {\r\n    this.velocity.x = 0;\r\n    this.velocity.y = -2;\r\n    this.gravity = 0;\r\n    this.currentSprite = this.sprites.death;\r\n    this.alive && gameSoundEffects(audio.heroDeath);\r\n    this.alive = false;\r\n    setTimeout(init, 550);\r\n  }\r\n\r\n  checkCollisionsAxes_X() {\r\n    // X-axes collision\r\n    for (let i = 0; i < this.platforms.length; i++) {\r\n      const platform = this.platforms[i];\r\n      // If a collision exists\r\n      switch(platform.type) {\r\n        case 'fan':\r\n        case 'solid':\r\n          if (this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.x < 0) {// moving left       // <= -2\r\n                this.left = platform.right + 0.1;\r\n                break;\r\n              }\r\n              if (this.velocity.x > 0) {// moving right      // <= 2\r\n                this.left = platform.left - this.width - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n\r\n        case 'jumpToggleActive':\r\n        if (keys.jumpToggleActive &&\r\n          this.left <= platform.right &&\r\n          this.right >= platform.left &&\r\n          this.top <= platform.bottom &&\r\n          this.bottom >= platform.top) {\r\n            if (this.velocity.x < 0) {// moving left       // <= -2\r\n              this.left = platform.right + 0.1;\r\n              break;\r\n            }\r\n            if (this.velocity.x > 0) {// moving right      // <= 2\r\n              this.left = platform.left - this.width - 0.1;\r\n              break;\r\n            }\r\n          }\r\n          break;\r\n\r\n        case 'jumpToggleDisabled':\r\n          if (!keys.jumpToggleActive &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.x < 0) {// moving left       // <= -2\r\n                this.left = platform.right + 0.1;\r\n                break;\r\n              }\r\n              if (this.velocity.x > 0) {// moving right      // <= 2\r\n                this.left = platform.left - this.width - 0.1;\r\n                break;\r\n              }\r\n            }\r\n          break;\r\n\r\n        case 'spikes':\r\n        case 'saw':\r\n          // Hero - platform collision (player is above the spike platform)\r\n          if (this.bottom <= platform.top + this.height / 3 &&\r\n            this.bottom + this.velocity.y >= platform.top + this.height / 3 &&   \r\n            this.right >= platform.left + this.width / 3 && \r\n            this.left <= platform.right - this.width / 3\r\n            ) {\r\n              //debugger\r\n              this.die();\r\n          }\r\n          // Hero - platform collision (player is under the platform)\r\n          if (this.top <= platform.bottom - Math.abs(this.velocity.y) &&\r\n            this.bottom + this.velocity.y >= platform.top + this.height / 3 && // + this.velocity.y // оставить!!\r\n            this.left >= platform.left - this.width / 1.5 &&\r\n            this.right <= platform.right + this.width / 1.5) {\r\n              //debugger\r\n              this.die();\r\n          }\r\n          break;\r\n\r\n        case 'oneStep':\r\n          if (platform.hits === 0 &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.x < 0) {// moves left       // <= -2\r\n                this.left = platform.right + 0.1;\r\n                keys.left.pressed = false;   \r\n                platform.hits++;\r\n                platform.destroy();\r\n                break;\r\n              }\r\n              if (this.velocity.x > 0) {// moves right      // <= 2\r\n                this.left = platform.left - this.width - 0.1;\r\n                keys.right.pressed = false;      \r\n                platform.hits++;\r\n                platform.destroy();\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkCollisionsAxes_Y() {\r\n    // Y-axes collision\r\n    for (let i = 0; i < this.platforms.length; i++) {\r\n      const platform = this.platforms[i];\r\n      // If a collision exists\r\n      switch(platform.type) {\r\n        case 'fan':\r\n        case 'solid':\r\n          if (this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) {// moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) {// falling down  // 0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.top - this.height - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n          \r\n        case 'jumpToggleActive':\r\n          if (keys.jumpToggleActive &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom - this.height / 4 && // - this.height / 4 (поправка на прозрачность спрайта героя)\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) {// moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                this.alive && gameSoundEffects(audio.bottomHit);\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) {// falling down  // 0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.top - this.height - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n\r\n        case 'jumpToggleDisabled':\r\n          if (!keys.jumpToggleActive &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) {// moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) {// falling down  // 0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.top - this.height - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n\r\n\r\n        case 'oneStep':\r\n          if (platform.hits === 0 &&\r\n            this.left <= platform.right &&\r\n            this.right >= platform.left &&\r\n            this.top <= platform.bottom &&\r\n            this.bottom >= platform.top) {\r\n              if (this.velocity.y < 0) {// moving up  // -0.25\r\n                this.velocity.y = 0;\r\n                this.top = platform.bottom + 0.1;\r\n                keys.up.pressed = false;      \r\n                platform.hits++;\r\n                platform.destroy();\r\n                break;\r\n              }\r\n              if (this.velocity.y > 0) {// falling down  // 0.25\r\n                this.velocity.y = -this.jumpHeight; // 0\r\n                keys.up.pressed = false;      \r\n                platform.hits++;\r\n                platform.destroy();\r\n                this.top = platform.top - this.height - 0.1;\r\n                break;\r\n              }\r\n          }\r\n          break;\r\n        }\r\n    }\r\n  }\r\n\r\n  setGravity() {\r\n    this.velocity.y += this.gravity;\r\n    this.top += this.velocity.y;\r\n  }\r\n\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    this.draw();\r\n    this.left += this.velocity.x;\r\n    this.checkCollisionsAxes_X(); // strict order\r\n    this.setGravity();            // strict order\r\n    this.checkCollisionsAxes_Y(); // strict order\r\n  }\r\n}","import { canvas, c } from './Canvas';\r\nimport { platforms } from '../index';\r\nimport { player } from '../index';\r\nimport { createImage } from './CreateImage';\r\nimport { Platform,\r\n  OneStep,\r\n  Fan,\r\n  JumpToggleActive,\r\n  JumpToggleDisabled,\r\n  PlatformOne,\r\n  PlatformTwo,\r\n  PlatformThree,\r\n  DeadSignal,\r\n} from './Platform';\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n  deadSignalZone,\r\n  deadSignalZoneHover,\r\n  flamethrowerLeft,\r\n  flamethrowerRight,\r\n  flamethrowerUp,\r\n  flamethrowerDown,\r\n  fireballUp,\r\n  fireballDown,\r\n  fireballLeft,\r\n  fireballRight,\r\n      } from './Assets';\r\nimport { audio, gameSoundEffects } from '../js/data/Audio';\r\n\r\nclass PlatformSpikes extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'spikes';\r\n    this.statusActive = true;\r\n  }\r\n  collision() {\r\n  // Player - platform collision (player is above the spike platform)\r\n    if (player.bottom <= this.position.y &&\r\n      player.bottom + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.right >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n      player.left <= this.position.x + this.width - player.width / 3) { \r\n      player.die();\r\n    }\r\n    // Player - platform collision (player is under the platform)\r\n    if (player.top <= this.position.y + this.height &&\r\n      player.bottom + player.velocity.y >= this.position.y &&\r\n      player.left >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n      player.right <= this.position.x + this.width + player.width / 2) {\r\n        player.die();\r\n    }\r\n  }\r\n}\r\n\r\nclass Saw extends PlatformSpikes {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'saw';\r\n    this.frequency = 23;\r\n  }\r\n}\r\n\r\nclass Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController) {\r\n    this.type = 'flamethrower';\r\n    this.statusActive = true;\r\n    this.position = {\r\n      x: posX,\r\n      y: posY,\r\n    }\r\n    this.bulletFlight = { // speed and direction\r\n      x: 0,\r\n      y: 0,\r\n    }\r\n    this.width = 36;\r\n    this.height = 36;\r\n    this.bulletSpeed = 2;//2\r\n    this.caliber = 36; // Bullet size\r\n    this.delay = 200;\r\n    this.bulletController = bulletController;\r\n    this.platforms = platforms;\r\n    this.frames = 1;\r\n    this.frequency = 79;\r\n    this.sprites = {\r\n      idle: image,\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n  }\r\n  draw() {\r\n    // c.strokeStyle = \"yellow\";\r\n    // c.strokeRect(this.position.x, this.position.y, this.width, this.height);\r\n    // c.fillStyle = \"black\";\r\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n    \r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height);\r\n    this.shoot();\r\n    this.bulletController.draw();\r\n  }\r\n  shoot() {\r\n    const delay = this.delay;\r\n    let bullet_X, bullet_Y;\r\n    //Bullet position x/y axes\r\n    switch(this.type) {\r\n  case 'flamethrowerLeft': bullet_X = this.position.x - this.caliber / 3; // bullet_X = this.position.x - this.caliber;\r\n        break;\r\n  case 'flamethrowerRight': bullet_X = this.position.x + this.width - this.caliber * 0.7; // bullet_X = this.position.x + this.width;\r\n        break;\r\n      case 'flamethrowerUp':\r\n      case 'flamethrowerDown': bullet_X = this.position.x + this.width / 2 - this.caliber / 2;\r\n        break;\r\n    }\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft':\r\n      case 'flamethrowerRight': bullet_Y = this.position.y + this.height / 2 - this.caliber / 3.5; // bullet_Y = this.position.y + this.height / 2 - this.caliber / 2;\r\n        break;\r\n      case 'flamethrowerUp': bullet_Y = this.position.y - this.caliber / 3; // bullet_Y = this.position.y - this.caliber;\r\n        break;\r\n      case 'flamethrowerDown': bullet_Y = this.position.y + this.height - this.caliber * 0.75; // bullet_Y = this.position.y + this.height;\r\n        break;\r\n    }\r\n    // Bullet velocity x/y axes\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft': this.bulletFlight.x = this.bulletSpeed;\r\n        break;\r\n      case 'flamethrowerRight': this.bulletFlight.x = -this.bulletSpeed;\r\n        break;\r\n      case 'flamethrowerUp':\r\n      case 'flamethrowerDown': this.bulletFlight.x = 0;\r\n        break;\r\n    }\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft':\r\n      case 'flamethrowerRight': this.bulletFlight.y = 0;\r\n        break;\r\n      case 'flamethrowerUp': this.bulletFlight.y = this.bulletSpeed;\r\n        break;\r\n      case 'flamethrowerDown': this.bulletFlight.y = -this.bulletSpeed;\r\n        break;\r\n    }\r\n    this.bulletController.shoot(bullet_X, bullet_Y, delay, this.bulletFlight.x, this.bulletFlight.y, this.caliber, this.type, this.platforms);\r\n  }\r\n  collision() {\r\n    // Player - platform collision (player is above the spike platform)\r\n      if (player.position.y + player.height <= this.position.y &&\r\n        player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n        // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n        player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n        player.position.x <= this.position.x + this.width - player.width / 3) { \r\n        player.die();\r\n      }\r\n      // Player - platform collision (player is under the platform)\r\n      if (player.position.y <= this.position.y + this.height &&\r\n        player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n        player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n        player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n          player.die();\r\n      }\r\n    }\r\n  update() {\r\n    console.log('Fire!');\r\n  }\r\n}\r\n\r\n\r\nclass FlamethrowerLeft extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController) {\r\n    super(posX, posY, image, platforms, bulletController);\r\n    this.type = 'flamethrowerLeft';\r\n  }\r\n}\r\n\r\nclass FlamethrowerRight extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController) {\r\n    super(posX, posY, image, platforms, bulletController);\r\n    this.type = 'flamethrowerRight';\r\n  }\r\n}\r\n\r\nclass FlamethrowerUp extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController) {\r\n    super(posX, posY, image, platforms, bulletController);\r\n    this.type = 'flamethrowerUp';\r\n  }\r\n}\r\n\r\nclass FlamethrowerDown extends Flamethrower {\r\n  constructor(posX, posY, image, platforms, bulletController) {\r\n    super(posX, posY, image, platforms, bulletController);\r\n    this.type = 'flamethrowerDown';\r\n  }\r\n}\r\n\r\nclass BulletController {\r\n  constructor() {\r\n    this.platforms = null;\r\n    this.caliber = null;\r\n  }\r\n  bullets = [];\r\n  timerTillNextBullet = 0;\r\n  \r\n  shoot(posX, posY, delay, flight_X, flight_Y, caliber, directionFlametrowerType, platforms) {\r\n    this.platforms = platforms;\r\n    this.caliber = caliber;\r\n    if (this.timerTillNextBullet <= 0) {\r\n      this.bullets.push(new Bullet(posX, posY, flight_X, flight_Y, caliber, directionFlametrowerType, platforms));\r\n      this.timerTillNextBullet = delay;\r\n    }\r\n    this.timerTillNextBullet--;\r\n  }\r\n\r\n  draw() {\r\n    this.bullets.forEach((bullet) => {\r\n      if (this.isBulletOffScreen(bullet)) {\r\n        const index = this.bullets.indexOf(bullet);\r\n        this.bullets.splice(index, 1);\r\n      }\r\n      bullet.draw();\r\n      bullet.collision();\r\n      this.collisionWithBlocks(bullet);\r\n    });\r\n  }\r\n\r\n  collisionWithBlocks(bullet) {\r\n    this.platforms.forEach((block) => {\r\n      (block.statusActive &&\r\n      bullet.position.x + bullet.width * 0.1 <= block.right &&\r\n      bullet.position.x >= block.left &&\r\n      bullet.position.y <= block.bottom &&\r\n      bullet.position.y >= block.top) && this.destroy(bullet);\r\n    })\r\n    \r\n  }\r\n  destroy(bullet) {\r\n\r\n    const index = this.bullets.indexOf(bullet);\r\n    this.bullets.splice(index, 1);\r\n\r\n\r\n  }\r\n\r\n  collideWith(sprite) {\r\n    return this.bullets.some((bullet) => {\r\n      if (bullet.collideWith(sprite)) {\r\n        this.bullets.splice(this.bullets.indexOf(bullet), 1);\r\n        return true;\r\n      }\r\n      return false;\r\n    });\r\n  }\r\n\r\n  isBulletOffScreen(bullet) {\r\n    return (bullet.position.y <= 0 ||\r\n      bullet.position.y >= canvas.height ||\r\n      bullet.position.x <= 0 ||\r\n      bullet.position.x >= canvas.width);\r\n  }\r\n}\r\n\r\n\r\n\r\nclass Bullet {\r\n  constructor(posX, posY, flight_X, flight_Y, caliber, directionFlametrowerType, platforms) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY,\r\n    }\r\n    this.type = directionFlametrowerType;\r\n    this.flight_X = flight_X;\r\n    this.flight_Y = flight_Y;\r\n    this.width = caliber;\r\n    this.height = caliber;\r\n    this.frames = 1;\r\n    this.frequency = 23;\r\n    this.platforms = platforms;\r\n    this.sprites = {\r\n      left: createImage(fireballLeft, 36, 36),\r\n      right: createImage(fireballRight, 36, 36),\r\n      up: createImage(fireballUp, 36, 36),\r\n      down: createImage(fireballDown, 36, 36),\r\n    }\r\n\r\n    switch(this.type) {\r\n      case 'flamethrowerLeft': this.currentSprite = this.sprites.left;\r\n        break;\r\n      case 'flamethrowerRight': this.currentSprite = this.sprites.right;\r\n        break;\r\n      case 'flamethrowerUp': this.currentSprite = this.sprites.up;\r\n        break;\r\n      case 'flamethrowerDown': this.currentSprite = this.sprites.down;\r\n        break;\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    this.position.x -= this.flight_X;\r\n    this.position.y -= this.flight_Y;\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n\r\n  collision() {\r\n\r\n    if (player.top + player.height * 0.3 >= this.position.y &&\r\n      player.top + player.height * 0.3 <= this.position.y + this.height &&\r\n      player.left + player.width * 0.3 >= this.position.x &&\r\n      player.left + player.width * 0.3 <= this.position.x + this.width) {\r\n        player.die();\r\n      }\r\n    }\r\n  // collisionWithBlocks() {\r\n  //   this.platforms.forEach((block) => {\r\n  //     if (this.position.x <= block.right &&\r\n  //       this.position.x + this.width >= block.left &&\r\n  //       this.position.y <= block.bottom &&\r\n  //       this.position.y + this.height > block.top) {\r\n  //     }\r\n  //   })\r\n    \r\n  // }\r\n  // destroy() {\r\n  //   console.log('Ouch!')\r\n  // }\r\n\r\n  // collideWith(sprite) {\r\n  //   if (\r\n  //     this.x < sprite.x + sprite.width &&\r\n  //     this.x + this.width > sprite.x &&\r\n  //     this.y < sprite.y + sprite.height &&\r\n  //     this.y + this.height > sprite.y\r\n  //   ) {\r\n  //     sprite.takeDamage();\r\n  //     return true;\r\n  //   }\r\n  //   return false;\r\n  // }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport {\r\n  PlatformSpikes,\r\n  Saw,\r\n  FlamethrowerLeft,\r\n  FlamethrowerRight,\r\n  FlamethrowerUp,\r\n  FlamethrowerDown,\r\n  BulletController,\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import { canvas, c } from './Canvas';\r\n\r\n// import { Platform,\r\n//   OneStep,\r\n//   Fan,\r\n//   JumpToggleActive,\r\n//   JumpToggleDisabled,\r\n//   PlatformOne,\r\n//   PlatformTwo,\r\n//   PlatformThree,\r\n//   DeadSignal,\r\n// } from './Platform';\r\n// import { platformImgSrc300,\r\n//   heroIdleR,\r\n//   heroIdleL,\r\n//   heroRunR,\r\n//   heroRunL,\r\n//   heroJumpR,\r\n//   heroJumpL,\r\n//   heroFallR,\r\n//   heroFallL,\r\n//   heroDeath,\r\n//   backgroundImg,\r\n//   platformSolid,\r\n//   platformOneStep,\r\n//   platformOneStepExplosion,\r\n//   platformJump,\r\n//   platformJumpDisabled,\r\n//   platformOne,\r\n//   platformTwo,\r\n//   platformThree,\r\n//   platformOneDisabled,\r\n//   platformTwoDisabled,\r\n//   platformThreeDisabled,\r\n//   saw,\r\n//   fan,\r\n//   spike,\r\n//   deadSignalZone,\r\n//   deadSignalZoneHover,\r\n//   flamethrowerLeft,\r\n//   flamethrowerRight,\r\n//   // flamethrowerUp,\r\n//   // flamethrowerDown,\r\n//    flamethrowerVertical,\r\n\r\n//       } from './Assets';\r\n\r\n\r\n// class PlatformSpikes extends Platform {\r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'spikes';\r\n//   }\r\n//   collision() {\r\n//   // Player - platform collision (player is above the spike platform)\r\n//     if (player.position.y + player.height <= this.position.y &&\r\n//       player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n//       // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n//       player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n//       player.position.x <= this.position.x + this.width - player.width / 3) { \r\n//       player.die();\r\n//     }\r\n//     // Player - platform collision (player is under the platform)\r\n//     if (player.position.y <= this.position.y + this.height &&\r\n//       player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n//       player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n//       player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n//         player.die();\r\n//     }\r\n//   }\r\n// }\r\n\r\n// class Saw extends PlatformSpikes {\r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'saw';\r\n//     this.frequency = 23;\r\n//   }\r\n// }\r\n\r\n// class Bullet {\r\n//   constructor(flamethrowerPos_X, flamethrowerPos_Y, flamethrowerWidth, flamethrowerHeight, flamethrowerType, image) {\r\n//     this.position = {\r\n//       x: null,\r\n//       y: null //canvas.height / 2\r\n//     }\r\n//     this.velocity = {\r\n//       x: null,  // 0\r\n//       y: null   // 1\r\n//     }\r\n//     this.width = 15 //image.width;\r\n//     this.height = 15 //image.height;\r\n//     this.bulletSpeed = 1;\r\n//     // Bullet position x/y axes\r\n//     switch(flamethrowerType) {\r\n//       case 'flamethrowerLeft': this.position.x = flamethrowerPos_X;\r\n//         break;\r\n//       case 'flamethrowerRight': this.position.x = flamethrowerPos_X + flamethrowerWidth;\r\n//         break;\r\n//       case 'flamethrowerUp':\r\n//       case 'flamethrowerDown': this.position.x = flamethrowerPos_X + flamethrowerWidth / 2;\r\n//         break;\r\n//     }\r\n//     switch(flamethrowerType) {\r\n//       case 'flamethrowerLeft':\r\n//       case 'flamethrowerRight': this.position.y = flamethrowerPos_Y + flamethrowerHeight / 2;\r\n//         break;\r\n//       case 'flamethrowerUp': this.position.y = flamethrowerPos_Y;\r\n//         break;\r\n//       case 'flamethrowerDown': this.position.y = flamethrowerPos_X + flamethrowerHeight;\r\n//         break;\r\n//     }\r\n//     // Bullet velocity x/y axes\r\n//     switch(flamethrowerType) {\r\n//       case 'flamethrowerLeft': this.velocity.x = -this.bulletSpeed;\r\n//         break;\r\n//       case 'flamethrowerRight': this.velocity.x = this.bulletSpeed;\r\n//         break;\r\n//       case 'flamethrowerUp':\r\n//       case 'flamethrowerDown': this.velocity.x = 0;\r\n//         break;\r\n//     }\r\n//     switch(flamethrowerType) {\r\n//       case 'flamethrowerLeft':\r\n//       case 'flamethrowerRight': this.velocity.y = 0;\r\n//         break;\r\n//       case 'flamethrowerUp': this.velocity.y = -this.bulletSpeed;\r\n//         break;\r\n//       case 'flamethrowerDown': this.velocity.y = this.bulletSpeed;\r\n//         break;\r\n//     }\r\n//     this.frames = 0;\r\n//     this.frequency = 28;\r\n//     this.sprites = {\r\n//       idle: this.image,\r\n//     }\r\n//     this.currentSprite = this.sprites.idle;\r\n//     this.type = 'bullet';\r\n//   }\r\n\r\n// draw() {\r\n//   // c.clearRect(this.position.x, this.position.y, this.width, this.height);\r\n//   console.log('Shoot!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!')\r\n//   c.fillStyle = 'black';\r\n//   c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n//   //c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height) // 48, 0, 48, 48 - player sprite crop (x, y, w, h) // 36 размер кадра в спрайте\r\n// }\r\n// update() {\r\n//   this.frames++;\r\n//   if (this.frames > this.frequency) this.frames = 0;\r\n//   this.position.x += this.velocity.x;\r\n//   console.log(this.position.x)\r\n//   //this.draw();\r\n// }\r\n// }\r\n\r\n// let bullet;\r\n\r\n// class Flamethrower extends PlatformSpikes {\r\n  \r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'flamethrower';\r\n//     this.frequency = 79;\r\n//     this.bullets = [];\r\n//   }\r\n//   shoot() {\r\n//     //this.update();\r\n//     setInterval(() => this.bullets.push(new Bullet(this.left, this.right, this.width, this.height, this.type, saw)), 1000);\r\n//     //this.bullets.forEach((bullet) => bullet.update());\r\n//   }\r\n// }\r\n\r\n\r\n// class FlamethrowerLeft extends Flamethrower {\r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'flamethrowerLeft';\r\n//   }\r\n// }\r\n\r\n// class FlamethrowerRight extends Flamethrower {\r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'flamethrowerRight';\r\n//   }\r\n// }\r\n\r\n// class FlamethrowerVertical extends Flamethrower {\r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'flamethrowerVertical';\r\n//   }\r\n// }\r\n\r\n// class FlamethrowerUp extends Flamethrower {\r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'flamethrowerUp';\r\n//   }\r\n// }\r\n\r\n// class FlamethrowerDown extends Flamethrower {\r\n//   constructor(posX, posY, image) {\r\n//     super(posX, posY, image);\r\n//     this.type = 'flamethrowerDown';\r\n//   }\r\n// }\r\n\r\n// export {\r\n//   PlatformSpikes,\r\n//   Saw,\r\n//   FlamethrowerLeft,\r\n//   FlamethrowerRight,\r\n//   FlamethrowerVertical,\r\n// }\r\n","const audio = {\r\n  isCanPlay: new Audio(),\r\n  blockHit: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/block_hit.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/block_hit.ogg'),\r\n    volume: 1,\r\n  },\r\n  bottomHit: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/bottom_hit.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/bottom_hit.ogg'),\r\n    volume: 1,\r\n  },\r\n  choose: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/choose.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/choose.ogg'),\r\n    volume: 1,\r\n  },\r\n  explosionBlock: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/explosion_block.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/explosion_block.ogg'),\r\n    volume: 1,\r\n  },\r\n  fallingInDepth: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/falling_in_depth.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/falling_in_depth.ogg'),\r\n    volume: 1,\r\n  },\r\n  fallingInDepth2: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/falling_in_depth_2.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/falling_in_depth_2.ogg'),\r\n    volume: 1,\r\n  },\r\n  fire: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/fire.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/fire.ogg'),\r\n    volume: 1,\r\n  },\r\n  heroDeath: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/hero_death.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/hero_death.ogg'),\r\n    volume: 1,\r\n  },\r\n  jump: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/jump.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/jump.ogg'),\r\n    volume: 1,\r\n  },\r\n  jumpOnSpaceToggledPlatform: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/jump_on_space_toggled_platform.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/jump_on_space_toggled_platform.ogg'),\r\n    volume: 0.5,\r\n  },\r\n  nextLevel: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/next_level.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/next_level.ogg'),\r\n    volume: 1,\r\n  },\r\n  ok: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/ok.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/ok.ogg'),\r\n    volume: 1,\r\n  },\r\n  select: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/select.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/select.ogg'),\r\n    volume: 1,\r\n  },\r\n  teleport: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/teleport.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/teleport.ogg'),\r\n    volume: 1,\r\n  },\r\n  toggle: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/toggle.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/toggle.ogg'),\r\n    volume: 1,\r\n  },\r\n  toggleDisabled: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/toggle_disabled.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/toggle_disabled.ogg'),\r\n    volume: 1,\r\n  },\r\n  error: {\r\n    src_MP3: new Audio('./../../assets/sounds/effects/mp3/error.mp3'),\r\n    src_OGG: new Audio('./../../assets/sounds/effects/ogg/error.ogg'),\r\n    volume: 1,\r\n}\r\n}\r\n\r\nlet source = null;\r\n // Choose supported source and preload\r\n;(function() {\r\n  if (audio.isCanPlay.canPlayType('audio/mpeg') === 'probably') {\r\n    source = 'src_MP3';\r\n    } else {\r\n      source = 'src_OGG';\r\n    }\r\n  for (let sound in audio) {\r\n    if (sound != 'isCanPlay') {\r\n      let { src_MP3: mp3, src_OGG: ogg } = audio[sound];\r\n        mp3.play();\r\n        mp3.pause();\r\n        ogg.play();\r\n        ogg.pause();\r\n      }\r\n    }\r\n})();\r\nlet counter = 0\r\nfunction gameSoundEffects(item) {\r\n  item[source].currentTime = 0;\r\n  item[source].volume = item.volume;\r\n  item[source].play();\r\n}\r\n\r\n\r\n// function gameSoundEffects(item) {\r\n//   if (audio.isCanPlay.canPlayType('audio/ogg') === 'probably') {\r\n//     item.src_OGG.currentTime = 0;\r\n//     item.src_OGG.play();\r\n//   } else {\r\n//     item.src_MP3.currentTime = 0;\r\n//     item.src_MP3.play();\r\n//   }\r\n// }\r\n\r\n\r\n \r\n// function gameSoundEffects(item) {\r\n//   if (audio.sound.canPlayType(\"audio/mpeg\")==\"probably\") {\r\n//     audio.sound.src= item.src_MP3;\r\n//   } else {\r\n//     audio.sound.src= item.src_OGG;\r\n//   }\r\n//   audio.sound.currentTime = 0;\r\n//   audio.sound.play();\r\n// }\r\n\r\n\r\n// function gameSoundEffects(item) {\r\n//   item.currentTime = 0;\r\n//   item.play();\r\n// }\r\n\r\n// For music\r\n// let isPlayed = false;\r\n// function gameSoundEffects(item) {\r\n//   if(!isPlayed)\r\n//   item.currentTime = 0;\r\n//   item.play();\r\n//   isPlayed = true;\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport { audio, gameSoundEffects }","// Platforms:\r\n    // sl - platform Solid\r\n    // dz - platform One\r\n    // 2p - platform Two\r\n    // 3p - platform Three\r\n    // ja - platform Jump-Toggle (active)\r\n    // jd - platform Jump-Toggle (disabled)\r\n    // 1s - platform One-Step\r\n// Traps:\r\n    // sw - Saw trap\r\n    // sk - Spikes trap\r\n    // fl - Flamethrower (left)\r\n    // fr - Flamethrower (right)\r\n    // fu - Flamethrower (up)\r\n    // fd - Flamethrower (down)\r\n    // dz - Dead signal zone\r\n// Decorations:\r\n    // 1b - Frame brick 1\r\n    // 2b - Frame block 2\r\n    // fn - Fan\r\n// Empty:\r\n    // ee - Empty block\r\n// Player:\r\n    // st - Start point\r\n    // fp - Finish point\r\n\r\nexport const collisionsLevel_1 = [\r\n  [\"sl\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\"],\r\n  [\"dz\", \"sl\", \"sl\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"st\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"1s\", \"ja\", \"ee\", \"2p\", \"1p\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"2p\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"jp\", \"sw\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"1s\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"1s\", \"ee\", \"1s\", \"1p\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"dz\", \"ee\", \"ee\", \"3p\", \"2p\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"ee\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"3p\", \"ee\", \"2p\", \"ee\", \"sk\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"dz\", \"dz\", \"dz\", \"ee\", \"ee\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n  [\"ee\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"ee\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n [\"sl\", \"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"dz\", \"dz\", \"dz\", \"sl\", \"sl\", \"sl\", \"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\"],\r\n];\r\n\r\n\r\nconst data = {\r\n    \"player\": {\r\n        \"x\": 200,\r\n        \"y\": 300,\r\n    },\r\n    \"map\": [\r\n        [\"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\"],\r\n        [\"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\"],\r\n        [\"sl\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"sl\"],\r\n        [\"sl\", \"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"ee\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"dz\", \"sl\"],\r\n        [\"sl\", \"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"sl\", \"dz\", \"sl\"],\r\n        [\"sl\", \"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"ee\", \"1s\", \"ja\", \"ee\", \"2p\", \"1p\", \"sl\", \"dz\", \"sl\"],\r\n        [\"sl\", \"dz\", \"sl\", \"sl\", \"2p\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"jp\", \"sw\", \"dz\", \"sl\"],\r\n        [\"sl\", \"dz\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"dz\", \"sl\"],\r\n        [\"sl\", \"ee\", \"sl\", \"sl\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"1s\", \"ee\", \"dz\", \"sl\"],\r\n        [\"sl\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"1s\", \"sl\", \"1s\", \"1p\", \"ee\", \"dz\", \"sl\"],\r\n        [\"sl\", \"dz\", \"sl\", \"ee\", \"ee\", \"dz\", \"ee\", \"ee\", \"3p\", \"2p\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\", \"ee\"],\r\n        [\"ee\", \"sl\", \"ee\", \"dz\", \"ee\", \"ee\", \"ee\", \"ee\", \"3p\", \"ee\", \"2p\", \"ee\", \"sk\", \"ee\", \"ee\", \"ee\"],\r\n        [\"ee\", \"dz\", \"ee\", \"sl\", \"sl\", \"ee\", \"ee\", \"ee\", \"dz\", \"dz\", \"dz\", \"sl\", \"sl\", \"sl\", \"dz\", \"ee\"],\r\n        [\"sl\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"ee\", \"dz\", \"dz\", \"dz\", \"dz\", \"dz\", \"sl\", \"dz\", \"sl\"],\r\n        [\"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"1s\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\"],\r\n        [\"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"ee\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\", \"sl\"]\r\n      ],\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/index.js\");\nvar __webpack_exports__ = __webpack_require__(\"./src/sass/styles.scss\");\n",""],"names":["CollisionBlock","platforms","parsedCollisions","canvas","c","createImage","Sprite","Player","bulletController","audio","gameSoundEffects","Platform","OneStep","Fan","JumpToggleActive","JumpToggleDisabled","PlatformOne","PlatformTwo","PlatformThree","DeadSignal","PlatformSpikes","Saw","FlamethrowerLeft","FlamethrowerRight","FlamethrowerUp","FlamethrowerDown","BulletController","Flamethrower","platformImgSrc300","heroIdleR","heroIdleL","heroRunR","heroRunL","heroJumpR","heroJumpL","heroFallR","heroFallL","heroDeath","backgroundImg","platformSolid","platformOneStep","platformOneStepExplosion","platformJump","platformJumpDisabled","platformOne","platformTwo","platformThree","platformOneDisabled","platformTwoDisabled","platformThreeDisabled","saw","fan","spike","deadSignalZone","deadSignalZoneHover","flamethrowerLeft","flamethrowerRight","flamethrowerUp","flamethrowerDown","keys","keyDownHandler","keyUpHandler","AdditionalElements","width","document","documentElement","clientWidth","height","clientHeight","requestAnim","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","addEventListener","e","fullScreen","element","code","requestFullscreen","webkitrequestFullscreen","webkitRequestFullscreen","mozRequestFullscreen","mozRequestFullScreen","leftNeighboorBlockFromHeroArr","timerShoot_1","timerShoot_2","leftNeighboorBlockFromHero","additionalElements","collisionsLevel_1","console","log","player","forEach","row","index_Y","cell","index_X","platform","type","soundFire","delay","fire","init","velocity","y","alive","spaceToggleCounter","restore","animate","fillStyle","fillRect","draw","update","toggle","collision","shoot","filter","left","top","bottom","length","right","pressed","position","x","jumpHeight","gravity","lastPressed","currentSprite","sprites","idle","fallingInDepth2","jumpToggleActive","clientX","clientY","fireballUp","fireballDown","fireballLeft","fireballRight","constructor","posX","posY","image","drawImage","getElementById","getContext","Brick_1","Brick_2","_ref","push","src","Image","imageSrc","onload","loaded","sawTrap","sawTrap2","jump","up","space","isJumped","repeat","run","fall","frames","frequency","statusActive","value","getType","collisionAbove","jumpOnSpaceToggledPlatform","collisionUnder","bottomHit","collisionLeftSide","collisionRightSide","undefined","disabled","temporaryPosX","hits","explosion","destroy","explosionBlock","SpaceToggledPlatform","setCount","checkSpaceToggleCounter","some","block","hover","toggleDisabled","intersection","death","die","checkCollisionsAxes_X","i","Math","abs","checkCollisionsAxes_Y","setGravity","bulletFlight","bulletSpeed","caliber","bullet_X","bullet_Y","bullets","timerTillNextBullet","flight_X","flight_Y","directionFlametrowerType","Bullet","bullet","isBulletOffScreen","index","indexOf","splice","collisionWithBlocks","collideWith","sprite","down","isCanPlay","Audio","blockHit","src_MP3","src_OGG","volume","choose","fallingInDepth","nextLevel","ok","select","teleport","error","source","canPlayType","sound","mp3","ogg","play","pause","counter","item","currentTime","data"],"sourceRoot":""}