{"version":3,"file":"script.js","mappings":"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","sources":["webpack://platform_traveller/./src/index.js","webpack://platform_traveller/./src/js/AdditionalElements.js","webpack://platform_traveller/./src/js/Assets.js","webpack://platform_traveller/./src/js/Canvas.js","webpack://platform_traveller/./src/js/CreateImage.js","webpack://platform_traveller/./src/js/Keys.js","webpack://platform_traveller/./src/js/Platform.js","webpack://platform_traveller/./src/js/Player.js","webpack://platform_traveller/./src/sass/styles.scss","webpack://platform_traveller/webpack/bootstrap","webpack://platform_traveller/webpack/runtime/define property getters","webpack://platform_traveller/webpack/runtime/hasOwnProperty shorthand","webpack://platform_traveller/webpack/runtime/make namespace object","webpack://platform_traveller/webpack/before-startup","webpack://platform_traveller/webpack/startup","webpack://platform_traveller/webpack/after-startup"],"sourcesContent":["// import './sass/styles.scss';\r\n\r\n// imagePlatform.onload = function getSizes () {\r\n//   imagePlatform.width = imagePlatform.naturalWidth;\r\n//   imagePlatform.height = imagePlatform.naturalHeight;\r\n//}\r\nimport { canvas, c, gravity } from './js/Canvas';\r\nimport { createImage } from './js/CreateImage';\r\nimport { Player } from './js/Player';\r\nimport { Platform,\r\n          PlatformSpikes,\r\n          Saw,\r\n          OneStep,\r\n          Fan,\r\n          JumpToggle,\r\n          PlatformOne,\r\n          PlatformTwo,\r\n          PlatformThree,\r\n        } from './js/Platform';\r\nimport { platformImgSrc300,\r\n          heroIdleR,\r\n          heroIdleL,\r\n          heroRunR,\r\n          heroRunL,\r\n          heroJumpR,\r\n          heroJumpL,\r\n          heroFallR,\r\n          heroFallL,\r\n          heroDeath,\r\n          backgroundImg,\r\n          platformSolid,\r\n          platformOneStep,\r\n          platformOneStepExplosion,\r\n          platformJump,\r\n          platformJumpDisabled,\r\n          platformOne,\r\n          platformTwo,\r\n          platformThree,\r\n          platformOneDisabled,\r\n          platformTwoDisabled,\r\n          platformThreeDisabled,\r\n          saw,\r\n          fan,\r\n          spike,\r\n        } from './js/Assets';\r\nimport { keys, keyDownHandler, keyUpHandler } from './js/Keys';\r\nimport { AdditionalElements } from './js/AdditionalElements';\r\n// import { init } from './js/Init';\r\n\r\n\r\n\r\ncanvas.width = 1024 // 1280 //window.innerWidth; // canvas.width = innerWidth;\r\ncanvas.height = 576 // 720 //window.innerHeight;\r\n\r\n\r\n\r\n\r\n\r\nexport let additionalElements = [\r\n  new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n]\r\n\r\n\r\nexport let platforms = [new Platform(210, 525, createImage(platformSolid, 36, 36)),\r\n                new Platform(330, 455, createImage(platformSolid, 36, 36)),\r\n                new Platform(250, 400, createImage(platformSolid, 36, 36)),\r\n                new Platform(400, 100, createImage(platformSolid, 36, 36))]; // создаем платформы\r\n\r\nexport let player = new Player();\r\n\r\n              let spikes = new PlatformSpikes(150, 205, createImage(spike, 36, 36))\r\n              // let sawTrap = new Saw(400, 415, createImage(saw, 36, 36))\r\n              export let sawTrap = new Saw(360, 315, createImage(saw, 36, 36))\r\n    export let sawTrap2 = new OneStep(400, 455, createImage(platformOneStep, 36, 36))\r\n              export let jump = new JumpToggle(100, 355, createImage(platformOne, 36, 36))\r\n\r\n\r\nexport function init() {\r\n  player.velocity.y = 1; \r\n  keys.spaceToggleCounter = 1;\r\n  additionalElements = [new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n];\r\n\r\n  platforms = [new Platform(210, 455, createImage(platformSolid, 36, 36)),\r\n          new Platform(265, 420, createImage(platformSolid, 36, 36)),\r\n              new Platform(302, 455, createImage(platformSolid, 36, 36)),\r\n              new Platform(170, 455, createImage(platformSolid, 36, 36)),\r\n              new Platform(200, 280, createImage(platformSolid, 36, 36)),\r\n              new Platform(370, 200, createImage(platformSolid, 36, 36)),\r\n              //265 204\r\n          new PlatformTwo(160, 244, createImage(platformSolid, 36, 36)),\r\n          new PlatformTwo(266, 383, createImage(platformSolid, 36, 36)),\r\n              new PlatformOne(570, 200, createImage(platformSolid, 36, 36)),\r\n              new PlatformThree(670, 200, createImage(platformSolid, 36, 36)),\r\n              new Platform(472, 455, createImage(platformSolid, 36, 36)),\r\n              new Platform(436, 455, createImage(platformSolid, 36, 36)), \r\n    spikes, sawTrap, sawTrap2, jump      ]; // создаем платформы !!!!!!!!!!!!!\r\n  player = new Player();\r\n}                      \r\n\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  //c.clearRect(0, 0, canvas.width, canvas.height);\r\n  c.fillStyle = ('white');\r\n  c.fillRect(0, 0, canvas.width, canvas.height);\r\n  console.log('animation counter');\r\n\r\n  additionalElements.forEach(element => element.draw());\r\n\r\n // !!!!!!!!!! переделать под обработку массива если у element есть element.type === 'jumpToggle'                      \r\njump.toggle()                    \r\n\r\n  platforms.forEach(platform => platform.update()); // рисуем платформы\r\n  player.update();\r\n\r\n\r\n  if (keys.right.pressed && (player.position.x + player.width) <= canvas.width) { // упор персонажа в правый край экрана\r\n    player.velocity.x = 2;\r\n  } else if (keys.left.pressed && player.position.x >= 0) { // упор персонажа в левый край экрана\r\n    player.velocity.x = -2;\r\n  } else {\r\n    player.velocity.x = 0;\r\n  }\r\n\r\n  \r\n  platforms.forEach(platform => {\r\n    platform.collision();\r\n    // // Player - platform collision (player is above the platform)\r\n    // if (player.position.y + player.height <= platform.position.y &&\r\n    //     player.position.y + player.height + player.velocity.y >= platform.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n    //     // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n    //     player.position.x + player.width >= platform.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n    //     player.position.x <= platform.position.x + platform.width - player.width / 3) { \r\n    //       player.velocity.y = 0; // если касается земли\r\n    // }\r\n    // // Player - platform collision (player is under the platform)\r\n    // if (player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.y + player.height + player.velocity.y >= platform.position.y &&\r\n    //     player.position.x >= platform.position.x - player.width / 2 && // можно сделать 1.75\r\n    //     player.position.x + player.width <= platform.position.x + platform.width + player.width / 2) {\r\n    //       player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\r\n    // }\r\n    // // Player - platform collision (player is left from the platform and moves right)\r\n    // if (keys.right.pressed &&\r\n    //     player.position.y + player.height >= platform.position.y && \r\n    //     player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.x + player.width >= platform.position.x) {\r\n    //       player.velocity.x = 0;\r\n    //       console.log('hit!');\r\n    // } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\r\n    //   if (keys.right.pressed &&\r\n    //     player.position.y + player.height >= platform.position.y && \r\n    //     player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.x + player.width >= platform.position.x + platform.width) {\r\n    //       player.velocity.x = 2;\r\n    //       console.log('free!');\r\n    //   }\r\n    // // Player - platform collision (player is right from the platform and moves left)\r\n    // if (keys.left.pressed &&\r\n    //   player.position.y + player.height >= platform.position.y && \r\n    //   player.position.y <= platform.position.y + platform.height &&\r\n    //   player.position.x <= platform.position.x + platform.width) {\r\n    //     player.velocity.x = 0;\r\n    //     console.log('hit!');\r\n    // } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\r\n    //   if (keys.left.pressed &&\r\n    //     player.position.y + player.height >= platform.position.y && \r\n    //     player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.x + player.width <= platform.position.x) { // или \"-\" player.width ???\r\n    //       player.velocity.x = -2;\r\n    //       console.log('free!');\r\n    //   }\r\n  })\r\n        \r\n        \r\nif (player.velocity.y === 10 && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'right') { // 10 - когда персонаж на земле\r\n  player.currentSprite = player.sprites.idle.right;\r\n} else if (player.velocity.y === 10 && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'left') { // 10 - когда персонаж на земле\r\n  player.currentSprite = player.sprites.idle.left;\r\n}\r\n\r\n\r\n    // Падение в пропасть (см. комментарии в player.update())\r\n      if (player.position.y > canvas.height) {\r\n// sawTrap.restore();\r\nsawTrap2.restore();\r\nkeys.jumpToggleActive = !keys.jumpToggleActive;\r\n        init();\r\n        console.log('you lose')\r\n\r\n        // сюда вставить звук проигрыша\r\n      }\r\n\r\n\r\n}\r\ninit();\r\nanimate();\r\n\r\nwindow.addEventListener('keydown', keyDownHandler);\r\nwindow.addEventListener('keyup', keyUpHandler);\r\n\r\n\r\n\r\nwindow.addEventListener('click', (e) => {\r\n  console.log(e.clientX, e.clientY)\r\n  //  debugger\r\n})","import { canvas, c, gravity } from './Canvas';\r\n\r\nexport class AdditionalElements {\r\n  constructor (posX, posY, image) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY\r\n    }\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;   \r\n  }\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y)\r\n    // c.fillStyle = ('green');\r\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n}","const platformImgSrc300 = '../assets/img/Platforms/platform.png';\r\nconst heroIdleR = '../assets/img/Hero/Idle_right.png';\r\nconst heroIdleL = '../assets/img/Hero/Idle_left.png';\r\nconst heroRunR = '../assets/img/Hero/Run_right.png';\r\nconst heroRunL = '../assets/img/Hero/Run_left.png';\r\nconst heroJumpR = '../assets/img/Hero/Jump_right.png';\r\nconst heroJumpL = '../assets/img/Hero/Jump_left.png';\r\nconst heroFallR = '../assets/img/Hero/Fall_right.png';\r\nconst heroFallL = '../assets/img/Hero/Fall_left.png';\r\nconst heroDeath = '../assets/img/Hero/Player_death.png';\r\nconst backgroundImg = '../assets/img/Background_images/bg_2.jpg';\r\nconst platformSolid = '../assets/img/Platforms/Platform_solid.png';\r\nconst platformOneStep = '../assets/img/Platforms/Platform_oneStep.png';\r\nconst platformOneStepExplosion = '../assets/img/Platforms/Platform_oneStep_Explosion.png';\r\nconst platformJump = '../assets/img/Platforms/Platform_jump.png';\r\nconst platformJumpDisabled = '../assets/img/Platforms/Platform_jump_disabled.png';\r\nconst platformOne = '../assets/img/Platforms/Platform_one.png';\r\nconst platformTwo = '../assets/img/Platforms/Platform_two.png';\r\nconst platformThree = '../assets/img/Platforms/Platform_three.png';\r\nconst platformOneDisabled = '../assets/img/Platforms/Platform_one_disabled.png';\r\nconst platformTwoDisabled = '../assets/img/Platforms/Platform_two_disabled.png';\r\nconst platformThreeDisabled = '../assets/img/Platforms/Platform_three_disabled.png';\r\nconst saw = '../assets/img/Traps/Saw.png';\r\nconst fan = '../assets/img/Traps/Fan.png';\r\nconst spike = '../assets/img/Traps/Platform_spikes.png';\r\n\r\n\r\n// import platformImgSrc300 from '/assets/img/platform.png';\r\n// import heroIdleR from '/assets/img/Idle_right.png';\r\n// import heroIdleL from '/assets/img/Idle_left.png';\r\n// import heroRunR from '/assets/img/Run_right.png';\r\n// import heroRunL from '/assets/img/Run_left.png';\r\n// import heroJumpR from '/assets/img/Jump_right.png';\r\n// import heroJumpL from '/assets/img/Jump_left.png';\r\n// import heroFallR from '/assets/img/Fall_right.png';\r\n// import heroFallL from '/assets/img/Fall_left.png';\r\n// import backgroundImg from '/assets/img/bg_2.jpg';\r\n\r\nexport { platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        heroDeath,\r\n        backgroundImg,\r\n        platformSolid,\r\n        platformOneStep,\r\n        platformOneStepExplosion,\r\n        platformJump,\r\n        platformJumpDisabled,\r\n        platformOne,\r\n        platformTwo,\r\n        platformThree,\r\n        platformOneDisabled,\r\n        platformTwoDisabled,\r\n        platformThreeDisabled,\r\n        saw,\r\n        fan,\r\n        spike,\r\n      }","const canvas = document.getElementById('canvas');\r\nconst c = canvas.getContext(\"2d\");\r\nconst gravity = 0.25;\r\n\r\nexport { canvas, c, gravity }","export function createImage(src, width, height) {\r\n  const image = new Image();\r\n  image.src = src;\r\n  image.width = width;\r\n  image.height = height;\r\n  return image;\r\n}","import { player } from '../index';\r\nimport { platforms } from '../index';\r\nimport { sawTrap, sawTrap2 } from '../index';\r\nimport { jump } from '../index';\r\n\r\nconst keys = {\r\n  right: {\r\n    pressed: false\r\n  },\r\n  left: {\r\n    pressed: false\r\n  },\r\n  up: {\r\n    pressed: false\r\n  },\r\n  lastPressed: 'right',\r\n  jumpToggleActive: true,\r\n  spaceToggleCounter: 1, // Platform One type is active\r\n  deadSignalZone: false,\r\n};\r\n                                                // let hiddenPlatformsArr = []\r\nconst keyDownHandler = (e) => {\r\n  console.log(e.code)\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp':\r\n        if (player.velocity.y === 0) {\r\n          keys.jumpToggleActive ? keys.jumpToggleActive = false : keys.jumpToggleActive = true;\r\n        }\r\n        keys.up.pressed = true;\r\n        if (player.velocity.y === 0 && keys.lastPressed === 'right') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= 10;\r\n          player.currentSprite = player.sprites.jump.right;\r\n        } else if (player.velocity.y === 0 && keys.lastPressed === 'left') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= 10;\r\n          player.currentSprite = player.sprites.jump.left;\r\n        }\r\n        break;\r\n\r\n      case 'Space': {\r\n        !keys.deadSignalZone && keys.spaceToggleCounter++;\r\n        // arr = [...arr, ...platforms.splice(1,1)];\r\n        // console.log(arr)\r\n      }\r\n        break;\r\n\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = true;\r\n        keys.lastPressed = 'right';\r\n        player.currentSprite = player.sprites.run.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = true;\r\n        keys.lastPressed = 'left';\r\n        player.currentSprite = player.sprites.run.left;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nconst keyUpHandler = (e) => {\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp': \r\n        // player.velocity.y = 0;\r\n        keys.up.pressed = false;\r\n        // keys.up.pressed = true;\r\n        if (player.velocity.y !== 0 && keys.lastPressed === 'right') {\r\n          player.currentSprite = player.sprites.fall.right;\r\n        } else if (player.velocity.y !== 0 && keys.lastPressed === 'left') {\r\n          player.currentSprite = player.sprites.fall.left;\r\n        }\r\n        break;\r\n      // case 'ArrowDown': player.velocity.y = 0\r\n      //   break;\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = false;\r\n        player.currentSprite = player.sprites.idle.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = false;\r\n        player.currentSprite = player.sprites.idle.left;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nexport { keys, keyDownHandler, keyUpHandler };","import { canvas, c, gravity } from './Canvas';\r\nimport { createImage } from './CreateImage';\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n      } from './Assets';\r\nimport { keys } from './Keys';\r\nimport { player } from '../index';\r\nimport { init } from '../index';\r\n\r\nclass Platform {\r\n  constructor (posX, posY, image) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY\r\n    }\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;\r\n    this.frames = 0;\r\n    this.frequency = 28;\r\n    this.sprites = {\r\n      idle: this.image,\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.type = 'solid';\r\n  }\r\n  getType() {\r\n    return this.type;\r\n  }\r\n  draw() {\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height) // 48, 0, 48, 48 - player sprite crop (x, y, w, h) // 36 размер кадра в спрайте\r\n  }\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    this.draw();\r\n  }\r\n  collisionAbove() {\r\n  // Player - platform collision (player is above the platform)\r\n    if (player.position.y + player.height <= this.position.y &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.position.x + player.width - player.width / 4 >= this.position.x  && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n      player.position.x <= this.position.x + this.width - player.width / 4) { \r\n        player.velocity.y = 0; // если касается земли\r\n    }\r\n  }\r\n  collisionUnder() {\r\n  // Player - platform collision (player is under the platform)\r\n    if (player.position.y - player.velocity.y * 0.5 <= this.position.y + this.height &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n      player.position.x >= this.position.x - player.width / 1.25 && // можно сделать 1.75\r\n      player.position.x + player.width <= this.position.x + this.width + player.width / 1.25) {\r\n        player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\r\n      }\r\n  }\r\n  collisionLeftSide() {\r\n  // Player - platform collision (player is left from the platform and moves right)\r\n    if (keys.right.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x + player.width >= this.position.x) {\r\n        player.velocity.x = 0;\r\n        console.log('hit!');\r\n    } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\r\n    if (keys.right.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x + player.width >= this.position.x + this.width) {\r\n        player.velocity.x = 2;\r\n        console.log('free!');\r\n    }\r\n  }\r\n  collisionRightSide() {\r\n  // Player - platform collision (player is right from the platform and moves left)\r\n  if (keys.left.pressed &&\r\n    player.position.y + player.height >= this.position.y && \r\n    player.position.y <= this.position.y + this.height &&\r\n    player.position.x <= this.position.x + this.width) {\r\n      player.velocity.x = 0;\r\n      console.log('hit!');\r\n  } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\r\n    if (keys.left.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x /* + player.width */ <= this.position.x) { // или \"-\" player.width ???\r\n        player.velocity.x = -2;\r\n        console.log('free!');\r\n    }\r\n  }\r\n  collision() { // разбито на отдельные методы, для частичного наследования (если понадобится)\r\n    this.collisionAbove();\r\n    this.collisionUnder();\r\n    this.collisionLeftSide();\r\n    this.collisionRightSide();\r\n\r\n\r\n\r\n\r\n  //       // Player - platform collision (player is above the platform)\r\n  // if (player.position.y >= this.position.y &&\r\n  //   player.position.y + player.height <= this.position.y + this.height + player.velocity.y  && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n  //   // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n  //   player.position.x >= this.position.x  && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n  //   player.position.x <= this.position.x + this.width) { \r\n  //     //player.velocity.y = 0; // если касается земли\r\n  //     keys.deadSignalZone = true;\r\n  //     console.log(keys.deadSignalZone)\r\n  //     console.log('!!!!!!!!!!')\r\n  //     //debugger\r\n  // } else keys.deadSignalZone = false;\r\n  // console.log(keys.deadSignalZone)\r\n\r\n    \r\n  }\r\n}\r\n\r\n\r\nclass PlatformSpikes extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'spikes';\r\n  }\r\n  // collision() {\r\n  //   // Player - platform collision (player is above the spike platform)\r\n  //     if (player.position.y + player.height <= this.position.y &&\r\n  //     player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n  //     // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n  //     player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n  //     player.position.x <= this.position.x + this.width - player.width / 3) { \r\n  //       init();\r\n  //     }\r\n  //     // Player - platform collision (player is under the platform)\r\n  //     if (player.position.y <= this.position.y + this.height &&\r\n  //       player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n  //       player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n  //       player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n  //       init();\r\n  //     }\r\n  // }\r\n\r\n  collision() {\r\n    // Player - platform collision (player is above the spike platform)\r\n      if (player.position.y + player.height <= this.position.y &&\r\n        player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n        // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n        player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n        player.position.x <= this.position.x + this.width - player.width / 3) { \r\n        player.die();\r\n      }\r\n      // Player - platform collision (player is under the platform)\r\n      if (player.position.y <= this.position.y + this.height &&\r\n        player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n        player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n        player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n          player.die();\r\n      }\r\n  }\r\n}\r\n\r\nclass Saw extends PlatformSpikes {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'saw';\r\n    this.frequency = 23;\r\n  }\r\n}\r\n\r\nclass Fan extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'fan';\r\n    this.sprites = {\r\n      idle: createImage(fan, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 23;\r\n  }\r\n}\r\n\r\nclass JumpToggle extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'jumpToggle';\r\n    this.sprites = {\r\n      idle: createImage(platformJump, 36, 36),\r\n      disabled: createImage(platformJumpDisabled, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 63;\r\n  }\r\n  toggle() {\r\n    keys.jumpToggleActive === true ? this.currentSprite = this.sprites.idle : this.currentSprite = this.sprites.disabled;\r\n  }\r\n  collision() {\r\n    if (keys.jumpToggleActive) {\r\n      super.collision();\r\n    }\r\n  }\r\n}\r\n\r\nclass OneStep extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.temporaryPosX = posX;\r\n    this.hits = 0;\r\n    this.sprites = {\r\n      idle: createImage(platformOneStep, 36, 36),\r\n      explosion: createImage(platformOneStepExplosion, 36, 36),\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.frequency = 28;\r\n    this.type = 'oneStep';\r\n  }\r\n  destroy() {\r\n    this.currentSprite = this.sprites.explosion;\r\n    setTimeout(() => {\r\n      this.position.x = -9999;\r\n      this.currentSprite = this.sprites.idle;\r\n  }, 550);\r\n    this.hits = 0;\r\n  } \r\n  restore() {\r\n    this.position.x = this.temporaryPosX;\r\n  }\r\n  collision() {\r\n  // Player - platform collision (player is above the platform)\r\n    // And moves right and leaves the platform\r\n    if ((!keys.up.pressed && player.velocity.y === 0 || !keys.up.pressed && player.velocity.y === gravity) &&\r\n        player.position.y + player.height <= this.position.y &&\r\n        player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n        (player.position.x + player.width * 2 >= this.position.x &&\r\n        player.position.x <= this.position.x + this.width)) {\r\n          this.destroy(); \r\n    }\r\n  // Не нужен но надо оставить, иначе блок пропадает сразу же\r\n    if (keys.up.pressed && player.velocity.y != 0 &&\r\n    player.position.y + player.height <= this.position.y &&\r\n    player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n    // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n    player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n    player.position.x <= this.position.x + this.width - player.width / 3) { \r\n      player.velocity.y = 0; // если касается земли\r\n      this.destroy();\r\n    } else if (!keys.up.pressed &&\r\n      player.position.y + player.height <= this.position.y &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n      player.position.x <= this.position.x + this.width - player.width / 3) { \r\n        player.velocity.y = 0; // если касается земли\r\n    }\r\n    // Player - platform collision (player is under the platform)\r\n    if (player.position.y <= this.position.y + this.height &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n      player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n      player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n        player.velocity.y = 1;\r\n        this.destroy();\r\n    }\r\n    // Player - platform collision (player is left from the platform)\r\n    if (keys.right.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x + player.width >= this.position.x &&\r\n      !(player.position.x >= this.position.x)) { // player is left from the platform and moves right\r\n        this.hits++;\r\n        keys.right.pressed = false;\r\n        player.currentSprite = player.sprites.fall.right;\r\n        player.velocity.x -= 15;\r\n        this.hits === 1 && this.destroy();\r\n    }\r\n    // Player - platform collision (player is right from the platform)\r\n    if (keys.left.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x <= this.position.x + this.width &&\r\n      !(player.position.x + player.width <= this.position.x)) { // player is right from the platform and moves left\r\n        this.hits++;\r\n        keys.left.pressed = false;\r\n        player.currentSprite = player.sprites.fall.left;\r\n        player.velocity.x += 15;\r\n        this.hits === 1 && this.destroy();\r\n    }\r\n  }\r\n}\r\n\r\nclass SpaceToggledPlatform extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'toggledBySpacePlatform';\r\n    // this.sprites = {\r\n    //   idle: createImage(platformOne, 36, 36),\r\n    //   disabled: createImage(platformOneDisabled, 36, 36),\r\n    // }\r\n    // this.currentSprite = this.sprites.idle;\r\n    this.frequency = 63;\r\n    this.setCount = 1;\r\n  }\r\n  checkSpaceToggleCounter() {\r\n   keys.spaceToggleCounter >= 4 ? keys.spaceToggleCounter =  1 : keys.spaceToggleCounter; \r\n  }\r\n  collision() {\r\n    if (keys.spaceToggleCounter === this.setCount) {\r\n      this.currentSprite = this.sprites.idle;\r\n      super.collision();\r\n      this.checkSpaceToggleCounter();\r\n    } else {\r\n      this.currentSprite = this.sprites.disabled;\r\n      this.checkSpaceToggleCounter();\r\n\r\n\r\n\r\n  // Player - platform collision (player is above the platform)\r\n  if (player.position.y + player.height * 0.75 >= this.position.y &&\r\n    player.position.y + player.height * 0.5 <= this.position.y + this.height && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n    // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n    player.position.x + player.width * 0.25 >= this.position.x && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n    player.position.x + player.width * 0.25 <= this.position.x + this.width) { \r\n      //player.velocity.y = 0; // если касается земли\r\nkeys.deadSignalZone = true;\r\nconsole.log(keys.deadSignalZone)\r\nconsole.log('inside')\r\n     // debugger\r\n  }\r\n  \r\n  \r\n  else if (((player.position.y + player.height * 0.75 <= this.position.y || \r\n    player.position.y + player.height * 0.5 >= this.position.y + this.height) && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n    // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n    player.position.x + player.width * 0.25 >= this.position.x && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n    player.position.x + player.width * 0.25 <= this.position.x + this.width) ||\r\n    (player.position.y + player.height * 0.75 >= this.position.y &&  \r\n      player.position.y + player.height * 0.5 <= this.position.y + this.height) || // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      (player.position.x + player.width * 0.25 <= this.position.x && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n      player.position.x + player.width * 0.25 >= this.position.x + this.width)) { \r\nconsole.log('outside')   \r\nkeys.deadSignalZone = false;\r\n//debugger\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  \r\n}\r\n\r\nclass PlatformOne extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'platformOne';\r\n    this.setCount = 1;\r\n    this.sprites = {\r\n      idle: createImage(platformOne, 36, 36),\r\n      disabled: createImage(platformOneDisabled, 36, 36),\r\n    }\r\n  }\r\n  \r\n}\r\n\r\nclass PlatformTwo extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'platformTwo';\r\n    this.setCount = 2;\r\n    this.sprites = {\r\n      idle: createImage(platformTwo, 36, 36),\r\n      disabled: createImage(platformTwoDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nclass PlatformThree extends SpaceToggledPlatform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'platformThree';\r\n    this.setCount = 3;\r\n    this.sprites = {\r\n      idle: createImage(platformThree, 36, 36),\r\n      disabled: createImage(platformThreeDisabled, 36, 36),\r\n    }\r\n  }\r\n}\r\n\r\nexport { Platform,\r\n        PlatformSpikes,\r\n        Saw,\r\n        OneStep,\r\n        Fan,\r\n        JumpToggle,\r\n        PlatformOne,\r\n        PlatformTwo,\r\n        PlatformThree,\r\n      }","import { canvas, c, gravity } from './Canvas';\r\nimport { createImage } from './CreateImage';\r\nimport { init } from '../index';\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  heroDeath,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformOneStep,\r\n  platformOneStepExplosion,\r\n  platformJump,\r\n  platformJumpDisabled,\r\n  platformOne,\r\n  platformTwo,\r\n  platformThree,\r\n  platformOneDisabled,\r\n  platformTwoDisabled,\r\n  platformThreeDisabled,\r\n  saw,\r\n  fan,\r\n  spike,\r\n      } from '../js/Assets';\r\n\r\nexport class Player {\r\n  constructor() {\r\n    this.position = {\r\n      x: 200,\r\n      y: canvas.height / 2\r\n    }\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 1 \r\n    }\r\n    this.width = 32;\r\n    this.height = 32;\r\n    this.frequency = 21;\r\n\r\n    //this.image = createImage(heroIdleR, 32, 32);\r\n    this.frames = 0;\r\n    this.sprites = {\r\n      idle: {\r\n        right: createImage(heroIdleR, 32, 32),\r\n        left: createImage(heroIdleL, 32, 32),\r\n      },\r\n      run: {\r\n        right: createImage(heroRunR, 32, 32),\r\n        left: createImage(heroRunL, 32, 32),\r\n      },\r\n      jump: {\r\n        right: createImage(heroJumpR, 32, 32),\r\n        left: createImage(heroJumpL, 32, 32),\r\n      },\r\n      fall: {\r\n        right: createImage(heroFallR, 32, 32),\r\n        left: createImage(heroFallL, 32, 32),\r\n      },\r\n      death: createImage(heroDeath, 32, 32),\r\n    }\r\n    this.currentSprite = this.sprites.idle.right;\r\n  }\r\n\r\n  draw() {\r\n    // c.fillStyle = ('red');\r\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n    c.drawImage(this.currentSprite, 32 * this.frames, 0, 32, 32, this.position.x, this.position.y, this.width, this.height) // 32, 0, 32, 32 - player sprite crop (x, y, w, h)\r\n  }\r\n\r\n  die() {\r\n    this.velocity.x = 0;\r\n    this.velocity.y = 0;\r\n    this.currentSprite = this.sprites.death;\r\n    setTimeout(init, 550);\r\n  }\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > this.frequency) this.frames = 0;\r\n    this.draw();\r\n    this.position.y += this.velocity.y;\r\n    this.position.x += this.velocity.x;\r\n    \r\n    if (this.position.y + this.height + this.velocity.y <= canvas.height) {\r\n      this.velocity.y += gravity;\r\n    } \r\n    // else { // если это оставить персонаж не покинет экран при касании нижней границы экрана\r\n    //   this.velocity.y = 0;\r\n    // }\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/index.js\");\nvar __webpack_exports__ = __webpack_require__(\"./src/sass/styles.scss\");\n",""],"names":["canvas","c","gravity","createImage","Player","Platform","PlatformSpikes","Saw","OneStep","Fan","JumpToggle","PlatformOne","PlatformTwo","PlatformThree","platformImgSrc300","heroIdleR","heroIdleL","heroRunR","heroRunL","heroJumpR","heroJumpL","heroFallR","heroFallL","heroDeath","backgroundImg","platformSolid","platformOneStep","platformOneStepExplosion","platformJump","platformJumpDisabled","platformOne","platformTwo","platformThree","platformOneDisabled","platformTwoDisabled","platformThreeDisabled","saw","fan","spike","keys","keyDownHandler","keyUpHandler","AdditionalElements","width","height","additionalElements","platforms","player","spikes","sawTrap","sawTrap2","jump","init","velocity","y","spaceToggleCounter","animate","requestAnimationFrame","fillStyle","fillRect","console","log","forEach","element","draw","toggle","platform","update","right","pressed","position","x","left","collision","lastPressed","currentSprite","sprites","idle","restore","jumpToggleActive","window","addEventListener","e","clientX","clientY","constructor","posX","posY","image","drawImage","document","getElementById","getContext","src","Image","up","deadSignalZone","code","repeat","run","fall","frames","frequency","type","getType","collisionAbove","collisionUnder","collisionLeftSide","collisionRightSide","die","disabled","temporaryPosX","hits","explosion","destroy","setTimeout","SpaceToggledPlatform","setCount","checkSpaceToggleCounter","death"],"sourceRoot":""}