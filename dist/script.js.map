{"version":3,"file":"script.js","mappings":"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;EACA;EACA;EACA;AACF;;AAckB;;AAoBlB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AClnBA,SAAS7G,WAAWA,CAACuU,GAAG,EAAE1P,KAAK,EAAEJ,MAAM,EAAE;EACvC,MAAM4G,KAAK,GAAG,IAAImJ,KAAK,CAAC,CAAC;EAEGnJ,KAAK,CAACoJ,MAAM,GAAG,MAAM;IACnBp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","sources":["webpack://platform_traveller/./src/index.js","webpack://platform_traveller/./src/js/AdditionalElements.js","webpack://platform_traveller/./src/js/Assets.js","webpack://platform_traveller/./src/js/Canvas.js","webpack://platform_traveller/./src/js/Collision.js","webpack://platform_traveller/./src/js/Keys.js","webpack://platform_traveller/./src/js/Levels.js","webpack://platform_traveller/./src/js/Platform.js","webpack://platform_traveller/./src/js/Player.js","webpack://platform_traveller/./src/js/SPA.js","webpack://platform_traveller/./src/js/Traps.js","webpack://platform_traveller/./src/js/Utils.js","webpack://platform_traveller/./src/js/data/Audio.js","webpack://platform_traveller/./src/sass/styles.scss","webpack://platform_traveller/webpack/bootstrap","webpack://platform_traveller/webpack/runtime/define property getters","webpack://platform_traveller/webpack/runtime/global","webpack://platform_traveller/webpack/runtime/hasOwnProperty shorthand","webpack://platform_traveller/webpack/runtime/make namespace object","webpack://platform_traveller/webpack/runtime/publicPath","webpack://platform_traveller/webpack/before-startup","webpack://platform_traveller/webpack/startup","webpack://platform_traveller/webpack/after-startup"],"sourcesContent":["import './sass/styles.scss';\n\n// imagePlatform.onload = function getSizes () {\n//   imagePlatform.width = imagePlatform.naturalWidth;\n//   imagePlatform.height = imagePlatform.naturalHeight;\n//}\nimport { parseCollisitions } from './js/Collision';\nimport { canvas, c } from './js/Canvas';\nimport { createImage, Sprite } from './js/Utils';\nimport { Player } from './js/Player';\n// import { levelMap } from './js/data/DescriptionForLevelMap';\nimport { bulletController } from './js/Collision';\nimport { audio, gameSoundEffects, getRandomTrack, playNextTrack, volumeEffects, volumeMusic } from './js/data/Audio';\n\n\n\nfunction setVolume(sound, volume) {\n  sound = volume;\n}\n\n\n\nwindow.addEventListener('click', fn)\n\nfunction fn() {\n\n  setVolume(volumeMusic, 0.3)\n}\n\n\n\n\nimport { Platform,\n  OneStep,\n  Fan,\n  JumpToggleActive,\n  JumpToggleDisabled,\n  PlatformOne,\n  PlatformTwo,\n  PlatformThree,\n  DeadSignal,\n} from './js/Platform';\n\nimport {\n  PlatformSpikes,\n  Saw,\n  FlamethrowerLeft,\n  FlamethrowerRight,\n  FlamethrowerUp,\n  FlamethrowerDown,\n  BulletController,\n  Flamethrower\n} from './js/Traps';\nimport { platformImgSrc300,\n          heroIdleR,\n          heroIdleL,\n          heroRunR,\n          heroRunL,\n          heroJumpR,\n          heroJumpL,\n          heroFallR,\n          heroFallL,\n          heroDeath,\n          backgroundImg,\n          win,\n          platformSolid,\n          platformOneStep,\n          platformOneStepExplosion,\n          platformJump,\n          platformJumpDisabled,\n          platformOne,\n          platformTwo,\n          platformThree,\n          platformOneDisabled,\n          platformTwoDisabled,\n          platformThreeDisabled,\n          saw,\n          fan,\n          spike,\n          deadSignalZone,\n          deadSignalZoneHover,\n          flamethrowerLeft,\n          flamethrowerRight,\n          flamethrowerUp,\n          flamethrowerDown,\n          brick_1,\n          brick_2,\n        } from './js/Assets';\nimport { keys, keyDownHandler, keyUpHandler } from './js/Keys';\nimport { AdditionalElements } from './js/AdditionalElements';\nimport { requestLevelMap } from './js/Levels';\n\n\n// canvas.width = document.documentElement.clientWidth;\n// canvas.height = document.documentElement.clientHeight;\nconst fontSize = canvas.height / 5; // 10\n                      // window.addEventListener('resize', () => {\n                      //   canvas.width = document.documentElement.clientWidth;\n                      //   canvas.height = document.documentElement.clientHeight;\n                      // });\n\n                      // function onResize( element, callback ){\n                      //   var elementHeight = element.height,\n                      //       elementWidth = element.width;\n                      //   setInterval(function(){\n                      //       if( element.height !== elementHeight || element.width !== elementWidth ){\n                      //         elementHeight = element.height;\n                      //         elementWidth = element.width;\n                      //         callback();\n                      //       }\n                      //   }, 300);\n                      // }\n\n                      // onResize(canvas, function() { \n                      // canvas.width = document.documentElement.clientWidth;\n                      // canvas.height = document.documentElement.clientHeight;\n                      // });\n\n\nimport { mySPA } from './js/SPA';\ndocument.addEventListener('DOMContentLoaded', mySPA.init('root', 'content'));\n\n\n\ncanvas.width = 1024 // 1280 //window.innerWidth; // canvas.width = innerWidth;\ncanvas.height = 576 // 720 //window.innerHeight;\nexport let requestAnim = window.requestAnimationFrame ||\n                  window.webkitRequestAnimationFrame ||\n                  window.mozRequestAnimationFrame ||\n                  window.oRequestAnimationFrame ||\n                  window.msRequestAnimationFrame ||\n                  function(callback) { window.setTimeout(callback, 1000 / 60); }\n\nwindow.addEventListener('keydown', (e) => fullScreen(e, canvas));\n\n\n\n\n\n\n\n\n// let game = [];\n\n// class Game {\n//   constructor(level) {\n//     this.level = level;\n//   }\n// }\n\n// function createNewGame(map) {\n//   Object.values(map).forEach(level => {\n//     game.push(new Game(level.id));\n//   })\n// }\n// console.log(game)\n\n\n\n\nfunction fullScreen(e, element) {\n  if (e.code === 'KeyF') {\n    if(element.requestFullscreen) {\n      element.requestFullscreen();\n    } else if(element.webkitrequestFullscreen) {\n      element.webkitRequestFullscreen();\n    } else if(element.mozRequestFullscreen) {\n      element.mozRequestFullScreen();\n    }\n  }\n}\n\nlet leftNeighboorBlockFromHeroArr = [];\nexport let timerShoot_1 = null;\nexport let timerShoot_2 = null;\nexport let leftNeighboorBlockFromHero = null;\nexport let completeLevel = false;\n\n\n\n\n\nexport let additionalElements = [\n  new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\n]\n\n\n// class Level {\n//   constructor(value) {\n//     this.stage =  value;\n//   }\n// }\n// export let level = new Level(1);\n\n\n\nexport let level = 3;\nfunction increseLevel(obj) {\n  return level >= Object.keys(obj).length ? level : ++level;\n }\n\n\n\n\n\n\n\n\n\nexport let platforms = [],\n           levelMap,\n           parsedCollisions,\n           player;\n\n\n\n\n// requestLevelMap(`/src/js/json/levelMap_${level}.json`, setLevelMap, parseCollisitions, createPlayer, init, animate);\n\n\n\n\n\nfunction setLevelMap(value) {\n  levelMap = value;\n  console.log(levelMap)\n  return levelMap;\n}\n\nfunction createPlayer(levelMap, platforms) {\n  levelMap.map.forEach((row, index_Y) => {\n    row.forEach((cell, index_X) => {\n    if (cell === 'st') {\n      player = new Player({ platforms }, index_X * 36, index_Y * 36, levelMap.margin.left, levelMap.margin.top);\n    } \n    })\n  })\n  return player;\n}\n\n\nfunction fireSoundInterval(delay) {\n  timerShoot_1 = setTimeout(function soundFire() {\n    timerShoot_2 = setTimeout(soundFire, delay);\n    gameSoundEffects(audio.fire);\n  }, delay); \n}\nlet initStart = true;\n function flamethrowerShootSoundIntervalInit() {\n  if (initStart) {\n    let flamethrowerShootDelay = null;\n    platforms.forEach(platform => {\n      ( platform.type === 'flamethrowerLeft' ||\n        platform.type === 'flamethrowerRight' ||\n        platform.type === 'flamethrowerUp' ||\n        platform.type === 'flamethrowerDown') && (flamethrowerShootDelay = platform.delay);\n    })\n    \n    if (platforms.some(platform => {\n      return (platform.type === 'flamethrowerLeft' ||\n      platform.type === 'flamethrowerRight' ||\n      platform.type === 'flamethrowerUp' ||\n      platform.type === 'flamethrowerDown')})) {\n        fireSoundInterval(flamethrowerShootDelay * 8);\n    }\n  }\n  initStart = false;\n }\n\n\n\n\n                            let track = getRandomTrack(audio);\n                            track.pause();\n                            track = getRandomTrack(audio)\n                            // track.play();\n                            track.onended = function() {\n                              playNextTrack(track, audio);\n                            }\n\n\nfunction reloadGameplay() {\n  additionalElements = [new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\n  ];\n    platforms.forEach(platform => {\n      (platform.type === 'oneStep') && platform.restore();\n    });\n    levelMap.map.forEach((row, index_Y) => {\n      row.forEach((cell, index_X) => {\n       cell === 'st' && (player = new Player({ platforms }, index_X * 36, index_Y * 36, levelMap.margin.left, levelMap.margin.top));\n      })\n    })  \n}\n\n\n\n\nlet levelOverlay = createImage(win);\nlevelOverlay.width = canvas.width;\nlevelOverlay.height = canvas.height;\n\nexport function init() {\n  flamethrowerShootSoundIntervalInit();\n  player.velocity.y = 1;\n  player.alive = true;\n  keys.spaceToggleCounter = 1;\n  \n  if (player.completeLevel) {\n    c.save();\n    c.fillStyle = 'rgb(247, 251, 254)';\n    c.fillRect(0, 0, canvas.width, canvas.height, canvas.width / 2, canvas.height / 2);\n    c.drawImage(levelOverlay, 0, 0, canvas.width, canvas.height);\n    \n    c.fillStyle = 'rgb(21, 173, 188)';\n    c.font = `normal ${fontSize}px Rubik Iso`;\n    c.textBaseline = 'middle';\n    c.textAlign = 'center';\n    canvas.style.letterSpacing = `${fontSize / 20}px`;\n    c.fillText('Next level', canvas.width / 2, canvas.height / 2)\n    c.restore();\n    setTimeout(() => reloadGameplay(), 1250);\n    player.completeLevel = false;\n  } else {\n    reloadGameplay();\n} \nreturn player;\n}                      \n\n\nfunction animate() {\n\n  requestAnim(animate);\n  \n  console.log('animation counter');\n\n  additionalElements.forEach(element => element.draw());\n                              \n                          \n                          platforms.forEach(platform => platform.draw());\n                          platforms.forEach(platform => platform.update());\n                          platforms.forEach(platform => {\n                            (platform.type === 'jumpToggleActive' || platform.type === 'jumpToggleDisabled') && platform.toggle();\n                          \n                          \n                          if (platform.type === 'platformOne' ||\n                          platform.type === 'platformTwo' ||\n                          platform.type === 'platformThree' ||\n                          platform.type === 'deadSignalZone' ||\n                          platform.type === 'flamethrowerLeft' ||\n                          platform.type === 'flamethrowerRight' ||\n                          platform.type === 'flamethrowerUp' ||\n                          platform.type === 'flamethrowerDown'\n                          ) {\n                            platform.collision();\n                          }\n                          \n\n                          if (platform.type === 'flamethrowerLeft' ||\n                          platform.type === 'flamethrowerRight' ||\n                          platform.type === 'flamethrowerUp' ||\n                          platform.type === 'flamethrowerDown') {\n                            platform.shoot();                      \n                          }\n                          \n                          });\n\n                          \n\n\n\n\n\n                          \nleftNeighboorBlockFromHeroArr = platforms.filter(platform => {\n  return (platform.left <= player.left &&\n    (platform.top <= player.top &&\n    platform.bottom >= player.bottom)\n    );\n})\nleftNeighboorBlockFromHero = leftNeighboorBlockFromHeroArr[leftNeighboorBlockFromHeroArr.length - 1]\n\n\n                          player.update();\n\n\n  if (keys.right.pressed && (player.position.x + player.width) <= canvas.width) { // упор персонажа в правый край экрана\n    player.velocity.x = 2;\n  } else if (keys.left.pressed && player.position.x >= 0) { // упор персонажа в левый край экрана\n    player.velocity.x = -2;\n  } else {\n    player.velocity.x = 0;\n  }\n\n\n        \nif (player.velocity.y >= player.jumpHeight - player.gravity && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'right') { // 10 - когда персонаж на земле\n  player.currentSprite = player.sprites.idle.right;\n} else if (player.velocity.y >= player.jumpHeight - player.gravity && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'left') { // 10 - когда персонаж на земле\n  player.currentSprite = player.sprites.idle.left;\n}\n\n\n    // Падение в пропасть (см. комментарии в player.update())\n      if (player.position.y > canvas.height) {\n// sawTrap.restore();\n                             //sawTrap2.restore(); // !!!!!!!!!!!!\ngameSoundEffects(audio.fallingInDepth2);\nkeys.jumpToggleActive = !keys.jumpToggleActive;\n        init();\n      }\n\n\n}\n// init();\n// animate();\n\nwindow.addEventListener('keydown', keyDownHandler);\nwindow.addEventListener('keyup', keyUpHandler);","// import { canvas, c } from './Canvas';\n\n// export class AdditionalElements {\n//   constructor (posX, posY, image) {\n//     this.position = {\n//       x: posX,\n//       y: posY\n//     }\n//     this.image = image;\n//     this.width = image.width;\n//     this.height = image.height;   \n//   }\n//   draw() {\n//     c.drawImage(this.image, this.position.x, this.position.y)\n//     // c.fillStyle = ('green');\n//     // c.fillRect(this.position.x, this.position.y, this.width, this.height);\n//   }\n// }\n\n\nimport { canvas, c } from './Canvas';\nimport { createImage } from './Utils';\nimport {\n  platformImgSrc300,\n        heroIdleR,\n        heroIdleL,\n        heroRunR,\n        heroRunL,\n        heroJumpR,\n        heroJumpL,\n        heroFallR,\n        heroFallL,\n        heroDeath,\n        backgroundImg,\n        platformSolid,\n        platformOneStep,\n        platformOneStepExplosion,\n        platformJump,\n        platformJumpDisabled,\n        platformOne,\n        platformTwo,\n        platformThree,\n        platformOneDisabled,\n        platformTwoDisabled,\n        platformThreeDisabled,\n        saw,\n        fan,\n        spike,\n        deadSignalZone,\n        deadSignalZoneHover,\n        flamethrowerLeft,\n        flamethrowerRight,\n        flamethrowerUp,\n        flamethrowerDown,\n        fireballUp,\n        fireballDown,\n        fireballLeft,\n        fireballRight,\n        brick_1,\n        brick_2,\n} from './Assets';\nexport class AdditionalElements {\n  constructor (posX, posY, image) {\n    this.position = {\n      x: posX,\n      y: posY,\n    }\n    this.sprites = {\n      idle: createImage(backgroundImg, canvas.width, canvas.height),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.type = 'backgrounds';\n    this.image = image;\n    this.width = image.width;\n    this.height = image.height;   \n  }\n  draw() {\n    if (!this.currentSprite.loaded) return;\n    c.drawImage(this.currentSprite, this.position.x, this.position.y, canvas.width, canvas.height);\n  }\n}","// const platformImgSrc300 = '../assets/img/Platforms/platform.png';\n// const heroIdleR = '../assets/img/Hero/Idle_right.png';\n// const heroIdleL = '../assets/img/Hero/Idle_left.png';\n// const heroRunR = '../assets/img/Hero/Run_right.png';\n// const heroRunL = '../assets/img/Hero/Run_left.png';\n// const heroJumpR = '../assets/img/Hero/Jump_right.png';\n// const heroJumpL = '../assets/img/Hero/Jump_left.png';\n// const heroFallR = '../assets/img/Hero/Fall_right.png';\n// const heroFallL = '../assets/img/Hero/Fall_left.png';\n// const heroDeath = '../assets/img/Hero/Player_death.png';\n// const backgroundImg = '../assets/img/Background_images/bg_2.jpg';\n// const platformSolid = '../assets/img/Platforms/Platform_solid.png';\n// const platformOneStep = '../assets/img/Platforms/Platform_oneStep.png';\n// const platformOneStepExplosion = '../assets/img/Platforms/Platform_oneStep_Explosion.png';\n// const platformJump = '../assets/img/Platforms/Platform_jump.png';\n// const platformJumpDisabled = '../assets/img/Platforms/Platform_jump_disabled.png';\n// const platformOne = '../assets/img/Platforms/Platform_one.png';\n// const platformTwo = '../assets/img/Platforms/Platform_two.png';\n// const platformThree = '../assets/img/Platforms/Platform_three.png';\n// const platformOneDisabled = '../assets/img/Platforms/Platform_one_disabled.png';\n// const platformTwoDisabled = '../assets/img/Platforms/Platform_two_disabled.png';\n// const platformThreeDisabled = '../assets/img/Platforms/Platform_three_disabled.png';\n// const saw = '../assets/img/Traps/Saw.png';\n// const fan = '../assets/img/Traps/Fan.png';\n// const spike = '../assets/img/Traps/Platform_spikes.png';\n// const deadSignalZone = '../assets/img/Traps/Dead_signal_zone.png';\n// const deadSignalZoneHover = '../assets/img/Traps/Dead_signal_zone_hover.png';\n// const flamethrowerLeft = '../assets/img/Traps/Flamethrower_left.png';\n// const flamethrowerRight = '../assets/img/Traps/Flamethrower_right.png';\n// const flamethrowerUp = '../assets/img/Traps/Flamethrower_left.png';\n// const flamethrowerDown = '../assets/img/Traps/Flamethrower_left.png';\n// const flamethrowerUp = '../assets/img/Traps/Flamethrower_left.png';\n// const flamethrowerDown = '../assets/img/Traps/Flamethrower_left.png';\n\nimport platformImgSrc300 from '/assets/img/Platforms/platform.png';\nimport heroIdleR from '/assets/img/Hero/Idle_right.png';\nimport heroIdleL from '/assets/img/Hero/Idle_left.png';\nimport heroRunR from '/assets/img/Hero/Run_right.png';\nimport heroRunL from '/assets/img/Hero/Run_left.png';\nimport heroJumpR from '/assets/img/Hero/Jump_right.png';\nimport heroJumpL from '/assets/img/Hero/Jump_left.png';\nimport heroFallR from '/assets/img/Hero/Fall_right.png';\nimport heroFallL from '/assets/img/Hero/Fall_left.png';\nimport heroDeath from '/assets/img/Hero/Player_death.png';\nimport backgroundImg from '/assets/img/Background_images/bg_1.jpg';\nimport win from '/assets/img/Background_images/Win_4.jpg';\nimport platformSolid from '/assets/img/Platforms/Platform_solid.png';\nimport platformOneStep from '/assets/img/Platforms/Platform_oneStep.png';\nimport platformOneStepExplosion from '/assets/img/Platforms/Platform_oneStep_Explosion.png';\nimport platformJump from '/assets/img/Platforms/Platform_jump.png';\nimport platformJumpDisabled from '/assets/img/Platforms/Platform_jump_disabled.png';\nimport platformOne from '/assets/img/Platforms/Platform_one.png';\nimport platformTwo from '/assets/img/Platforms/Platform_two.png';\nimport platformThree from '/assets/img/Platforms/Platform_three.png';\nimport platformOneDisabled from '/assets/img/Platforms/Platform_one_disabled.png';\nimport platformTwoDisabled from '/assets/img/Platforms/Platform_two_disabled.png';\nimport platformThreeDisabled from '/assets/img/Platforms/Platform_three_disabled.png';\nimport finish from '/assets/img/Platforms/Finish_T_L.png';\nimport brick_1 from '/assets/img/Platforms/brick_1.png';\nimport brick_2 from '/assets/img/Platforms/brick_2.png';\nimport saw from '/assets/img/Traps/Saw.png';\nimport fan from '/assets/img/Traps/Fan.png';\nimport spike from '/assets/img/Traps/Platform_spikes.png';\nimport deadSignalZone from '/assets/img/Traps/Dead_signal_zone.png';\nimport deadSignalZoneHover from '/assets/img/Traps/Dead_signal_zone_hover.png';\nimport flamethrowerLeft from '/assets/img/Traps/Flamethrower_left.png';\nimport flamethrowerRight from '/assets/img/Traps/Flamethrower_right.png';\nimport flamethrowerUp from '/assets/img/Traps/Flamethrower_up.png';\nimport flamethrowerDown from '/assets/img/Traps/Flamethrower_down.png';\nimport fireballUp from '/assets/img/Traps/Fireball_up.png';\nimport fireballDown from '/assets/img/Traps/Fireball_down.png';\nimport fireballLeft from '/assets/img/Traps/Fireball_left.png';\nimport fireballRight from '/assets/img/Traps/Fireball_right.png';\n\nexport { platformImgSrc300,\n        heroIdleR,\n        heroIdleL,\n        heroRunR,\n        heroRunL,\n        heroJumpR,\n        heroJumpL,\n        heroFallR,\n        heroFallL,\n        heroDeath,\n        backgroundImg,\n        win,\n        platformSolid,\n        platformOneStep,\n        platformOneStepExplosion,\n        platformJump,\n        platformJumpDisabled,\n        platformOne,\n        platformTwo,\n        platformThree,\n        platformOneDisabled,\n        platformTwoDisabled,\n        platformThreeDisabled,\n        saw,\n        fan,\n        spike,\n        deadSignalZone,\n        deadSignalZoneHover,\n        flamethrowerLeft,\n        flamethrowerRight,\n        flamethrowerUp,\n        flamethrowerDown,\n        fireballUp,\n        fireballDown,\n        fireballLeft,\n        fireballRight,\n        brick_1,\n        brick_2,\n        finish,\n      }","const canvas = document.getElementById('canvas');\nconst c = canvas.getContext(\"2d\");\n\n\nexport { canvas, c }","import { canvas, c } from './Canvas';\nimport { platforms, parsedCollisions } from '../index';\n\nimport { Platform,\n  OneStep,\n  Fan,\n  JumpToggleActive,\n  JumpToggleDisabled,\n  PlatformOne,\n  PlatformTwo,\n  PlatformThree,\n  DeadSignal,\n  Brick_1,\n  Brick_2,\n  Finish,\n} from './Platform';\n\n\n\nimport {\n  PlatformSpikes,\n  Saw,\n  FlamethrowerLeft,\n  FlamethrowerRight,\n  FlamethrowerUp,\n  FlamethrowerDown,\n  BulletController,\n} from './Traps';\n\nimport { platformImgSrc300,\n  heroIdleR,\n  heroIdleL,\n  heroRunR,\n  heroRunL,\n  heroJumpR,\n  heroJumpL,\n  heroFallR,\n  heroFallL,\n  heroDeath,\n  backgroundImg,\n  platformSolid,\n  platformOneStep,\n  platformOneStepExplosion,\n  platformJump,\n  platformJumpDisabled,\n  platformOne,\n  platformTwo,\n  platformThree,\n  platformOneDisabled,\n  platformTwoDisabled,\n  platformThreeDisabled,\n  saw,\n  fan,\n  spike,\n  deadSignalZone,\n  deadSignalZoneHover,\n  flamethrowerLeft,\n  flamethrowerRight,\n  flamethrowerUp,\n  flamethrowerDown,\n  brick_1,\n  brick_2,\n} from './Assets';\nimport { createImage, Sprite } from './Utils';\nimport { Player } from './Player';\n\nexport function parseCollisitions(levelMap, platforms) {\n  levelMap.map.forEach((row, index_Y) => {\n    row.forEach((cell, index_X) => {\n      switch(cell) {\n        case '1p': // Space toggled platform (One)\n          platforms.push(new PlatformOne(index_X * 36, index_Y * 36, createImage(platformOne, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case '2p': // Space toggled platform (Two)\n          platforms.push(new PlatformTwo(index_X * 36, index_Y * 36, createImage(platformTwo, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case '3p': // Space toggled platform (Three)\n          platforms.push(new PlatformThree(index_X * 36, index_Y * 36, createImage(platformThree, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case '1s': // One-Step platform\n          platforms.push(new OneStep(index_X * 36, index_Y * 36, createImage(platformOneStep, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case 'sl': // Solid platform\n          platforms.push(new Platform( // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            index_X * 36, index_Y * 36, createImage(platformSolid, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case 'ja': // Jump-toggled platform (active)\n          platforms.push(new JumpToggleActive(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case 'jd': // Jump-toggled platform (disabled)\n          platforms.push(new JumpToggleDisabled(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case 'sk': // Saw trap platform\n          platforms.push(new PlatformSpikes(index_X * 36, index_Y * 36, createImage(spike, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case 'sw': // Spikes trap platform\n          platforms.push(new Saw(index_X * 36, index_Y * 36, createImage(saw, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case 'dz': // Dead signal zone\n          platforms.push(new DeadSignal(\n            index_X * 36, index_Y * 36, createImage(deadSignalZone, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n            break;\n        case 'fl': // Flamethrower (left)\n        platforms.push(new FlamethrowerLeft(\n          index_X * 36, index_Y * 36, createImage(flamethrowerLeft, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\n          break;\n        case 'fr': // Flamethrower (right)\n        platforms.push(new FlamethrowerRight(\n          index_X * 36, index_Y * 36, createImage(flamethrowerRight, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\n          break;\n        case 'fu': // Flamethrower (up)\n        platforms.push(new FlamethrowerUp(\n          index_X * 36, index_Y * 36, createImage(flamethrowerUp, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\n          break;\n        case 'fd': // Flamethrower (down)\n        platforms.push(new FlamethrowerDown(\n          index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, new BulletController(), levelMap.margin.left, levelMap.margin.top));\n          break;\n        case 'fn': // Fan (decoration)\n        platforms.push(new Fan(\n          index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n          break;\n        case 'b1': // Fan (decoration)\n        platforms.push(new Brick_1(\n          index_X * 36, index_Y * 36, createImage(brick_1, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n          break;\n        case 'b2': // Fan (decoration)\n        platforms.push(new Brick_2(\n          index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n          break;\n        case 'fp': // Finish point\n        platforms.push(new Finish(\n          index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, levelMap.margin.left, levelMap.margin.top));\n          break;\n      }\n    })\n  })\n  return levelMap;\n}\n\n\n\n\n\n\n// const parsedCollisions = collisionsLevel_1.map.forEach((row, index_Y) => {\n//   row.forEach((cell, index_X) => {\n//     switch(cell) {\n//       case '1p': // Space toggled platform (One)\n//         platforms.push(new PlatformOne(index_X * 36, index_Y * 36, createImage(platformOne, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case '2p': // Space toggled platform (Two)\n//         platforms.push(new PlatformTwo(index_X * 36, index_Y * 36, createImage(platformTwo, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case '3p': // Space toggled platform (Three)\n//         platforms.push(new PlatformThree(index_X * 36, index_Y * 36, createImage(platformThree, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case '1s': // One-Step platform\n//         platforms.push(new OneStep(index_X * 36, index_Y * 36, createImage(platformOneStep, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case 'sl': // Solid platform\n//         platforms.push(new Platform( // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n//           index_X * 36, index_Y * 36, createImage(platformSolid, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case 'ja': // Jump-toggled platform (active)\n//         platforms.push(new JumpToggleActive(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case 'jd': // Jump-toggled platform (disabled)\n//         platforms.push(new JumpToggleDisabled(index_X * 36, index_Y * 36, createImage(platformJump, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case 'sk': // Saw trap platform\n//         platforms.push(new PlatformSpikes(index_X * 36, index_Y * 36, createImage(spike, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case 'sw': // Spikes trap platform\n//         platforms.push(new Saw(index_X * 36, index_Y * 36, createImage(saw, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case 'dz': // Dead signal zone\n//         platforms.push(new DeadSignal(\n//           index_X * 36, index_Y * 36, createImage(deadSignalZone, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//           break;\n//       case 'fl': // Flamethrower (left)\n//       platforms.push(new FlamethrowerLeft(\n//         index_X * 36, index_Y * 36, createImage(flamethrowerLeft, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//       case 'fr': // Flamethrower (right)\n//       platforms.push(new FlamethrowerRight(\n//         index_X * 36, index_Y * 36, createImage(flamethrowerRight, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//       case 'fu': // Flamethrower (up)\n//       platforms.push(new FlamethrowerUp(\n//         index_X * 36, index_Y * 36, createImage(flamethrowerUp, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//       case 'fd': // Flamethrower (down)\n//       platforms.push(new FlamethrowerDown(\n//         index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, new BulletController(), collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//       case 'fn': // Fan (decoration)\n//       platforms.push(new Fan(\n//         index_X * 36, index_Y * 36, createImage(flamethrowerDown, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//       case 'b1': // Fan (decoration)\n//       platforms.push(new Brick_1(\n//         index_X * 36, index_Y * 36, createImage(brick_1, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//       case 'b2': // Fan (decoration)\n//       platforms.push(new Brick_2(\n//         index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//       case 'fp': // Finish point\n//       platforms.push(new Finish(\n//         index_X * 36, index_Y * 36, createImage(brick_2, 36, 36), platforms, collisionsLevel_1.margin.left, collisionsLevel_1.margin.top));\n//         break;\n//     }\n//   })\n// })\n\n\n\n\n\n\n\n\n\nexport { platforms, parsedCollisions }","import { player } from '../index';\nimport { platforms } from '../index';\nimport { sawTrap, sawTrap2 } from '../index';\nimport { jump } from '../index';\nimport { audio, gameSoundEffects } from './data/Audio';\n\n\n\nconst keys = {\n  right: {\n    pressed: false\n  },\n  left: {\n    pressed: false\n  },\n  up: {\n    pressed: false\n  },\n  space: {\n    pressed: false\n  },\n  lastPressed: 'right',\n  jumpToggleActive: true,\n  isJumped: false,\n  spaceToggleCounter: 1, // Platform One type is active\n  deadSignalZone: false,\n};\n                                                // let hiddenPlatformsArr = []\n                                                \nconst keyDownHandler = (e) => {\n  console.log(e.code)\n  if (e.repeat == false) {\n    switch (e.code) {\n      case 'ArrowUp':\n        keys.up.pressed = true;\n        if (player.velocity.y <= 0 && player.velocity.y >= -3.5) { //(player.velocity.y === 0) или (player.velocity.y <= 0 && player.velocity.y >= -3.5)\n          keys.jumpToggleActive ? keys.jumpToggleActive = false : keys.jumpToggleActive = true;\n          gameSoundEffects(audio.jump);\n        }\n        if (player.velocity.y === 0 && keys.lastPressed === 'right') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\n          player.velocity.y -= player.jumpHeight; // -20 is higher\n          player.currentSprite = player.sprites.jump.right;\n        } else if (player.velocity.y === 0 && keys.lastPressed === 'left') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\n          player.velocity.y -= player.jumpHeight; // -20 is higher\n          player.currentSprite = player.sprites.jump.left;\n        }\n        break;\n\n      case 'Space': {\n        keys.space.pressed = true;\n        !keys.deadSignalZone && keys.spaceToggleCounter++;\n      }\n        break;\n\n      case 'ArrowRight': {\n        keys.right.pressed = true;\n        keys.lastPressed = 'right';\n        player.currentSprite = player.sprites.run.right;\n      }\n        break;\n      case 'ArrowLeft': {\n        keys.left.pressed = true;\n        keys.lastPressed = 'left';\n        player.currentSprite = player.sprites.run.left;\n      }\n        break;\n    }\n  }\n}\n\nconst keyUpHandler = (e) => {\n  if (e.repeat == false) {\n    switch (e.code) {\n      case 'ArrowUp': \n        // player.velocity.y = 0;\n        keys.up.pressed = false;\n        // keys.up.pressed = true;\n        if (player.velocity.y !== 0 && keys.lastPressed === 'right') {\n          player.currentSprite = player.sprites.fall.right;\n        } else if (player.velocity.y !== 0 && keys.lastPressed === 'left') {\n          player.currentSprite = player.sprites.fall.left;\n        }\n        break;\n      // case 'ArrowDown': player.velocity.y = 0\n      //   break;\n      case 'ArrowRight': {\n        keys.right.pressed = false;\n        player.currentSprite = player.sprites.idle.right;\n      }\n        break;\n      case 'ArrowLeft': {\n        keys.left.pressed = false;\n        player.currentSprite = player.sprites.idle.left;\n      }\n        break;\n      case 'Space': {\n        keys.space.pressed = false;\n      }\n        break;\n    }\n  }\n}\n\nexport { keys, keyDownHandler, keyUpHandler };","import { platforms } from '../index';\n\n\nexport function requestLevelMap(url, callback_1, callback_2, callback_3, callback_4, callback_5) {\n  fetch(url)\n    .then(response => {  \n      if (response.status !== 200) {\n        console.log(`Возникла проблема. Код ошибки: ${response.status}`);\n        return;\n      }\n      response.json()\n      .then(map => callback_1(map, platforms))\n      .then(data => callback_2(data, platforms))\n      .then(player => callback_3(player, platforms))\n      .then(init => callback_4(init, platforms))\n      .then(animate => callback_5(animate, platforms))\n      .catch(err => console.error('Fetch Error - levels map load failed', err))\n    })\n}\n","import { CollisionBlock, platforms, parsedCollisions } from './Collision';\nimport { canvas, c } from './Canvas';\nimport { createImage } from './Utils';\nimport { platformImgSrc300,\n  heroIdleR,\n  heroIdleL,\n  heroRunR,\n  heroRunL,\n  heroJumpR,\n  heroJumpL,\n  heroFallR,\n  heroFallL,\n  heroDeath,\n  backgroundImg,\n  platformSolid,\n  platformOneStep,\n  platformOneStepExplosion,\n  platformJump,\n  platformJumpDisabled,\n  platformOne,\n  platformTwo,\n  platformThree,\n  platformOneDisabled,\n  platformTwoDisabled,\n  platformThreeDisabled,\n  saw,\n  fan,\n  spike,\n  deadSignalZone,\n  deadSignalZoneHover,\n  flamethrowerLeft,\n  flamethrowerRight,\n  flamethrowerUp,\n  flamethrowerDown,\n  brick_1,\n  brick_2,\n  finish,\n      } from './Assets';\n\n     \n      \n\nimport { audio, gameSoundEffects } from './data/Audio';\nimport { keys } from './Keys';\nimport { player } from '../index';\nimport { leftNeighboorBlockFromHero } from '../index';\n\n\nclass Platform {\n  constructor (posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n\n    this.image = image;\n    this.width = image.width;\n    this.height = image.height;\n    this.frames = 0;\n    this.frequency = 28;\n    this.sprites = {\n      idle: this.image,\n    }\n    this.currentSprite = this.sprites.idle;\n    this.type = 'solid';\n    this.statusActive = true;\n  }\n\n  get top() {\n    return this.position.y;\n  }\n  get bottom() {\n    return this.position.y + this.height;\n  }\n  get left() {\n    return this.position.x;\n  }\n  get right() {\n    return this.position.x + this.width;\n  }\n\n  set top(value) {\n    this.position.y = value;\n  }\n  set bottom(value) {\n    this.position.y = value;\n  }\n  set left(value) {\n    this.position.x = value;\n  }\n  set right(value) {\n    this.position.x = value;\n  }\n\n  getType() {\n    return this.type;\n  }\n  draw() {\n    if (!this.currentSprite.loaded) return;\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height) // 48, 0, 48, 48 - player sprite crop (x, y, w, h) // 36 размер кадра в спрайте\n  }\n  update() {\n    this.frames++;\n    if (this.frames > this.frequency) this.frames = 0;\n    this.draw();\n  }\n  collisionAbove() {\n  // Player - platform collision (player is above the platform)\n    if (player.bottom <= this.position.y &&\n      player.bottom + player.velocity.y >= this.top && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\n      player.right - player.width / 4 >= this.left  && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\n      player.left <= this.right - player.width / 4) { \n      player.velocity.y = -3.5; // если касается земли // -3.5\n      player.alive && gameSoundEffects(audio.jumpOnSpaceToggledPlatform);\n      if (keys.up.pressed ||\n      keys.up.pressed && keys.right.pressed ||\n      keys.up.pressed && keys.left.pressed) {\n        player.velocity.y = -player.jumpHeight;\n        player.gravity = 0.25;\n      } \n    }\n  }\n  collisionUnder() {\n  // Player - platform collision (player is under the platform)\n    if (player.top <= this.bottom && // player.position.y - player.velocity.y * 0.5\n      player.bottom + player.velocity.y >= this.top &&\n      player.left >= this.left - player.width / 1.25 && // можно сделать 1.75\n      player.right <= this.right + player.width / 1.25) {\n        player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\n        player.alive && gameSoundEffects(audio.bottomHit);\n      }\n  }\n  collisionLeftSide() {\n  // Player - platform collision (player is left from the platform and moves right)\n    if (keys.right.pressed &&\n      player.bottom >= this.top && \n      player.top <= this.bottom &&\n      player.right >= this.left) {\n        player.velocity.x = 0;\n        console.log('hit!');\n    } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\n    if (keys.right.pressed &&\n      player.bottom >= this.top && \n      player.top <= this.bottom &&\n      player.right >= this.right) {\n        player.velocity.x = 2;\n        console.log('free!');\n    }\n  }\n  collisionRightSide() {\n  // Player - platform collision (player is right from the platform and moves left)\n    if (keys.left.pressed &&\n      (leftNeighboorBlockFromHero != undefined || leftNeighboorBlockFromHero != null) &&\n      player.bottom >= leftNeighboorBlockFromHero.top && \n      player.top <= leftNeighboorBlockFromHero.bottom &&\n      player.left <= leftNeighboorBlockFromHero.right) {\n        player.velocity.x = 0;\n        console.log('hit!');\n    } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\n      if (keys.left.pressed &&\n        leftNeighboorBlockFromHero != undefined &&\n        (player.bottom <= leftNeighboorBlockFromHero.top || \n        player.top >= leftNeighboorBlockFromHero.bottom) &&\n        player.left <= leftNeighboorBlockFromHero.left) { // или \"-\" player.width ???\n          player.velocity.x = -2;\n          console.log('free!');\n      }\n    }\n  \n  collision() { // разбито на отдельные методы, для частичного наследования\n    this.collisionAbove();\n    this.collisionUnder();\n    this.collisionLeftSide();\n    this.collisionRightSide();\n  }\n}\n\nclass Fan extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.type = 'fan';\n    this.statusActive = true;\n    this.sprites = {\n      idle: createImage(fan, 36, 36),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.frequency = 23;\n  }\n}\n\nclass Brick_1 extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.type = 'brick_1';\n    this.statusActive = true;\n    this.sprites = {\n      idle: createImage(brick_1, 36, 36),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.frequency = 1;\n  }\n}\n\nclass Brick_2 extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.type = 'brick_2';\n    this.statusActive = true;\n    this.sprites = {\n      idle: createImage(brick_2, 36, 36),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.frequency = 1;\n  }\n}\n\nclass Finish extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.type = 'finish';\n    this.statusActive = true;\n    this.sprites = {\n      idle: createImage(finish, 36, 36),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.frequency = 27;\n  }\n}\n\nclass JumpToggleActive extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.type = 'jumpToggleActive';\n    this.statusActive = true;\n    this.sprites = {\n      idle: createImage(platformJump, 36, 36),\n      disabled: createImage(platformJumpDisabled, 36, 36),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.frequency = 63;\n  }\n  toggle() {\n    console.log(this.type, this.statusActive)\n    if (keys.jumpToggleActive === true) {\n      this.currentSprite = this.sprites.idle;\n      this.statusActive = true;\n    } else {\n      this.currentSprite = this.sprites.disabled;\n      this.statusActive = false;\n    }\n  }\n}\n\nclass JumpToggleDisabled extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.type = 'jumpToggleDisabled';\n    this.statusActive = false;\n    this.sprites = {\n      idle: createImage(platformJump, 36, 36),\n      disabled: createImage(platformJumpDisabled, 36, 36),\n    }\n    this.currentSprite = this.sprites.disabled;\n    this.frequency = 63;\n  }\n  toggle() {\n    console.log(this.type, this.statusActive)\n    if (keys.jumpToggleActive === false) {\n      this.currentSprite = this.sprites.idle;\n      this.statusActive = true;\n    } else {\n      this.currentSprite = this.sprites.disabled;\n      this.statusActive = false;\n    }\n  }\n}\n\nclass OneStep extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.temporaryPosX = posX + marginLeft;\n    this.hits = 0;\n    this.sprites = {\n      idle: createImage(platformOneStep, 36, 36),\n      explosion: createImage(platformOneStepExplosion, 36, 36),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.frequency = 28;\n    this.type = 'oneStep';\n    this.statusActive = true;\n  }\n  destroy() {\n    player.alive && gameSoundEffects(audio.explosionBlock);\n    this.currentSprite = this.sprites.explosion;\n    setTimeout(() => {\n      this.position.x = -9999;\n      this.currentSprite = this.sprites.idle;\n      this.statusActive = false;\n  }, 550);\n    this.hits = 0;\n  } \n  restore() {\n    this.position.x = this.temporaryPosX;\n    this.statusActive = true;\n  }\n}\n\nclass SpaceToggledPlatform extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.type = 'toggledBySpacePlatform';\n    this.statusActive = false;\n    this.sprites = {\n      idle: createImage(deadSignalZoneHover, 36, 36),\n      disabled: createImage(platformOneDisabled, 36, 36),\n    }\n    this.currentSprite = this.sprites.idle;\n    this.frequency = 63;\n    this.setCount = null;\n  }\n  checkSpaceToggleCounter() {\n   keys.spaceToggleCounter >= 4 ? keys.spaceToggleCounter =  1 : keys.spaceToggleCounter; \n  }\n  collision() {\n    if (keys.spaceToggleCounter === this.setCount) {\n      this.statusActive = true;\n      super.collisionAbove();\n      super.collisionUnder();\n      super.collisionLeftSide();\n      if ((leftNeighboorBlockFromHero != undefined ||\n        leftNeighboorBlockFromHero != null) &&\n        keys.spaceToggleCounter === leftNeighboorBlockFromHero.setCount) {\n          super.collisionRightSide();\n      }\n      this.currentSprite = this.sprites.idle;\n      this.checkSpaceToggleCounter();\n    } else {\n      this.currentSprite = this.sprites.disabled;\n      this.statusActive = false;\n      this.checkSpaceToggleCounter();\n    // Hero is inside or outside of Platform (for toggled by space platformes and deadSignal zone platforms)   \n    if (platforms.some((block) => {\n      return (player.position.y + player.height * 0.75 >= block.top &&\n        player.position.y + player.height * 0.35 <= block.bottom &&\n        player.position.x + player.width * 0.75 >= block.left &&\n        player.position.x + player.width * 0.25 <= block.right);\n    })) {\n      keys.deadSignalZone = true;\n      player.alive && keys.space.pressed && gameSoundEffects(audio.toggleDisabled);\n      console.log('inside');\n    } else {\n      console.log('outside');\n      player.alive && keys.space.pressed && gameSoundEffects(audio.toggle);   \n      keys.deadSignalZone = false;\n    }\n    }\n  } \n}\n\nclass PlatformOne extends SpaceToggledPlatform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.type = 'platformOne';\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.setCount = 1;\n    this.sprites = {\n      idle: createImage(platformOne, 36, 36),\n      disabled: createImage(platformOneDisabled, 36, 36),\n    }\n  }\n}\n\nclass PlatformTwo extends SpaceToggledPlatform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.type = 'platformTwo';\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.setCount = 2;\n    this.sprites = {\n      idle: createImage(platformTwo, 36, 36),\n      disabled: createImage(platformTwoDisabled, 36, 36),\n    }\n  }\n}\n\nclass PlatformThree extends SpaceToggledPlatform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.type = 'platformThree';\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.setCount = 3;\n    this.sprites = {\n      idle: createImage(platformThree, 36, 36),\n      disabled: createImage(platformThreeDisabled, 36, 36),\n    }\n  }\n}\n\nclass DeadSignal extends SpaceToggledPlatform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.type = 'deadSignalZone';\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.statusActive = false;\n    this.frequency = 1;\n    this.sprites = {\n      idle: createImage(deadSignalZone, 36, 36),\n      disabled: createImage(deadSignalZoneHover, 36, 36),\n    }\n  }\n\n  hover() {\n    if ((player.left <= this.right &&\n      player.right >= this.left &&\n      player.top <= this.bottom &&\n      player.bottom >= this.top) &&\n      (platforms.some((block) => {\n        return (player.position.y + player.height * 0.75 >= block.top &&\n          player.position.y + player.height * 0.35 <= block.bottom &&\n          player.position.x + player.width * 0.75 >= block.left &&\n          player.position.x + player.width * 0.25 <= block.right);\n      }))\n      ) { // Inside of the block\n      this.checkSpaceToggleCounter();\n      this.currentSprite = this.sprites.idle;\n    } else if ((platforms.some((block) => { // Outside of the block\n      return (player.position.y + player.height * 0.75 >= block.top &&\n        player.position.y + player.height * 0.35 <= block.bottom &&\n        player.position.x + player.width * 0.75 >= block.left &&\n        player.position.x + player.width * 0.25 <= block.right)}))) {\n          this.currentSprite = this.sprites.disabled;\n      }\n  }\n\n  collision() {\n    this.hover(); // Hover the block when the hero is inside of it\n      // Hero is inside or outside of block (for toggled by space platformes and deadSignal zone platforms)   \n      if (platforms.some((block) => {\n        return (player.position.y + player.height * 0.75 >= block.top &&\n          player.position.y + player.height * 0.35 <= block.bottom &&\n          player.position.x + player.width * 0.75 >= block.left &&\n          player.position.x + player.width * 0.25 <= block.right);\n      })) {\n        keys.deadSignalZone = true;\n        console.log(keys.space.pressed)\n        player.alive && keys.space.pressed && gameSoundEffects(audio.toggleDisabled);\n        console.log('inside')\n      } else {\n        console.log('outside')   \n        keys.deadSignalZone = false;\n        player.alive && keys.space.pressed && gameSoundEffects(audio.toggle);\n      }\n  }\n} \n\nexport { Platform,\n        OneStep,\n        Fan,\n        JumpToggleActive,\n        JumpToggleDisabled,\n        PlatformOne,\n        PlatformTwo,\n        PlatformThree,\n        DeadSignal,\n        Brick_1,\n        Brick_2,\n        Finish,\n      }","import { canvas, c } from './Canvas';\nimport { createImage } from './Utils';\nimport { init, completeLevel } from '../index';\nimport { keys } from './Keys';\nimport { \n  platformImgSrc300,\n  heroIdleR,\n  heroIdleL,\n  heroRunR,\n  heroRunL,\n  heroJumpR,\n  heroJumpL,\n  heroFallR,\n  heroFallL,\n  heroDeath,\n  backgroundImg,\n  platformSolid,\n  platformOneStep,\n  platformOneStepExplosion,\n  platformJump,\n  platformJumpDisabled,\n  platformOne,\n  platformTwo,\n  platformThree,\n  platformOneDisabled,\n  platformTwoDisabled,\n  platformThreeDisabled,\n  saw,\n  fan,\n  spike,\n  deadSignalZone,\n  deadSignalZoneHover,\n  flamethrowerLeft,\n  flamethrowerRight,\n  flamethrowerUp,\n  flamethrowerDown,\n  brick_1,\n  brick_2,\n      } from '../js/Assets';\nimport { platforms, intersection, level } from '../index';\nimport { audio, gameSoundEffects, getRandomTrack, playNextTrack, volumeEffects, volumeMusic } from '../js/data/Audio';\n\nexport class Player {\n  constructor({ platforms = [] }, posX, posY, marginLeft = 0, marginTop = 0) {\n    this.platforms = platforms;\n    // this.margin = {\n    //   left: ,\n    //   right: ,\n    // }\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.velocity = {\n      x: 0,\n      y: 1,\n    }\n    this.type = 'player';\n    this.gravity = 0.25;\n    this.jumpHeight = 9; // 20 is higher\n    this.width = 32;\n    this.height = 32;\n    this.frequency = 21;\n    this.frames = 0;\n    this.alive = true;\n    this.completeLevel = false;\n    this.sprites = {\n      idle: {\n        right: createImage(heroIdleR, 32, 32),\n        left: createImage(heroIdleL, 32, 32),\n      },\n      run: {\n        right: createImage(heroRunR, 32, 32),\n        left: createImage(heroRunL, 32, 32),\n      },\n      jump: {\n        right: createImage(heroJumpR, 32, 32),\n        left: createImage(heroJumpL, 32, 32),\n      },\n      fall: {\n        right: createImage(heroFallR, 32, 32),\n        left: createImage(heroFallL, 32, 32),\n      },\n      death: createImage(heroDeath, 32, 32),\n    }\n    this.currentSprite = this.sprites.idle.right;\n  }\n            \n  get top() {\n    return this.position.y;\n  }\n  get bottom() {\n    return this.position.y + this.height;\n  }\n  get left() {\n    return this.position.x;\n  }\n  get right() {\n    return this.position.x + this.width;\n  }\n\n  set top(value) {\n    this.position.y = value;\n  }\n  set bottom(value) {\n    this.position.y = value;\n  }\n  set left(value) {\n    this.position.x = value;\n  }\n  set right(value) {\n    this.position.x = value;\n  }\n\n  draw() {\n    if (!this.currentSprite.loaded) return;\n    c.drawImage(this.currentSprite, 32 * this.frames, 0, 32, 32, this.left, this.top, this.width, this.height) // 32, 0, 32, 32 - player sprite crop (x, y, w, h)\n  }\n\n  die() {\n    this.velocity.x = 0;\n    this.velocity.y = -2;\n    this.gravity = 0;\n    this.currentSprite = this.sprites.death;\n    this.alive && gameSoundEffects(audio.heroDeath);\n    this.alive = false;\n    setTimeout(init, 550);\n  }\n\n  checkCollisionsAxes_X() {\n    // X-axes collision\n    for (let i = 0; i < this.platforms.length; i++) {\n      const platform = this.platforms[i];\n      // If a collision exists\n      switch(platform.type) {\n        case 'fan':\n        case 'solid':\n        case 'brick_1':\n        case 'brick_2':\n          if (this.left <= platform.right &&\n            this.right >= platform.left &&\n            this.top <= platform.bottom &&\n            this.bottom >= platform.top) {\n              if (this.velocity.x < 0) {// moving left       // <= -2\n                this.left = platform.right + 0.1;\n                break;\n              }\n              if (this.velocity.x > 0) {// moving right      // <= 2\n                this.left = platform.left - this.width - 0.1;\n                break;\n              }\n          }\n          break;\n\n        case 'jumpToggleActive':\n        if (keys.jumpToggleActive &&\n          this.left <= platform.right &&\n          this.right >= platform.left &&\n          this.top <= platform.bottom &&\n          this.bottom >= platform.top) {\n            if (this.velocity.x < 0) {// moving left       // <= -2\n              this.left = platform.right + 0.1;\n              break;\n            }\n            if (this.velocity.x > 0) {// moving right      // <= 2\n              this.left = platform.left - this.width - 0.1;\n              break;\n            }\n          }\n          break;\n\n        case 'jumpToggleDisabled':\n          if (!keys.jumpToggleActive &&\n            this.left <= platform.right &&\n            this.right >= platform.left &&\n            this.top <= platform.bottom &&\n            this.bottom >= platform.top) {\n              if (this.velocity.x < 0) {// moving left       // <= -2\n                this.left = platform.right + 0.1;\n                break;\n              }\n              if (this.velocity.x > 0) {// moving right      // <= 2\n                this.left = platform.left - this.width - 0.1;\n                break;\n              }\n            }\n          break;\n\n        case 'spikes':\n        case 'saw':\n          // Hero - platform collision (player is above the spike platform)\n          if (this.bottom <= platform.top + this.height / 3 &&\n            this.bottom + this.velocity.y >= platform.top + this.height / 3 &&   \n            this.right >= platform.left + this.width / 3 && \n            this.left <= platform.right - this.width / 3\n            ) {\n              //debugger\n              this.die();\n          }\n          // Hero - platform collision (player is under the platform)\n          if (this.top <= platform.bottom - Math.abs(this.velocity.y) &&\n            this.bottom + this.velocity.y >= platform.top + this.height / 3 && // + this.velocity.y // оставить!!\n            this.left >= platform.left - this.width / 1.5 &&\n            this.right <= platform.right + this.width / 1.5) {\n              //debugger\n              this.die();\n          }\n          break;\n\n        case 'oneStep':\n          if (platform.hits === 0 &&\n            this.left <= platform.right &&\n            this.right >= platform.left &&\n            this.top <= platform.bottom &&\n            this.bottom >= platform.top) {\n              if (this.velocity.x < 0) {// moves left       // <= -2\n                this.left = platform.right + 0.1;\n                keys.left.pressed = false;   \n                platform.hits++;\n                platform.destroy();\n                break;\n              }\n              if (this.velocity.x > 0) {// moves right      // <= 2\n                this.left = platform.left - this.width - 0.1;\n                keys.right.pressed = false;      \n                platform.hits++;\n                platform.destroy();\n                break;\n              }\n          }\n          break;\n          case 'finish':\n            if (this.left <= platform.right &&\n              this.right >= platform.left &&\n              this.top <= platform.bottom &&\n              this.bottom >= platform.top) {\n                // if (this.velocity.x < 0) {// moving left       // <= -2\n                //   this.left = platform.right + 0.1;\n                //   this.alive && gameSoundEffects(audio.nextLevel);\n                //   break;\n                // }\n                // if (this.velocity.x > 0) {// moving right      // <= 2\n                //   this.left = platform.left - this.width - 0.1;\n                //   this.alive && gameSoundEffects(audio.nextLevel);\n                //   break;\n                // }\n                this.alive && gameSoundEffects(audio.nextLevel);\n                this.completeLevel = true;\n                                                                      \n                init();\n            }\n          break;\n      }\n    }\n  }\n\n  checkCollisionsAxes_Y() {\n    // Y-axes collision\n    for (let i = 0; i < this.platforms.length; i++) {\n      const platform = this.platforms[i];\n      // If a collision exists\n      switch(platform.type) {\n        case 'fan':\n        case 'solid':\n        case 'brick_1':\n        case 'brick_2':\n          if (this.left <= platform.right &&\n            this.right >= platform.left &&\n            this.top <= platform.bottom &&\n            this.bottom >= platform.top) {\n              if (this.velocity.y < 0) {// moving up  // -0.25\n                this.velocity.y = 0;\n                this.top = platform.bottom + 0.1;\n                this.alive && gameSoundEffects(audio.bottomHit);\n                break;\n              }\n              if (this.velocity.y > 0) {// falling down  // 0.25\n                this.velocity.y = 0;\n                this.top = platform.top - this.height - 0.1;\n                break;\n              }\n          }\n          break;\n          \n        case 'jumpToggleActive':\n          if (keys.jumpToggleActive &&\n            this.left <= platform.right &&\n            this.right >= platform.left &&\n            this.top <= platform.bottom - this.height / 4 && // - this.height / 4 (поправка на прозрачность спрайта героя)\n            this.bottom >= platform.top) {\n              if (this.velocity.y < 0) {// moving up  // -0.25\n                this.velocity.y = 0;\n                this.top = platform.bottom + 0.1;\n                this.alive && gameSoundEffects(audio.bottomHit);\n                break;\n              }\n              if (this.velocity.y > 0) {// falling down  // 0.25\n                this.velocity.y = 0;\n                this.top = platform.top - this.height - 0.1;\n                this.alive && gameSoundEffects(audio.bottomHit);\n                break;\n              }\n          }\n          break;\n\n        case 'jumpToggleDisabled':\n          if (!keys.jumpToggleActive &&\n            this.left <= platform.right &&\n            this.right >= platform.left &&\n            this.top <= platform.bottom &&\n            this.bottom >= platform.top) {\n              if (this.velocity.y < 0) {// moving up  // -0.25\n                this.velocity.y = 0;\n                this.top = platform.bottom + 0.1;\n                break;\n              }\n              if (this.velocity.y > 0) {// falling down  // 0.25\n                this.velocity.y = 0;\n                this.top = platform.top - this.height - 0.1;\n                break;\n              }\n          }\n          break;\n\n\n        case 'oneStep':\n          if (platform.hits === 0 &&\n            this.left <= platform.right &&\n            this.right >= platform.left &&\n            this.top <= platform.bottom &&\n            this.bottom >= platform.top) {\n              if (this.velocity.y < 0) {// moving up  // -0.25\n                this.velocity.y = 0;\n                this.top = platform.bottom + 0.1;\n                keys.up.pressed = false;      \n                platform.hits++;\n                platform.destroy();\n                break;\n              }\n              if (this.velocity.y > 0) {// falling down  // 0.25\n                this.velocity.y = -this.jumpHeight; // 0\n                keys.up.pressed = false;      \n                platform.hits++;\n                platform.destroy();\n                this.top = platform.top - this.height - 0.1;\n                break;\n              }\n          }\n          break;\n          case 'finish':\n            if (this.left <= platform.right &&\n              this.right >= platform.left &&\n              this.top <= platform.bottom &&\n              this.bottom >= platform.top) {\n                // if (this.velocity.y < 0) {// moving up  // -0.25\n                //   this.velocity.y = 0;\n                //   this.top = platform.bottom + 0.1;\n                //   this.alive && gameSoundEffects(audio.nextLevel);\n                //   break;\n                // }\n                // if (this.velocity.y > 0) {// falling down  // 0.25\n                //   this.velocity.y = 0;\n                //   this.top = platform.top - this.height - 0.1;\n                //   this.alive && gameSoundEffects(audio.nextLevel);\n                //   break;\n                // }\n\n                this.alive && gameSoundEffects(audio.nextLevel);\n                this.completeLevel = true;\n                init();\n            }\n          break;\n        }\n    }\n  }\n\n  setGravity() {\n    this.velocity.y += this.gravity;\n    this.top += this.velocity.y;\n  }\n\n  update() {\n    this.frames++;\n    if (this.frames > this.frequency) this.frames = 0;\n    this.draw();\n    this.left += this.velocity.x;\n    this.checkCollisionsAxes_X(); // strict order\n    this.setGravity();            // strict order\n    this.checkCollisionsAxes_Y(); // strict order\n  }\n}","export const mySPA = (function() {\r\n\r\n  function View() {\r\n    let myContainerBtns = null;\r\n    let myContainerShow = null;\r\n\r\n    const HomeComponent = {\r\n      id: 'main',\r\n      title: 'Greeting',\r\n      render: (className = 'content__text') => {\r\n        return `\r\n        <section class=\"${className} greeting\">\r\n          <h2 class=\"greeting__text\">\r\n          Welcome to the wonderful world of Platform world! The young adventurer Virtual Boy sets off on a journey, help him overcome all the dangers and obstacles on his way...</p>\r\n        </section>`\r\n      }\r\n    };\r\n\r\n    const HowToPlayComponent = {\r\n      id: 'howtoplay',\r\n      title: 'How to play',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} controls\">\r\n            <h2 class=\"controls__title\">Controls:</h2>\r\n            <div class=\"controls__container\">\r\n              <img class=\"controls__img-key\" src=\"/assets/img/SPA/arrows.png\" alt=\"control arrows\">\r\n                <p class=\"controls__text\">Press Left and Right arrows to control character movement.<br>Press press Up arrow to jump.</p>\r\n                  <img class=\"controls__img-key\" src=\"/assets/img/SPA/space.png\" alt=\"space key\">\r\n                    <p class=\"controls__text\">Press Space to toggle the active and inactive state of the platform <span>One / Two / Three</span></p>\r\n                      <img class=\"controls__img-letter\" src=\"/assets/img/SPA/m.png\" alt=\"m key\">\r\n                        <p class=\"controls__text\">Press <span>M</span> to return to the menu</p>\r\n                          <img class=\"controls__img-letter\" src=\"/assets/img/SPA/f.png\" alt=\"m key\">\r\n                            <p class=\"controls__text\">Press <span>F</span> to open the game in full screen</p>      \r\n            </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const SettingsComponent = {\r\n      id: 'settings',\r\n      title: 'Settings',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} settings\">\r\n            <h2 class=\"settings__title\">Audio settings:</h2>\r\n              <div class=\"settings__slider-box\">\r\n                <label for=\"volume-sounds\">Sound effects</label>\r\n                <input type=\"range\" id=\"volume-snd\" class=\"settings__slider settings__slider_hover\" name=\"volume-sounds\"\r\n                  min=\"0.1\" max=\"1\" value=\"0.8\" step=\"0.1\">   \r\n                    <label for=\"volume-music\">Music</label>\r\n                    <input type=\"range\" id=\"volume-msc\" class=\"settings__slider settings__slider_hover\" name=\"volume-music\" \r\n                      min=\"0.1\" max=\"1\" value=\"0.7\" step=\"0.1\">\r\n              </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const DescriptionComponent = {\r\n      id: 'description',\r\n      title: 'Description',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} description\">\r\n            <h2 class=\"description__title\">Tutorial:</h2>\r\n              <div class=\"description__content\">\r\n                  <p>Jump on platforms avoiding spikes and circular saws as you gradually move towards the finish line.</p>\r\n                  <p><span>Platforms One / Two / Three</span> can be active or inactive (switch their state with the <span>Space</span> key).</p>\r\n                  <p>The <span>Jump-Toggle-Switch</span> platform also changes its state every time the character jumps. Being on platforms <span>One / Two / Three</span>, be careful, you need to catch the right moment of switching during the jump.</p>\r\n                  <p><span>One-Step platform</span> - allows only a single presence of a character. After leaving this platform by the character or his collision with it, it is destroyed.<p/>\r\n                  <p>When encountering <span>dragons</span>, be careful, their fireballs are deadly.</p>\r\n                  <p>You can also encounter <span>Signal-Suppressor-Zones</span> in which the character cannot control the switching of states of <span>One / Two / Three</span> platforms.<p/>\r\n                  <p>Are you ready to take on the challenge?</p>\r\n              </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const StartComponent = {\r\n      id: 'game',\r\n      title: 'Start game',\r\n      render: (className = \"container\") => {\r\n        return `\r\n          <section class=\"${className} level\">\r\n            <h2 class=\"level__title\">Select level:</h2>\r\n            <div class=\"level__list\">\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\">1</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>2</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>3</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>4</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>5</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>6</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>7</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>8</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>9</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>10</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>11</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>12</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>13</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>14</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>15</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>16</button>\r\n              <button class=\"level__item level__item_hover level__item_active level__item_disabled\" disabled>17</button>\r\n            </div>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const ErrorComponent = {\r\n      id: 'error',\r\n      title: '404',\r\n      render: (className = 'container') => {\r\n        return `\r\n          <section class=\"${className} error\">\r\n            <img class=\"error__img\" src=\"/assets/img/SPA/404.png\" alt=\"error 404\">\r\n            <p class=\"error__msg\">Page not found (<span>404</span> error), please try to return to the <a href=\"#main\">main page</a>.</p>\r\n          </section>\r\n        `;\r\n      }\r\n    };\r\n\r\n    const router = {\r\n      main: HomeComponent,\r\n      howtoplay: HowToPlayComponent,\r\n      settings: SettingsComponent,\r\n      description: DescriptionComponent,\r\n      game: StartComponent,\r\n      default: HomeComponent,\r\n      error: ErrorComponent\r\n    };\r\n\r\n    this.init = function(container_btns, container_show) {\r\n      myContainerBtns = container_btns;\r\n      myContainerShow = container_show;\r\n    }\r\n\r\n    this.updateButtons = function(currentPage) {\r\n      const menuLinks = myContainerBtns.querySelectorAll('.nav__link');\r\n      const state = `#${currentPage}`;\r\n\r\n      for (let link of menuLinks) {\r\n        state === link.getAttribute('href') ? link.classList.add('active') : link.classList.remove('active');\r\n      }\r\n    }\r\n\r\n    this.renderContent = function(hashPageName) {\r\n      let routeName = 'default';\r\n\r\n      if (hashPageName.length > 0) {\r\n        routeName = hashPageName in router ? hashPageName : 'error';\r\n      }\r\n\r\n      window.document.title = router[routeName].title;\r\n      myContainerShow.innerHTML = router[routeName].render(`${routeName}-page`);\r\n      this.updateButtons(router[routeName].id);\r\n    }\r\n  };\r\n\r\n  function Model () {\r\n      let myView = null;\r\n\r\n      this.init = function(view) {\r\n        myView = view;\r\n      }\r\n\r\n      this.updateState = function(hashPageName) {\r\n        myView.renderContent(hashPageName);\r\n      }\r\n  }\r\n\r\n  function Controller () {\r\n      let myContainer = null;\r\n      let myModel = null;\r\n\r\n      this.init = function(container, model) {\r\n        myContainer = container;\r\n        myModel = model;\r\n        window.addEventListener('hashchange', this.updateState);\r\n        this.updateState();\r\n      }\r\n\r\n      this.updateState = function() {\r\n        const hashPageName = location.hash.slice(1).toLowerCase();\r\n        myModel.updateState(hashPageName);\r\n      }\r\n  };\r\n\r\n  /* Init */\r\n  return {\r\n      init: function(container_btns, container_show) {\r\n        this.initBuildHtml();\r\n        this.main();\r\n        const view = new View();\r\n        const model = new Model();\r\n        const controller = new Controller();\r\n\r\n        view.init(document.getElementById(container_btns), document.getElementById(container_show));\r\n        model.init(view);\r\n        controller.init(document.getElementById(container_btns), model); // можно передавать только model\r\n      },\r\n\r\n      main: function() {\r\n      },\r\n\r\n      initBuildHtml: function() {\r\n        const app = document.createElement('div');\r\n        app.id = 'game-app';\r\n        app.className = 'game-app';\r\n        app.innerHTML = `\r\n        <header class=\"header\">\r\n          <img class=\"cloud-1\" src=\"/assets/img/SPA/cloud_1.png\"  alt=\"cloud first\">\r\n          <img class=\"cloud-2\" src=\"/assets/img/SPA/cloud_2.png\"  alt=\"cloud second\">\r\n          <img class=\"cloud-3\" src=\"/assets/img/SPA/cloud_3.png\"  alt=\"cloud third\">\r\n          <img class=\"cloud-4\" src=\"/assets/img/SPA/cloud_4.png\"  alt=\"cloud fourth\">\r\n            <div class=\"header__wrapper\">\r\n              <img class=\"header__logo\" src=\"/assets/img/SPA/logo.png\" alt=\"logo\">\r\n                <div class=\"header__logo-box\">\r\n                  <img class=\"header__logo-2\" src=\"/assets/img/SPA/logo_2.png\" alt=\"logo small\">\r\n                    <p class=\"header__title\">Platform traveller</p>\r\n                </div>\r\n                  <div class=\"bird-container\">\r\n                    <img class=\"bird\" src=\"/assets/img/SPA/flying.gif\" alt=\"bird\">\r\n                  </div>\r\n                      <nav id=\"root\" class=\"header__nav nav\">\r\n                        <ul class=\"nav__list\">\r\n                          <li class=\"nav__item\">\r\n                            <a href=\"#howtoplay\" class=\"nav__link\">How to play</a>\r\n                          </li>\r\n                            <li class=\"nav__item\">\r\n                              <a href=\"#settings\" class=\"nav__link\">Settings</a>\r\n                            </li>\r\n                              <li class=\"nav__item\">\r\n                                <a href=\"#description\" class=\"nav__link\">Description</a>\r\n                              </li>\r\n                                <li class=\"nav__item\">\r\n                                  <a href=\"#game\" class=\"nav__btn nav__btn_hover nav__link\">Select level</a>\r\n                                </li>\r\n                          </ul>\r\n                      </nav>\r\n            </div>\r\n        </header>\r\n          <main id=\"content\" class=\"content\">\r\n          </main>`;\r\n        document.body.prepend(app);\r\n      }\r\n  };\r\n}());","import { canvas, c } from './Canvas';\nimport { platforms } from '../index';\nimport { player } from '../index';\nimport { createImage } from './Utils';\nimport { Platform,\n  OneStep,\n  Fan,\n  JumpToggleActive,\n  JumpToggleDisabled,\n  PlatformOne,\n  PlatformTwo,\n  PlatformThree,\n  DeadSignal,\n} from './Platform';\nimport { platformImgSrc300,\n  heroIdleR,\n  heroIdleL,\n  heroRunR,\n  heroRunL,\n  heroJumpR,\n  heroJumpL,\n  heroFallR,\n  heroFallL,\n  heroDeath,\n  backgroundImg,\n  platformSolid,\n  platformOneStep,\n  platformOneStepExplosion,\n  platformJump,\n  platformJumpDisabled,\n  platformOne,\n  platformTwo,\n  platformThree,\n  platformOneDisabled,\n  platformTwoDisabled,\n  platformThreeDisabled,\n  saw,\n  fan,\n  spike,\n  deadSignalZone,\n  deadSignalZoneHover,\n  flamethrowerLeft,\n  flamethrowerRight,\n  flamethrowerUp,\n  flamethrowerDown,\n  fireballUp,\n  fireballDown,\n  fireballLeft,\n  fireballRight,\n  brick_1,\n  brick_2,\n      } from './Assets';\nimport { audio, gameSoundEffects } from '../js/data/Audio';\n\nclass PlatformSpikes extends Platform {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.type = 'spikes';\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.statusActive = true;\n  }\n  collision() {\n  // Player - platform collision (player is above the spike platform)\n    if (player.bottom <= this.position.y &&\n      player.bottom + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\n      player.right >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\n      player.left <= this.position.x + this.width - player.width / 3) { \n      player.die();\n    }\n    // Player - platform collision (player is under the platform)\n    if (player.top <= this.position.y + this.height &&\n      player.bottom + player.velocity.y >= this.position.y &&\n      player.left >= this.position.x - player.width / 2 && // можно сделать 1.75\n      player.right <= this.position.x + this.width + player.width / 2) {\n        player.die();\n    }\n  }\n}\n\nclass Saw extends PlatformSpikes {\n  constructor(posX, posY, image, platforms, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, marginLeft, marginTop);\n    this.type = 'saw';\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.frequency = 23;\n  }\n}\n\nclass Flamethrower {\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\n    this.type = 'flamethrower';\n    this.statusActive = true;\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n    this.bulletFlight = { // speed and direction\n      x: 0 + marginLeft,\n      y: 0 + marginTop,\n    }\n    this.width = 36;\n    this.height = 36;\n    this.bulletSpeed = 2;//2\n    this.caliber = 36; // Bullet size\n    this.delay = 200;\n    this.bulletController = bulletController;\n    this.platforms = platforms;\n    this.frames = 1;\n    this.frequency = 79;\n    this.sprites = {\n      idle: image,\n    }\n    this.currentSprite = this.sprites.idle;\n  }\n  draw() {\n    // c.strokeStyle = \"yellow\";\n    // c.strokeRect(this.position.x, this.position.y, this.width, this.height);\n    // c.fillStyle = \"black\";\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height);\n    if (!this.currentSprite.loaded) return;\n    this.frames++;\n    if (this.frames > this.frequency) this.frames = 0;\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height);\n    this.shoot();\n    this.bulletController.draw();\n  }\n  shoot() {\n    const delay = this.delay;\n    let bullet_X, bullet_Y;\n    //Bullet position x/y axes\n    switch(this.type) {\n  case 'flamethrowerLeft': bullet_X = this.position.x - this.caliber / 3; // bullet_X = this.position.x - this.caliber;\n        break;\n  case 'flamethrowerRight': bullet_X = this.position.x + this.width - this.caliber * 0.7; // bullet_X = this.position.x + this.width;\n        break;\n      case 'flamethrowerUp':\n      case 'flamethrowerDown': bullet_X = this.position.x + this.width / 2 - this.caliber / 2;\n        break;\n    }\n    switch(this.type) {\n      case 'flamethrowerLeft':\n      case 'flamethrowerRight': bullet_Y = this.position.y + this.height / 2 - this.caliber / 3.5; // bullet_Y = this.position.y + this.height / 2 - this.caliber / 2;\n        break;\n      case 'flamethrowerUp': bullet_Y = this.position.y - this.caliber / 3; // bullet_Y = this.position.y - this.caliber;\n        break;\n      case 'flamethrowerDown': bullet_Y = this.position.y + this.height - this.caliber * 0.75; // bullet_Y = this.position.y + this.height;\n        break;\n    }\n    // Bullet velocity x/y axes\n    switch(this.type) {\n      case 'flamethrowerLeft': this.bulletFlight.x = this.bulletSpeed;\n        break;\n      case 'flamethrowerRight': this.bulletFlight.x = -this.bulletSpeed;\n        break;\n      case 'flamethrowerUp':\n      case 'flamethrowerDown': this.bulletFlight.x = 0;\n        break;\n    }\n    switch(this.type) {\n      case 'flamethrowerLeft':\n      case 'flamethrowerRight': this.bulletFlight.y = 0;\n        break;\n      case 'flamethrowerUp': this.bulletFlight.y = this.bulletSpeed;\n        break;\n      case 'flamethrowerDown': this.bulletFlight.y = -this.bulletSpeed;\n        break;\n    }\n    this.bulletController.shoot(bullet_X, bullet_Y, delay, this.bulletFlight.x, this.bulletFlight.y, this.caliber, this.type, this.platforms);\n  }\n  collision() {\n    // Player - platform collision (player is above the spike platform)\n      if (player.position.y + player.height <= this.position.y &&\n        player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\n        // Player - platform collision (player on the platform - inside of left and right platform boundaries)\n        player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\n        player.position.x <= this.position.x + this.width - player.width / 3) { \n        player.die();\n      }\n      // Player - platform collision (player is under the platform)\n      if (player.position.y <= this.position.y + this.height &&\n        player.position.y + player.height + player.velocity.y >= this.position.y &&\n        player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\n        player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\n          player.die();\n      }\n    }\n  update() {\n    console.log('Fire!');\n  }\n}\n\n\nclass FlamethrowerLeft extends Flamethrower {\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\n    this.type = 'flamethrowerLeft';\n    this.position = {\n      x: posX + marginLeft,\n      y: posY + marginTop,\n    }\n  }\n}\n\nclass FlamethrowerRight extends Flamethrower {\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\n    this.type = 'flamethrowerRight';\n  }\n}\n\nclass FlamethrowerUp extends Flamethrower {\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\n    this.type = 'flamethrowerUp';\n  }\n}\n\nclass FlamethrowerDown extends Flamethrower {\n  constructor(posX, posY, image, platforms, bulletController, marginLeft = 0, marginTop = 0) {\n    super(posX, posY, image, platforms, bulletController, marginLeft, marginTop);\n    this.type = 'flamethrowerDown';\n  }\n}\n\nclass BulletController {\n  constructor() {\n    this.platforms = null;\n    this.caliber = null;\n  }\n  bullets = [];\n  timerTillNextBullet = 0;\n  \n  shoot(posX, posY, delay, flight_X, flight_Y, caliber, directionFlametrowerType, platforms) {\n    this.platforms = platforms;\n    this.caliber = caliber;\n    if (this.timerTillNextBullet <= 0) {\n      this.bullets.push(new Bullet(posX, posY, flight_X, flight_Y, caliber, directionFlametrowerType, platforms));\n      this.timerTillNextBullet = delay;\n    }\n    this.timerTillNextBullet--;\n  }\n\n  draw() {\n                                // if (!this.currentSprite.loaded) return;\n    this.bullets.forEach((bullet) => {\n      if (this.isBulletOffScreen(bullet)) {\n        const index = this.bullets.indexOf(bullet);\n        this.bullets.splice(index, 1);\n      }\n      bullet.draw();\n      bullet.collision();\n      this.collisionWithBlocks(bullet);\n    });\n  }\n\n  collisionWithBlocks(bullet) {\n    this.platforms.forEach((block) => {\n      (block.statusActive &&\n      bullet.position.x + bullet.width * 0.1 <= block.right &&\n      bullet.position.x >= block.left &&\n      bullet.position.y <= block.bottom &&\n      bullet.position.y >= block.top) && this.destroy(bullet);\n    })\n    \n  }\n  destroy(bullet) {\n\n    const index = this.bullets.indexOf(bullet);\n    this.bullets.splice(index, 1);\n\n\n  }\n\n  collideWith(sprite) {\n    return this.bullets.some((bullet) => {\n      if (bullet.collideWith(sprite)) {\n        this.bullets.splice(this.bullets.indexOf(bullet), 1);\n        return true;\n      }\n      return false;\n    });\n  }\n\n  isBulletOffScreen(bullet) {\n    return (bullet.position.y <= 0 ||\n      bullet.position.y >= canvas.height ||\n      bullet.position.x <= 0 ||\n      bullet.position.x >= canvas.width);\n  }\n}\n\n\n\nclass Bullet {\n  constructor(posX, posY, flight_X, flight_Y, caliber, directionFlametrowerType, platforms, marginLeft = 0, marginTop = 0) {\n    this.position = {\n      x: posX,\n      y: posY,\n    }\n    this.type = directionFlametrowerType;\n    this.flight_X = flight_X;\n    this.flight_Y = flight_Y;\n    this.width = caliber;\n    this.height = caliber;\n    this.frames = 1;\n    this.frequency = 23;\n    this.platforms = platforms;\n    this.sprites = {\n      left: createImage(fireballLeft, 36, 36),\n      right: createImage(fireballRight, 36, 36),\n      up: createImage(fireballUp, 36, 36),\n      down: createImage(fireballDown, 36, 36),\n    }\n\n    switch(this.type) {\n      case 'flamethrowerLeft': this.currentSprite = this.sprites.left;\n        break;\n      case 'flamethrowerRight': this.currentSprite = this.sprites.right;\n        break;\n      case 'flamethrowerUp': this.currentSprite = this.sprites.up;\n        break;\n      case 'flamethrowerDown': this.currentSprite = this.sprites.down;\n        break;\n    }\n  }\n\n  draw() {\n    if (!this.currentSprite.loaded) return;\n    this.position.x -= this.flight_X;\n    this.position.y -= this.flight_Y;\n    this.frames++;\n    if (this.frames > this.frequency) this.frames = 0;\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height);\n  }\n\n  collision() {\n\n    if (player.top + player.height * 0.3 >= this.position.y &&\n      player.top + player.height * 0.3 <= this.position.y + this.height &&\n      player.left + player.width * 0.3 >= this.position.x &&\n      player.left + player.width * 0.3 <= this.position.x + this.width) {\n        player.die();\n      }\n    }\n  // collisionWithBlocks() {\n  //   this.platforms.forEach((block) => {\n  //     if (this.position.x <= block.right &&\n  //       this.position.x + this.width >= block.left &&\n  //       this.position.y <= block.bottom &&\n  //       this.position.y + this.height > block.top) {\n  //     }\n  //   })\n    \n  // }\n  // destroy() {\n  //   console.log('Ouch!')\n  // }\n\n  // collideWith(sprite) {\n  //   if (\n  //     this.x < sprite.x + sprite.width &&\n  //     this.x + this.width > sprite.x &&\n  //     this.y < sprite.y + sprite.height &&\n  //     this.y + this.height > sprite.y\n  //   ) {\n  //     sprite.takeDamage();\n  //     return true;\n  //   }\n  //   return false;\n  // }\n}\n\n\n\n\n\n\nexport {\n  PlatformSpikes,\n  Saw,\n  FlamethrowerLeft,\n  FlamethrowerRight,\n  FlamethrowerUp,\n  FlamethrowerDown,\n  BulletController,\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import { canvas, c } from './Canvas';\n\n// import { Platform,\n//   OneStep,\n//   Fan,\n//   JumpToggleActive,\n//   JumpToggleDisabled,\n//   PlatformOne,\n//   PlatformTwo,\n//   PlatformThree,\n//   DeadSignal,\n// } from './Platform';\n// import { platformImgSrc300,\n//   heroIdleR,\n//   heroIdleL,\n//   heroRunR,\n//   heroRunL,\n//   heroJumpR,\n//   heroJumpL,\n//   heroFallR,\n//   heroFallL,\n//   heroDeath,\n//   backgroundImg,\n//   platformSolid,\n//   platformOneStep,\n//   platformOneStepExplosion,\n//   platformJump,\n//   platformJumpDisabled,\n//   platformOne,\n//   platformTwo,\n//   platformThree,\n//   platformOneDisabled,\n//   platformTwoDisabled,\n//   platformThreeDisabled,\n//   saw,\n//   fan,\n//   spike,\n//   deadSignalZone,\n//   deadSignalZoneHover,\n//   flamethrowerLeft,\n//   flamethrowerRight,\n//   // flamethrowerUp,\n//   // flamethrowerDown,\n//    flamethrowerVertical,\n\n//       } from './Assets';\n\n\n// class PlatformSpikes extends Platform {\n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'spikes';\n//   }\n//   collision() {\n//   // Player - platform collision (player is above the spike platform)\n//     if (player.position.y + player.height <= this.position.y &&\n//       player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\n//       // Player - platform collision (player on the platform - inside of left and right platform boundaries)\n//       player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\n//       player.position.x <= this.position.x + this.width - player.width / 3) { \n//       player.die();\n//     }\n//     // Player - platform collision (player is under the platform)\n//     if (player.position.y <= this.position.y + this.height &&\n//       player.position.y + player.height + player.velocity.y >= this.position.y &&\n//       player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\n//       player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\n//         player.die();\n//     }\n//   }\n// }\n\n// class Saw extends PlatformSpikes {\n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'saw';\n//     this.frequency = 23;\n//   }\n// }\n\n// class Bullet {\n//   constructor(flamethrowerPos_X, flamethrowerPos_Y, flamethrowerWidth, flamethrowerHeight, flamethrowerType, image) {\n//     this.position = {\n//       x: null,\n//       y: null //canvas.height / 2\n//     }\n//     this.velocity = {\n//       x: null,  // 0\n//       y: null   // 1\n//     }\n//     this.width = 15 //image.width;\n//     this.height = 15 //image.height;\n//     this.bulletSpeed = 1;\n//     // Bullet position x/y axes\n//     switch(flamethrowerType) {\n//       case 'flamethrowerLeft': this.position.x = flamethrowerPos_X;\n//         break;\n//       case 'flamethrowerRight': this.position.x = flamethrowerPos_X + flamethrowerWidth;\n//         break;\n//       case 'flamethrowerUp':\n//       case 'flamethrowerDown': this.position.x = flamethrowerPos_X + flamethrowerWidth / 2;\n//         break;\n//     }\n//     switch(flamethrowerType) {\n//       case 'flamethrowerLeft':\n//       case 'flamethrowerRight': this.position.y = flamethrowerPos_Y + flamethrowerHeight / 2;\n//         break;\n//       case 'flamethrowerUp': this.position.y = flamethrowerPos_Y;\n//         break;\n//       case 'flamethrowerDown': this.position.y = flamethrowerPos_X + flamethrowerHeight;\n//         break;\n//     }\n//     // Bullet velocity x/y axes\n//     switch(flamethrowerType) {\n//       case 'flamethrowerLeft': this.velocity.x = -this.bulletSpeed;\n//         break;\n//       case 'flamethrowerRight': this.velocity.x = this.bulletSpeed;\n//         break;\n//       case 'flamethrowerUp':\n//       case 'flamethrowerDown': this.velocity.x = 0;\n//         break;\n//     }\n//     switch(flamethrowerType) {\n//       case 'flamethrowerLeft':\n//       case 'flamethrowerRight': this.velocity.y = 0;\n//         break;\n//       case 'flamethrowerUp': this.velocity.y = -this.bulletSpeed;\n//         break;\n//       case 'flamethrowerDown': this.velocity.y = this.bulletSpeed;\n//         break;\n//     }\n//     this.frames = 0;\n//     this.frequency = 28;\n//     this.sprites = {\n//       idle: this.image,\n//     }\n//     this.currentSprite = this.sprites.idle;\n//     this.type = 'bullet';\n//   }\n\n// draw() {\n//   // c.clearRect(this.position.x, this.position.y, this.width, this.height);\n//   console.log('Shoot!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!')\n//   c.fillStyle = 'black';\n//   c.fillRect(this.position.x, this.position.y, this.width, this.height);\n//   //c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height) // 48, 0, 48, 48 - player sprite crop (x, y, w, h) // 36 размер кадра в спрайте\n// }\n// update() {\n//   this.frames++;\n//   if (this.frames > this.frequency) this.frames = 0;\n//   this.position.x += this.velocity.x;\n//   console.log(this.position.x)\n//   //this.draw();\n// }\n// }\n\n// let bullet;\n\n// class Flamethrower extends PlatformSpikes {\n  \n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'flamethrower';\n//     this.frequency = 79;\n//     this.bullets = [];\n//   }\n//   shoot() {\n//     //this.update();\n//     setInterval(() => this.bullets.push(new Bullet(this.left, this.right, this.width, this.height, this.type, saw)), 1000);\n//     //this.bullets.forEach((bullet) => bullet.update());\n//   }\n// }\n\n\n// class FlamethrowerLeft extends Flamethrower {\n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'flamethrowerLeft';\n//   }\n// }\n\n// class FlamethrowerRight extends Flamethrower {\n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'flamethrowerRight';\n//   }\n// }\n\n// class FlamethrowerVertical extends Flamethrower {\n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'flamethrowerVertical';\n//   }\n// }\n\n// class FlamethrowerUp extends Flamethrower {\n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'flamethrowerUp';\n//   }\n// }\n\n// class FlamethrowerDown extends Flamethrower {\n//   constructor(posX, posY, image) {\n//     super(posX, posY, image);\n//     this.type = 'flamethrowerDown';\n//   }\n// }\n\n// export {\n//   PlatformSpikes,\n//   Saw,\n//   FlamethrowerLeft,\n//   FlamethrowerRight,\n//   FlamethrowerVertical,\n// }\n","function createImage(src, width, height) {\n  const image = new Image();\n\n                              image.onload = () => {\n                                image.loaded = true;\n                              }\n                              image.loaded = false;\n\n  image.src = src;\n  image.width = width;\n  image.height = height;\n  return image;\n}\n\n\nfunction randomNumber(min = 0, max) {\n  return Math.floor(min + Math.random() * (max + 1 - min));\n}\n\n\nexport { createImage, randomNumber };\n\n// export class Sprite {\n//   constructor ({ position, imageSrc }) {\n//     this.position = position;\n//     this.image = new Image();\n//     this.image.onload = () => {\n//       this.loaded = true;\n//     }\n//     this.image.src = imageSrc;\n//     this.loaded = false;\n//   }\n//   draw() {\n//                                 if (!this.loaded) return; // if (!this.currentSprite) return;\n//     c.drawImage(this.image, this.position.x, this.position.y)\n//   }\n// }","// import blockHit_MP3 from '/assets/sounds/effects/mp3/block_hit.mp3';\n// import blockHit_OGG from '/assets/sounds/effects/ogg/block_hit.ogg';\nimport blockHit_MP3 from '../../../assets/sounds/effects/mp3/block_hit.mp3';\nimport blockHit_OGG from '../../../assets/sounds/effects/ogg/block_hit.ogg';\nimport bottomHit_MP3 from '../../../assets/sounds/effects/mp3/bottom_hit.mp3';\nimport bottomHit_OGG from '../../../assets/sounds/effects/ogg/bottom_hit.ogg';\nimport choose_MP3 from '../../../assets/sounds/effects/mp3/choose.mp3';\nimport choose_OGG from '../../../assets/sounds/effects/ogg/choose.ogg';\nimport explosionBlock_MP3 from '../../../assets/sounds/effects/mp3/explosion_block.mp3';\nimport explosionBlock_OGG from '../../../assets/sounds/effects/ogg/explosion_block.ogg';\nimport fallingInDepth_MP3 from '../../../assets/sounds/effects/mp3/falling_in_depth.mp3';\nimport fallingInDepth_OGG from '../../../assets/sounds/effects/ogg/falling_in_depth.ogg';\nimport fallingInDepth2_MP3 from '../../../assets/sounds/effects/mp3/falling_in_depth_2.mp3';\nimport fallingInDepth2_OGG from '../../../assets/sounds/effects/ogg/falling_in_depth_2.ogg';\nimport fire_MP3 from '../../../assets/sounds/effects/mp3/fire.mp3';\nimport fire_OGG from '../../../assets/sounds/effects/ogg/fire.ogg';\nimport heroDeath_MP3 from '../../../assets/sounds/effects/mp3/hero_death.mp3';\nimport heroDeath_OGG from '../../../assets/sounds/effects/ogg/hero_death.ogg';\nimport jump_MP3 from '../../../assets/sounds/effects/mp3/jump.mp3';\nimport jump_OGG from '../../../assets/sounds/effects/ogg/jump.ogg';\nimport jumpOnSpaceToggledPlatform_MP3 from '../../../assets/sounds/effects/mp3/jump_on_space_toggled_platform.mp3';\nimport jumpOnSpaceToggledPlatform_OGG from '../../../assets/sounds/effects/ogg/jump_on_space_toggled_platform.ogg';\nimport nextLevel_MP3 from '../../../assets/sounds/effects/mp3/next_level.mp3';\nimport nextLevel_OGG from '../../../assets/sounds/effects/ogg/next_level.ogg';\nimport ok_MP3 from '../../../assets/sounds/effects/mp3/ok.mp3';\nimport ok_OGG from '../../../assets/sounds/effects/ogg/ok.ogg';\nimport select_MP3 from '../../../assets/sounds/effects/mp3/select.mp3';\nimport select_OGG from '../../../assets/sounds/effects/ogg/select.ogg';\nimport teleport_MP3 from '../../../assets/sounds/effects/mp3/teleport.mp3';\nimport teleport_OGG from '../../../assets/sounds/effects/ogg/teleport.ogg';\nimport toggle_MP3 from '../../../assets/sounds/effects/mp3/toggle.mp3';\nimport toggle_OGG from '../../../assets/sounds/effects/ogg/toggle.ogg';\nimport toggleDisabled_MP3 from '../../../assets/sounds/effects/mp3/toggle_disabled.mp3';\nimport toggleDisabled_OGG from '../../../assets/sounds/effects/ogg/toggle_disabled.ogg';\nimport error_MP3 from '../../../assets/sounds/effects/mp3/error.mp3';\nimport error_OGG from '../../../assets/sounds/effects/ogg/error.ogg';\n\nimport track_1_MP3 from '../../../assets/sounds/music/mp3/track_1.mp3';\nimport track_1_OGG from '../../../assets/sounds/music/ogg/track_1.ogg';\nimport track_2_MP3 from '../../../assets/sounds/music/mp3/track_2.mp3';\nimport track_2_OGG from '../../../assets/sounds/music/ogg/track_2.ogg';\nimport track_3_MP3 from '../../../assets/sounds/music/mp3/track_3.mp3';\nimport track_3_OGG from '../../../assets/sounds/music/ogg/track_3.ogg';\nimport track_4_MP3 from '../../../assets/sounds/music/mp3/track_4.mp3';\nimport track_4_OGG from '../../../assets/sounds/music/ogg/track_4.ogg';\n\nimport { createImage, randomNumber } from '../Utils';\n\nlet volumeEffects = 1;\nlet volumeMusic = 0.8;\n\n\n\n\nconst audio = {\n  isCanPlay: new Audio(),\n  blockHit: {\n    src_MP3: new Audio(blockHit_MP3),\n    src_OGG: new Audio(blockHit_OGG),\n    volume: volumeEffects,\n  },\n  bottomHit: {\n    src_MP3: new Audio(bottomHit_MP3),\n    src_OGG: new Audio(bottomHit_OGG),\n    volume: volumeEffects,\n  },\n  choose: {\n    src_MP3: new Audio(choose_MP3),\n    src_OGG: new Audio(choose_OGG),\n    volume: volumeEffects,\n  },\n  explosionBlock: {\n    src_MP3: new Audio(explosionBlock_MP3),\n    src_OGG: new Audio(explosionBlock_OGG),\n    volume: volumeEffects,\n  },\n  fallingInDepth: {\n    src_MP3: new Audio(fallingInDepth_MP3),\n    src_OGG: new Audio(fallingInDepth_OGG),\n    volume: volumeEffects,\n  },\n  fallingInDepth2: {\n    src_MP3: new Audio(fallingInDepth2_MP3),\n    src_OGG: new Audio(fallingInDepth2_OGG),\n    volume: volumeEffects,\n  },\n  fire: {\n    src_MP3: new Audio(fire_MP3),\n    src_OGG: new Audio(fire_OGG),\n    volume: volumeEffects,\n  },\n  heroDeath: {\n    src_MP3: new Audio(heroDeath_MP3),\n    src_OGG: new Audio(heroDeath_OGG),\n    volume: volumeEffects,\n  },\n  jump: {\n    src_MP3: new Audio(jump_MP3),\n    src_OGG: new Audio(jump_OGG),\n    volume: volumeEffects,\n  },\n  jumpOnSpaceToggledPlatform: {\n    src_MP3: new Audio(jumpOnSpaceToggledPlatform_MP3),\n    src_OGG: new Audio(jumpOnSpaceToggledPlatform_OGG),\n    volume: volumeEffects / 2,\n  },\n  nextLevel: {\n    src_MP3: new Audio(nextLevel_MP3),\n    src_OGG: new Audio(nextLevel_OGG),\n    volume: volumeEffects,\n  },\n  ok: {\n    src_MP3: new Audio(ok_MP3),\n    src_OGG: new Audio(ok_OGG),\n    volume: volumeEffects,\n  },\n  select: {\n    src_MP3: new Audio(select_MP3),\n    src_OGG: new Audio(select_OGG),\n    volume: volumeEffects,\n  },\n  teleport: {\n    src_MP3: new Audio(teleport_MP3),\n    src_OGG: new Audio(teleport_OGG),\n    volume: volumeEffects,\n  },\n  toggle: {\n    src_MP3: new Audio(toggle_MP3),\n    src_OGG: new Audio(toggle_OGG),\n    volume: volumeEffects,\n  },\n  toggleDisabled: {\n    src_MP3: new Audio(toggleDisabled_MP3),\n    src_OGG: new Audio(toggleDisabled_OGG),\n    volume: volumeEffects,\n  },\n  error: {\n    src_MP3: new Audio(error_MP3),\n    src_OGG: new Audio(error_OGG),\n    volume: volumeEffects,\n  },\n\n  track_1: {\n    src_MP3: new Audio(track_1_MP3),\n    src_OGG: new Audio(track_1_OGG),\n    volume: volumeMusic,\n  },\n  track_2: {\n    src_MP3: new Audio(track_2_MP3),\n    src_OGG: new Audio(track_2_OGG),\n    volume: volumeMusic,\n  },\n  track_3: {\n    src_MP3: new Audio(track_3_MP3),\n    src_OGG: new Audio(track_3_OGG),\n    volume: volumeMusic,\n  },\n  track_4: {\n    src_MP3: new Audio(track_4_MP3),\n    src_OGG: new Audio(track_4_OGG),\n    volume: volumeMusic,\n  },\n}\n\nlet source = null;\n // Choose supported source and preload\n;(function() {\n  if (audio.isCanPlay.canPlayType('audio/mpeg') === 'probably') {\n    source = 'src_MP3';\n    } else {\n      source = 'src_OGG';\n    }\n  for (let sound in audio) {\n    if (sound != 'isCanPlay') {\n      let { src_MP3: mp3, src_OGG: ogg } = audio[sound];\n        mp3.play();\n        mp3.pause();\n        ogg.play();\n        ogg.pause();\n      }\n    }\n})();\n\nfunction gameSoundEffects(item) {\n  item[source].currentTime = 0;\n  item[source].volume = item.volume;\n  item[source].play();\n}\n\nfunction getRandomTrack(playlist) {\n  let tracksList = [];\n  let track;\n  for (let sound in playlist) {\n    sound.includes('track') && tracksList.push(playlist[sound]);\n  }\n  track = tracksList[randomNumber(0, tracksList.length - 1)][source];\n  track.currentTime = 0;\n  track.volume = volumeMusic;\n  return track;\n}\n\nconst playNextTrack = (currentTrack, playlist) => {\n  let tracksList = [];\n  let currentTrackNumber = null;\n  for (let sound in playlist) {\n    sound.includes('track') && tracksList.push(playlist[sound]);\n  }\n  tracksList.forEach((track, index) => {\n    track[source] === currentTrack && (currentTrackNumber = index);\n  });\n  currentTrackNumber < (tracksList.length - 1) ? currentTrackNumber++ : currentTrackNumber = 0;\n              tracksList[currentTrackNumber][source].currentTime = 0;\n              tracksList[currentTrackNumber][source].volume = volumeMusic;\n  tracksList[currentTrackNumber][source].play();\n  tracksList[currentTrackNumber][source].onended = function() {\n    playNextTrack(tracksList[currentTrackNumber][source], audio);\n  }\n}\n\n// item[source].currentTime = 0;\n// item[source].volume = item.volume;\n\n\n\n\n\n\n\n// function gameSoundEffects(item) {\n//   if (audio.isCanPlay.canPlayType('audio/ogg') === 'probably') {\n//     item.src_OGG.currentTime = 0;\n//     item.src_OGG.play();\n//   } else {\n//     item.src_MP3.currentTime = 0;\n//     item.src_MP3.play();\n//   }\n// }\n\n\n \n// function gameSoundEffects(item) {\n//   if (audio.sound.canPlayType(\"audio/mpeg\")==\"probably\") {\n//     audio.sound.src= item.src_MP3;\n//   } else {\n//     audio.sound.src= item.src_OGG;\n//   }\n//   audio.sound.currentTime = 0;\n//   audio.sound.play();\n// }\n\n\n// function gameSoundEffects(item) {\n//   item.currentTime = 0;\n//   item.play();\n// }\n\n// For music\n// let isPlayed = false;\n// function gameSoundEffects(item) {\n//   if(!isPlayed)\n//   item.currentTime = 0;\n//   item.play();\n//   isPlayed = true;\n// }\n\n\n\n\n\n\n\n\n\n\nexport { audio, gameSoundEffects, getRandomTrack, playNextTrack, volumeEffects, volumeMusic }","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/index.js\");\nvar __webpack_exports__ = __webpack_require__(\"./src/sass/styles.scss\");\n",""],"names":["parseCollisitions","canvas","c","createImage","Sprite","Player","bulletController","audio","gameSoundEffects","getRandomTrack","playNextTrack","volumeEffects","volumeMusic","setVolume","sound","volume","window","addEventListener","fn","Platform","OneStep","Fan","JumpToggleActive","JumpToggleDisabled","PlatformOne","PlatformTwo","PlatformThree","DeadSignal","PlatformSpikes","Saw","FlamethrowerLeft","FlamethrowerRight","FlamethrowerUp","FlamethrowerDown","BulletController","Flamethrower","platformImgSrc300","heroIdleR","heroIdleL","heroRunR","heroRunL","heroJumpR","heroJumpL","heroFallR","heroFallL","heroDeath","backgroundImg","win","platformSolid","platformOneStep","platformOneStepExplosion","platformJump","platformJumpDisabled","platformOne","platformTwo","platformThree","platformOneDisabled","platformTwoDisabled","platformThreeDisabled","saw","fan","spike","deadSignalZone","deadSignalZoneHover","flamethrowerLeft","flamethrowerRight","flamethrowerUp","flamethrowerDown","brick_1","brick_2","keys","keyDownHandler","keyUpHandler","AdditionalElements","requestLevelMap","fontSize","height","mySPA","document","init","width","requestAnim","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","e","fullScreen","element","code","requestFullscreen","webkitrequestFullscreen","webkitRequestFullscreen","mozRequestFullscreen","mozRequestFullScreen","leftNeighboorBlockFromHeroArr","timerShoot_1","timerShoot_2","leftNeighboorBlockFromHero","completeLevel","additionalElements","level","increseLevel","obj","Object","length","platforms","levelMap","parsedCollisions","player","setLevelMap","value","console","log","createPlayer","map","forEach","row","index_Y","cell","index_X","margin","left","top","fireSoundInterval","delay","soundFire","fire","initStart","flamethrowerShootSoundIntervalInit","flamethrowerShootDelay","platform","type","some","track","pause","onended","reloadGameplay","restore","levelOverlay","velocity","y","alive","spaceToggleCounter","save","fillStyle","fillRect","drawImage","font","textBaseline","textAlign","style","letterSpacing","fillText","animate","draw","update","toggle","collision","shoot","filter","bottom","right","pressed","position","x","jumpHeight","gravity","lastPressed","currentSprite","sprites","idle","fallingInDepth2","jumpToggleActive","fireballUp","fireballDown","fireballLeft","fireballRight","constructor","posX","posY","image","loaded","finish","getElementById","getContext","Brick_1","Brick_2","Finish","push","sawTrap","sawTrap2","jump","up","space","isJumped","repeat","run","fall","url","callback_1","callback_2","callback_3","callback_4","callback_5","fetch","then","response","status","json","data","catch","err","error","CollisionBlock","marginLeft","arguments","undefined","marginTop","frames","frequency","statusActive","getType","collisionAbove","jumpOnSpaceToggledPlatform","collisionUnder","bottomHit","collisionLeftSide","collisionRightSide","disabled","temporaryPosX","hits","explosion","destroy","explosionBlock","SpaceToggledPlatform","setCount","checkSpaceToggleCounter","block","toggleDisabled","hover","intersection","_ref","death","die","checkCollisionsAxes_X","i","Math","abs","nextLevel","checkCollisionsAxes_Y","setGravity","View","myContainerBtns","myContainerShow","HomeComponent","id","title","render","className","HowToPlayComponent","SettingsComponent","DescriptionComponent","StartComponent","ErrorComponent","router","main","howtoplay","settings","description","game","default","container_btns","container_show","updateButtons","currentPage","menuLinks","querySelectorAll","state","link","getAttribute","classList","add","remove","renderContent","hashPageName","routeName","innerHTML","Model","myView","view","updateState","Controller","myContainer","myModel","container","model","location","hash","slice","toLowerCase","initBuildHtml","controller","app","createElement","body","prepend","bulletFlight","bulletSpeed","caliber","bullet_X","bullet_Y","bullets","timerTillNextBullet","flight_X","flight_Y","directionFlametrowerType","Bullet","bullet","isBulletOffScreen","index","indexOf","splice","collisionWithBlocks","collideWith","sprite","down","src","Image","onload","randomNumber","min","max","floor","random","blockHit_MP3","blockHit_OGG","bottomHit_MP3","bottomHit_OGG","choose_MP3","choose_OGG","explosionBlock_MP3","explosionBlock_OGG","fallingInDepth_MP3","fallingInDepth_OGG","fallingInDepth2_MP3","fallingInDepth2_OGG","fire_MP3","fire_OGG","heroDeath_MP3","heroDeath_OGG","jump_MP3","jump_OGG","jumpOnSpaceToggledPlatform_MP3","jumpOnSpaceToggledPlatform_OGG","nextLevel_MP3","nextLevel_OGG","ok_MP3","ok_OGG","select_MP3","select_OGG","teleport_MP3","teleport_OGG","toggle_MP3","toggle_OGG","toggleDisabled_MP3","toggleDisabled_OGG","error_MP3","error_OGG","track_1_MP3","track_1_OGG","track_2_MP3","track_2_OGG","track_3_MP3","track_3_OGG","track_4_MP3","track_4_OGG","isCanPlay","Audio","blockHit","src_MP3","src_OGG","choose","fallingInDepth","ok","select","teleport","track_1","track_2","track_3","track_4","source","canPlayType","mp3","ogg","play","item","currentTime","playlist","tracksList","includes","currentTrack","currentTrackNumber"],"sourceRoot":""}