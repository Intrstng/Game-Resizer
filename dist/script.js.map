{"version":3,"file":"script.js","mappings":"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","sources":["webpack://platform_traveller/./src/index.js","webpack://platform_traveller/./src/js/AdditionalElements.js","webpack://platform_traveller/./src/js/Assets.js","webpack://platform_traveller/./src/js/Canvas.js","webpack://platform_traveller/./src/js/CreateImage.js","webpack://platform_traveller/./src/js/Keys.js","webpack://platform_traveller/./src/js/Platform.js","webpack://platform_traveller/./src/js/Player.js","webpack://platform_traveller/./src/sass/styles.scss","webpack://platform_traveller/webpack/bootstrap","webpack://platform_traveller/webpack/runtime/define property getters","webpack://platform_traveller/webpack/runtime/hasOwnProperty shorthand","webpack://platform_traveller/webpack/runtime/make namespace object","webpack://platform_traveller/webpack/before-startup","webpack://platform_traveller/webpack/startup","webpack://platform_traveller/webpack/after-startup"],"sourcesContent":["// import './sass/styles.scss';\r\n\r\n// imagePlatform.onload = function getSizes () {\r\n//   imagePlatform.width = imagePlatform.naturalWidth;\r\n//   imagePlatform.height = imagePlatform.naturalHeight;\r\n//}\r\nimport { canvas, c, gravity } from './js/Canvas';\r\nimport { createImage } from './js/CreateImage';\r\nimport { Player } from './js/Player';\r\nimport { Platform, PlatformSpikes, Saw, OneStep } from './js/Platform';\r\nimport { platformImgSrc300,\r\n          heroIdleR,\r\n          heroIdleL,\r\n          heroRunR,\r\n          heroRunL,\r\n          heroJumpR,\r\n          heroJumpL,\r\n          heroFallR,\r\n          heroFallL,\r\n          backgroundImg,\r\n          platformSolid,\r\n          platformSpikes,\r\n          platformOneStep,\r\n          saw,\r\n        } from './js/Assets';\r\nimport { keys, keyDownHandler, keyUpHandler } from './js/Keys';\r\nimport { AdditionalElements } from './js/AdditionalElements';\r\n// import { init } from './js/Init';\r\n\r\n\r\n\r\ncanvas.width = 1024 // 1280 //window.innerWidth; // canvas.width = innerWidth;\r\ncanvas.height = 576 // 720 //window.innerHeight;\r\n\r\n\r\n\r\n\r\n\r\nexport let additionalElements = [\r\n  new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n]\r\n\r\n\r\nexport let platforms = [new Platform(210, 525, createImage(platformSolid, 36, 36)),\r\n                new Platform(330, 455, createImage(platformSolid, 36, 36)),\r\n                new Platform(250, 400, createImage(platformSolid, 36, 36)),\r\n                new Platform(400, 100, createImage(platformSolid, 36, 36))]; // создаем платформы\r\n\r\nexport let player = new Player();\r\n\r\n              let spikes = new PlatformSpikes(100, 415, createImage(platformSpikes, 36, 36))\r\n              // let sawTrap = new Saw(400, 415, createImage(saw, 36, 36))\r\n              export let sawTrap = new OneStep(360, 315, createImage(platformOneStep, 36, 36))\r\n              let sawTrap2 = new OneStep(400, 455, createImage(platformOneStep, 36, 36))\r\nexport function init() {\r\n  additionalElements = [new AdditionalElements(0, 0, createImage(backgroundImg, canvas.width, canvas.height))\r\n];\r\n\r\n  platforms = [new Platform(210, 455, createImage(platformSolid, 36, 36)),\r\n          new Platform(265, 420, createImage(platformSolid, 36, 36)),\r\n              new Platform(302, 455, createImage(platformSolid, 36, 36)),\r\n              new Platform(210, 280, createImage(platformSolid, 36, 36)),\r\n              new Platform(400, 200, createImage(platformSolid, 36, 36)),\r\n\r\n              new Platform(472, 455, createImage(platformSolid, 36, 36)),\r\n              new Platform(436, 455, createImage(platformSolid, 36, 36)), \r\n    spikes, sawTrap, sawTrap2      ]; // создаем платформы !!!!!!!!!!!!!\r\n  player = new Player();\r\n}                      \r\n\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  //c.clearRect(0, 0, canvas.width, canvas.height);\r\n  c.fillStyle = ('white');\r\n  c.fillRect(0, 0, canvas.width, canvas.height);\r\n  console.log('animation counter');\r\n\r\n  additionalElements.forEach(element => element.draw());\r\n\r\n                                    \r\n                                 \r\n\r\n  platforms.forEach(platform => platform.update()); // рисуем платформы\r\n  player.update();\r\n\r\n\r\n  if (keys.right.pressed && (player.position.x + player.width) <= canvas.width) { // упор персонажа в правый край экрана\r\n    player.velocity.x = 2;\r\n  } else if (keys.left.pressed && player.position.x >= 0) { // упор персонажа в левый край экрана\r\n    player.velocity.x = -2;\r\n  } else {\r\n    player.velocity.x = 0;\r\n  }\r\n\r\n  \r\n  platforms.forEach(platform => {\r\n    platform.collision();\r\n    // // Player - platform collision (player is above the platform)\r\n    // if (player.position.y + player.height <= platform.position.y &&\r\n    //     player.position.y + player.height + player.velocity.y >= platform.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n    //     // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n    //     player.position.x + player.width >= platform.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n    //     player.position.x <= platform.position.x + platform.width - player.width / 3) { \r\n    //       player.velocity.y = 0; // если касается земли\r\n    // }\r\n    // // Player - platform collision (player is under the platform)\r\n    // if (player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.y + player.height + player.velocity.y >= platform.position.y &&\r\n    //     player.position.x >= platform.position.x - player.width / 2 && // можно сделать 1.75\r\n    //     player.position.x + player.width <= platform.position.x + platform.width + player.width / 2) {\r\n    //       player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\r\n    // }\r\n    // // Player - platform collision (player is left from the platform and moves right)\r\n    // if (keys.right.pressed &&\r\n    //     player.position.y + player.height >= platform.position.y && \r\n    //     player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.x + player.width >= platform.position.x) {\r\n    //       player.velocity.x = 0;\r\n    //       console.log('hit!');\r\n    // } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\r\n    //   if (keys.right.pressed &&\r\n    //     player.position.y + player.height >= platform.position.y && \r\n    //     player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.x + player.width >= platform.position.x + platform.width) {\r\n    //       player.velocity.x = 2;\r\n    //       console.log('free!');\r\n    //   }\r\n    // // Player - platform collision (player is right from the platform and moves left)\r\n    // if (keys.left.pressed &&\r\n    //   player.position.y + player.height >= platform.position.y && \r\n    //   player.position.y <= platform.position.y + platform.height &&\r\n    //   player.position.x <= platform.position.x + platform.width) {\r\n    //     player.velocity.x = 0;\r\n    //     console.log('hit!');\r\n    // } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\r\n    //   if (keys.left.pressed &&\r\n    //     player.position.y + player.height >= platform.position.y && \r\n    //     player.position.y <= platform.position.y + platform.height &&\r\n    //     player.position.x + player.width <= platform.position.x) { // или \"-\" player.width ???\r\n    //       player.velocity.x = -2;\r\n    //       console.log('free!');\r\n    //   }\r\n  })\r\n        \r\n        \r\nif (player.velocity.y === 10 && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'right') { // 10 - когда персонаж на земле\r\n  player.currentSprite = player.sprites.idle.right;\r\n} else if (player.velocity.y === 10 && !keys.right.pressed && !keys.left.pressed && keys.lastPressed === 'left') { // 10 - когда персонаж на земле\r\n  player.currentSprite = player.sprites.idle.left;\r\n}\r\n\r\n\r\n    // Падение в пропасть (см. комментарии в player.update())\r\n      if (player.position.y > canvas.height) {\r\nsawTrap.restore();\r\nsawTrap2.restore();\r\n        init();\r\n        console.log('you lose')\r\n        // сюда вставить звук проигрыша\r\n      }\r\n\r\n}\r\ninit();\r\nanimate();\r\n\r\nwindow.addEventListener('keydown', keyDownHandler);\r\nwindow.addEventListener('keyup', keyUpHandler);\r\n\r\n\r\n\r\nwindow.addEventListener('click', (e) => {\r\n  console.log(e.clientX, e.clientY)\r\n   debugger\r\n})","import { canvas, c, gravity } from './Canvas';\r\n\r\nexport class AdditionalElements {\r\n  constructor (posX, posY, image) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY\r\n    }\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;   \r\n  }\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y)\r\n    // c.fillStyle = ('green');\r\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n}","const platformImgSrc300 = '../assets/img/platform.png';\r\nconst heroIdleR = '../assets/img/Idle_right.png';\r\nconst heroIdleL = '../assets/img/Idle_left.png';\r\nconst heroRunR = '../assets/img/Run_right.png';\r\nconst heroRunL = '../assets/img/Run_left.png';\r\nconst heroJumpR = '../assets/img/Jump_right.png';\r\nconst heroJumpL = '../assets/img/Jump_left.png';\r\nconst heroFallR = '../assets/img/Fall_right.png';\r\nconst heroFallL = '../assets/img/Fall_left.png';\r\nconst backgroundImg = '../assets/img/bg_2.jpg';\r\nconst platformSolid = '../assets/img/Platform_solid.png';\r\nconst platformSpikes = '../assets/img/Platform_spikes.png';\r\nconst platformOneStep = '../assets/img/Platform_oneStep_B_L.png';\r\n\r\nconst saw = '../assets/img/saw.png';\r\n\r\n\r\n// import platformImgSrc300 from '/assets/img/platform.png';\r\n// import heroIdleR from '/assets/img/Idle_right.png';\r\n// import heroIdleL from '/assets/img/Idle_left.png';\r\n// import heroRunR from '/assets/img/Run_right.png';\r\n// import heroRunL from '/assets/img/Run_left.png';\r\n// import heroJumpR from '/assets/img/Jump_right.png';\r\n// import heroJumpL from '/assets/img/Jump_left.png';\r\n// import heroFallR from '/assets/img/Fall_right.png';\r\n// import heroFallL from '/assets/img/Fall_left.png';\r\n// import backgroundImg from '/assets/img/bg_2.jpg';\r\n\r\nexport { platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        backgroundImg,\r\n        platformSolid,\r\n        platformSpikes,\r\n        platformOneStep,\r\n        saw,\r\n      }","const canvas = document.getElementById('canvas');\r\nconst c = canvas.getContext(\"2d\");\r\nconst gravity = 0.25;\r\n\r\nexport { canvas, c, gravity }","export function createImage(src, width, height) {\r\n  const image = new Image();\r\n  image.src = src;\r\n  image.width = width;\r\n  image.height = height;\r\n  return image;\r\n}","import { player } from '../index';\r\nimport { platforms } from '../index';\r\nimport { sawTrap } from '../index';\r\n\r\nconst keys = {\r\n  right: {\r\n    pressed: false\r\n  },\r\n  left: {\r\n    pressed: false\r\n  },\r\n  up: {\r\n    pressed: false\r\n  },\r\n  lastPressed: 'right',\r\n};\r\n                                                // let hiddenPlatformsArr = []\r\nconst keyDownHandler = (e) => {\r\n  console.log(e.code)\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp':\r\n        keys.up.pressed = true;\r\n        if (player.velocity.y === 0 && keys.lastPressed === 'right') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= 10;\r\n          player.currentSprite = player.sprites.jump.right;\r\n        } else if (player.velocity.y === 0 && keys.lastPressed === 'left') { // player.velocity.y === 0 - только один прыжок при нескольких нажатиях на UP\r\n          player.velocity.y -= 10;\r\n          player.currentSprite = player.sprites.jump.left;\r\n        }\r\n        break;\r\n\r\n      case 'Space': {\r\n        sawTrap.destroy();\r\n        // console.log('dd')\r\n        // arr = [...arr, ...platforms.splice(1,1)];\r\n        // console.log(arr)\r\n      }\r\n        break;\r\n\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = true;\r\n        keys.lastPressed = 'right';\r\n        player.currentSprite = player.sprites.run.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = true;\r\n        keys.lastPressed = 'left';\r\n        player.currentSprite = player.sprites.run.left;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nconst keyUpHandler = (e) => {\r\n  if (e.repeat == false) {\r\n    switch (e.code) {\r\n      case 'ArrowUp': \r\n        // player.velocity.y = 0;\r\n        keys.up.pressed = false;\r\n        // keys.up.pressed = true;\r\n        if (player.velocity.y !== 0 && keys.lastPressed === 'right') {\r\n          player.currentSprite = player.sprites.fall.right;\r\n        } else if (player.velocity.y !== 0 && keys.lastPressed === 'left') {\r\n          player.currentSprite = player.sprites.fall.left;\r\n        }\r\n        break;\r\n      // case 'ArrowDown': player.velocity.y = 0\r\n      //   break;\r\n      case 'ArrowRight': {\r\n        keys.right.pressed = false;\r\n        player.currentSprite = player.sprites.idle.right;\r\n      }\r\n        break;\r\n      case 'ArrowLeft': {\r\n        keys.left.pressed = false;\r\n        player.currentSprite = player.sprites.idle.left;\r\n      }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nexport { keys, keyDownHandler, keyUpHandler };","import { canvas, c, gravity } from './Canvas';\r\nimport { createImage } from './CreateImage';\r\nimport { platformImgSrc300,\r\n  heroIdleR,\r\n  heroIdleL,\r\n  heroRunR,\r\n  heroRunL,\r\n  heroJumpR,\r\n  heroJumpL,\r\n  heroFallR,\r\n  heroFallL,\r\n  backgroundImg,\r\n  platformSolid,\r\n  platformSpikes,\r\n  platformOneStep,\r\n  saw,\r\n} from './Assets';\r\nimport { keys } from './Keys';\r\nimport { player } from '../index';\r\nimport { init } from '../index';\r\n// export class Platform {\r\n//   constructor (posX, posY, image) {\r\n//     this.position = {\r\n//       x: posX,\r\n//       y: posY\r\n//     }\r\n//     this.image = image;\r\n//     this.width = image.width;\r\n//     this.height = image.height;  \r\n//   }\r\n//   draw() {\r\n//     c.drawImage(this.image, this.position.x, this.position.y)\r\n//     // c.fillStyle = ('green');\r\n//     // c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n//   }\r\n// }\r\n\r\nclass Platform {\r\n  constructor (posX, posY, image) {\r\n    this.position = {\r\n      x: posX,\r\n      y: posY\r\n    }\r\n    this.image = image;\r\n    this.width = image.width;\r\n    this.height = image.height;\r\n    this.frames = 0;\r\n    this.sprites = {\r\n      idle: this.image,\r\n    }\r\n    this.currentSprite = this.sprites.idle;\r\n    this.type = 'solid';\r\n  }\r\n  getType() {\r\n    return this.type;\r\n  }\r\n  draw() {\r\n    c.drawImage(this.currentSprite, 36 * this.frames, 0, 36, 36, this.position.x, this.position.y, this.width, this.height) // 48, 0, 48, 48 - player sprite crop (x, y, w, h) // 36 размер кадра в спрайте\r\n  }\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > 28) this.frames = 0;\r\n    this.draw();\r\n  }\r\n  collision() {\r\n     // Player - platform collision (player is above the platform)\r\n     if (player.position.y + player.height <= this.position.y &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.position.x + player.width - player.width / 4 > this.position.x  && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n      player.position.x <= this.position.x + this.width - player.width / 4) { \r\n        player.velocity.y = 0; // если касается земли\r\n  }\r\n  // Player - platform collision (player is under the platform)\r\n  if (player.position.y <= this.position.y + this.height &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n      player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n      player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n        player.velocity.y = 1;/* player.currentSprite = player.sprites.idle.right */\r\n  }\r\n\r\n  \r\n  // Player - platform collision (player is left from the platform and moves right)\r\n  if (keys.right.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x + player.width >= this.position.x) {\r\n        player.velocity.x = 0;\r\n        console.log('hit!');\r\n  } // Continue: Player - platform collision (player holds right and is right from the platform - so he cans move)\r\n    if (keys.right.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x + player.width >= this.position.x + this.width) {\r\n        player.velocity.x = 2;\r\n        console.log('free!');\r\n    }\r\n  // Player - platform collision (player is right from the platform and moves left)\r\n  if (keys.left.pressed &&\r\n    player.position.y + player.height >= this.position.y && \r\n    player.position.y <= this.position.y + this.height &&\r\n    player.position.x <= this.position.x + this.width) {\r\n      player.velocity.x = 0;\r\n      console.log('hit!');\r\n  } // Continue: Player - platform collision (player holds left and is left from the platform - so he cans move)\r\n    if (keys.left.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x /* + player.width */ <= this.position.x) { // или \"-\" player.width ???\r\n        player.velocity.x = -2;\r\n        console.log('free!');\r\n    }\r\n  }\r\n}\r\n\r\nclass PlatformSpikes extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'spikes';\r\n  }\r\n  collision() {\r\n         // Player - platform collision (player is above the spike platform)\r\n         if (player.position.y + player.height <= this.position.y &&\r\n          player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n          // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n          player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж погибал касаясь самого края платформы (без этого он еще погибал не доходя трети ширины спрайта героя)\r\n          player.position.x <= this.position.x + this.width - player.width / 3) { \r\n            // player.velocity.y = 0; // если касается шипов сверху\r\ninit();\r\n      }\r\n      // Player - platform collision (player is under the platform)\r\n      if (player.position.y <= this.position.y + this.height &&\r\n          player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n          player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n          player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\ninit();\r\n      }\r\n  }\r\n}\r\n\r\nclass Saw extends PlatformSpikes {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'saw';\r\n  }\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > 23) this.frames = 0;\r\n    this.draw();\r\n  }\r\n}\r\n\r\n\r\nclass OneStep extends Platform {\r\n  constructor(posX, posY, image) {\r\n    super(posX, posY, image);\r\n    this.type = 'oneStep';\r\n    this.temporaryPosX = posX;\r\n    this.hits = 0;\r\n  }\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > 23) this.frames = 0;\r\n    this.draw();\r\n  }\r\n  destroy() {\r\n    setTimeout(() => this.position.x = -9999, 550);\r\n    this.hits = 0;\r\n  } \r\n  restore() {\r\n    this.position.x = this.temporaryPosX;\r\n  }\r\n  collision() {\r\n    console.log(player.velocity.y)\r\n    console.log(this.position.y)\r\n    console.log(this.position.y)\r\n    console.log(player.width)\r\n// Player - platform collision (player is above the platform)\r\n// And moves right and leaves the platform\r\nif ((!keys.up.pressed && player.velocity.y === 0 || !keys.up.pressed && player.velocity.y === gravity) &&\r\n      player.position.y + player.height <= this.position.y &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n      (player.position.x + player.width * 2 >= this.position.x && player.position.x <= this.position.x + this.width)\r\n) {\r\n  this.destroy(); \r\n}\r\n// Не нужен но надо оставить, иначе блок пропадает сразу же\r\n     if (keys.up.pressed && player.velocity.y != 0 &&\r\n      player.position.y + player.height <= this.position.y &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n      // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n      player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n      player.position.x <= this.position.x + this.width - player.width / 3) { \r\n        player.velocity.y = 0; // если касается земли\r\nconsole.log('player.position.y', player.position.y);\r\n  this.destroy();\r\n  } else if (!keys.up.pressed &&\r\n    player.position.y + player.height <= this.position.y &&\r\n    player.position.y + player.height + player.velocity.y >= this.position.y && // без && player.position.y + player.height + player.velocity.y >= platform.position.y персонаж перестает двигаться когда над платформой\r\n    // Player - platform collision (player on the platform - inside of left and right platform boundaries)\r\n    player.position.x + player.width >= this.position.x + player.width / 3 && // + player.width / 3 - поправка чтобы персонаж падал прямо с самого края платформы (без этого он еще выступал на ширину трети спрайта героя)\r\n    player.position.x <= this.position.x + this.width - player.width / 3) { \r\n      player.velocity.y = 0; // если касается земли\r\nconsole.log('keys.up.pressed');\r\n}\r\n\r\n\r\n\r\n  // Player - platform collision (player is under the platform)\r\n  if (player.position.y <= this.position.y + this.height &&\r\n      player.position.y + player.height + player.velocity.y >= this.position.y &&\r\n      player.position.x >= this.position.x - player.width / 2 && // можно сделать 1.75\r\n      player.position.x + player.width <= this.position.x + this.width + player.width / 2) {\r\n        player.velocity.y = 1;\r\n        this.destroy();\r\n  }\r\n  // Player - platform collision (player is left from the platform)\r\n  if (keys.right.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x + player.width >= this.position.x &&\r\n      !(player.position.x >= this.position.x)) { // player is left from the platform and moves right\r\n        this.hits++;\r\n        keys.right.pressed = false;\r\n        player.currentSprite = player.sprites.fall.right;\r\n        player.velocity.x -= 15;\r\n        this.hits === 1 && this.destroy();\r\n  }\r\n  // Player - platform collision (player is right from the platform)\r\n  if (keys.left.pressed &&\r\n      player.position.y + player.height >= this.position.y && \r\n      player.position.y <= this.position.y + this.height &&\r\n      player.position.x <= this.position.x + this.width &&\r\n      !(player.position.x + player.width <= this.position.x)) { // player is right from the platform and moves left\r\n        this.hits++;\r\n        keys.left.pressed = false;\r\n        player.currentSprite = player.sprites.fall.left;\r\n        player.velocity.x += 15;\r\n        this.hits === 1 && this.destroy();\r\n  } \r\n  }\r\n}\r\n\r\nexport { Platform, PlatformSpikes, Saw, OneStep }","import { canvas, c, gravity } from './Canvas';\r\nimport { createImage } from './CreateImage';\r\nimport { platformImgSrc300,\r\n        heroIdleR,\r\n        heroIdleL,\r\n        heroRunR,\r\n        heroRunL,\r\n        heroJumpR,\r\n        heroJumpL,\r\n        heroFallR,\r\n        heroFallL,\r\n        backgroundImg,\r\n        platformSolid,\r\n        platformSpikes,\r\n        platformOneStep,\r\n        saw,\r\n      } from '../js/Assets';\r\n\r\nexport class Player {\r\n  constructor() {\r\n    this.position = {\r\n      x: 200,\r\n      y: canvas.height / 2\r\n    }\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 1 \r\n    }\r\n    this.width = 32;\r\n    this.height = 32;\r\n\r\n    //this.image = createImage(heroIdleR, 32, 32);\r\n    this.frames = 0;\r\n    this.sprites = {\r\n      idle: {\r\n        right: createImage(heroIdleR, 32, 32),\r\n        left: createImage(heroIdleL, 32, 32),\r\n      },\r\n      run: {\r\n        right: createImage(heroRunR, 32, 32),\r\n        left: createImage(heroRunL, 32, 32),\r\n      },\r\n      jump: {\r\n        right: createImage(heroJumpR, 32, 32),\r\n        left: createImage(heroJumpL, 32, 32),\r\n      },\r\n      fall: {\r\n        right: createImage(heroFallR, 32, 32),\r\n        left: createImage(heroFallL, 32, 32),\r\n      },\r\n    }\r\n    this.currentSprite = this.sprites.idle.right;\r\n  }\r\n\r\n  draw() {\r\n    // c.fillStyle = ('red');\r\n    // c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n    c.drawImage(this.currentSprite, 32 * this.frames, 0, 32, 32, this.position.x, this.position.y, this.width, this.height) // 32, 0, 32, 32 - player sprite crop (x, y, w, h)\r\n  }\r\n\r\n  update() {\r\n    this.frames++;\r\n    if (this.frames > 21) this.frames = 0;\r\n    this.draw();\r\n    this.position.y += this.velocity.y;\r\n    this.position.x += this.velocity.x;\r\n    \r\n    if (this.position.y + this.height + this.velocity.y <= canvas.height) {\r\n      this.velocity.y += gravity;\r\n    } \r\n    // else { // если это оставить персонаж не покинет экран при касании нижней границы экрана\r\n    //   this.velocity.y = 0;\r\n    // }\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(\"./src/index.js\");\nvar __webpack_exports__ = __webpack_require__(\"./src/sass/styles.scss\");\n",""],"names":["canvas","c","gravity","createImage","Player","Platform","PlatformSpikes","Saw","OneStep","platformImgSrc300","heroIdleR","heroIdleL","heroRunR","heroRunL","heroJumpR","heroJumpL","heroFallR","heroFallL","backgroundImg","platformSolid","platformSpikes","platformOneStep","saw","keys","keyDownHandler","keyUpHandler","AdditionalElements","width","height","additionalElements","platforms","player","spikes","sawTrap","sawTrap2","init","animate","requestAnimationFrame","fillStyle","fillRect","console","log","forEach","element","draw","platform","update","right","pressed","position","x","velocity","left","collision","y","lastPressed","currentSprite","sprites","idle","restore","window","addEventListener","e","clientX","clientY","constructor","posX","posY","image","drawImage","document","getElementById","getContext","src","Image","up","code","repeat","jump","destroy","run","fall","frames","type","getType","temporaryPosX","hits","setTimeout"],"sourceRoot":""}